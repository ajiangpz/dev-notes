[
  {
    "title": "使用 Canvas 绘制图片并添加对比色文本",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "markdown",
      "code",
      "features"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "### 在 React 中使用 Canvas 绘制图片并添加对比色文本\n\n在这篇博客中，我们将学习如何在 React 中使用 Canvas 绘制图片、处理图片数据，并根据图片的顶部颜色生成对比色，以便在图片顶部添加清晰易读的文字。这个项目适合对前端图形处理和 Canvas 有兴趣的开发者，特别是那些需要在项目中应用图像处理和文字叠加的场景。\n\n### 需求分析\n\n我们希望实现以下几个功能：\n\n1.  **加载和绘制图片**：在 Canvas 中加载一张图片并将其绘制出来。\n2.  **获取图片顶部的平均颜色**：提取图片顶部区域的颜色数据，计算平均颜色值。\n3.  **生成对比色**：根据顶部颜色生成一个对比色（黑色或白色），使其与顶部颜色形成明显对比。\n4.  **绘制文字**：在图片顶部使用对比色绘制一段文字，以确保文字清晰可读。\n\n### 技术点\n\n*   **Canvas API**：用于图像绘制和图像数据处理。\n*   **React Hooks**：使用 `useRef` 和 `useEffect` 管理 Canvas 和异步操作。\n*   **对比色计算**：通过亮度计算来确定文本的最佳对比色。\n\n### 实现步骤\n\n#### 1. 创建项目结构\n\n在 React 项目中创建一个新的组件文件 `Page.tsx`  ，并定义基本结构：\n\n```typescript\n\"use client\";\nimport React, { useEffect, useRef } from \"react\";\n```\n\n#### 2. 加载图片并绘制到 Canvas\n\n我们先定义一个 `loadImage` 函数，用于从 URL 加载图片并返回 `HTMLImageElement`。在图片加载完成后，我们可以使用 `canvas.getContext(\"2d\").drawImage()` 将图片绘制到 Canvas 上：\n\n```typescript\nfunction loadImage(url: string) {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const img = new Image();\n        img.crossOrigin = \"anonymous\";\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.src = url;\n    });\n}\n```\n\n#### 3. 获取图片顶部的平均颜色\n\n接下来，我们提取图片顶部的颜色数据，并计算其平均颜色。我们可以取图片顶部 10% 的高度作为样本区域：\n\n```typescript\nfunction getTopColor(imageData: ImageData) {\n    const { data, width, height } = imageData;\n    const topHeight = Math.floor(height * 0.1);\n\n    let rTotal = 0, gTotal = 0, bTotal = 0, pixelCount = 0;\n\n    for (let y = 0; y < topHeight; y++) {\n        for (let x = 0; x < width; x++) {\n            const index = (y * width + x) * 4;\n            rTotal += data[index];\n            gTotal += data[index + 1];\n            bTotal += data[index + 2];\n            pixelCount++;\n        }\n    }\n\n    const rAvg = rTotal / pixelCount;\n    const gAvg = gTotal / pixelCount;\n    const bAvg = bTotal / pixelCount;\n\n    return { r: Math.round(rAvg), g: Math.round(gAvg), b: Math.round(bAvg) };\n}\n```\n\n#### 4. 根据顶部颜色生成对比色\n\n为了确保文字在图片上具有清晰的对比度，我们可以根据顶部颜色的亮度来选择对比色。亮度公式如下：\n\n$$ brightness  = 0.299 \\times R + 0.587 \\times G + 0.114 \\times B $$\n\n\n如果亮度较高，则使用黑色作为对比色；如果亮度较低，则使用白色。代码如下：\n\n```typescript\nfunction getContrastColor({ r, g, b }: { r: number; g: number; b: number }) {\n    const brightness = 0.299 * r + 0.587 * g + 0.114 * b;\n    return brightness > 128 ? 'black' : 'white';\n}\n```\n\n#### 5. 使用对比色绘制文本\n\n现在我们可以将文字绘制到 Canvas 的顶部区域，并使用对比色确保文字清晰可见。\n\n```typescript\nexport default function Page() {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    useEffect(() => {\n        (async function () {\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n\n            const context = canvas.getContext(\"2d\");\n            const img = await loadImage(\"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\");\n\n            canvas.width = img.width;\n            canvas.height = img.height;\n\n            const imageData = context?.getImageData(0, 0, img.width, img.height);\n            if (!imageData) return;\n\n            const topColor = getTopColor(imageData);\n            const contrastColor = getContrastColor(topColor);\n\n            context.putImageData(imageData, 0, 0);\n\n            // 设置文本样式并绘制到顶部\n            context.font = \"24px Arial\";\n            context.fillStyle = contrastColor;\n            context.textAlign = \"center\";\n            context.fillText(\"Sample Text at Top\", canvas.width / 2, 30);\n        })();\n    }, []);\n\n    return (\n        <div>\n            <canvas id=\"canvas\" ref={canvasRef}></canvas>\n        </div>\n    );\n}\n```\n\n### 6. 整体效果展示\n\n在以上代码中，我们已经将图片绘制到 Canvas，并在图片顶部添加了一段带有对比色的文字。\n\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/04f3dbca16604743851f746364d2ad1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734227728&x-orig-sign=9kaHDN838ZNoC4m8ZMsnsiRj8mI%3D)\n\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/1a302f1a77304c6e93b317e31a2c2b2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734227728&x-orig-sign=8NuyTjfJMUAS%2FYCNDzBAGMG4%2Frw%3D)\n\n### 总结\n\n在这篇博客中，我们展示了如何在 React 中使用 Canvas 来加载和处理图像，并根据图像顶部颜色生成对比色用于文本显示。通过这种方式，我们可以在图片上生成清晰的文字效果，使文字与背景形成良好对比。这种技术适用于各种图像叠加应用场景，尤其是在创建水印或提示文字时。\n\n通过使用 Canvas 的 `getImageData` 和 `putImageData`，我们不仅能够处理图像的颜色和亮度，还可以实现更丰富的图像处理效果。这种方法为前端图像处理提供了一个强大的工具，让我们能够在应用中呈现更多的视觉效果。\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),w=(e,a)=>{for(var s in a)l(e,s,{get:a[s],enumerable:!0})},i=(e,a,s,t)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let c of N(a))!k.call(e,c)&&c!==s&&l(e,c,{get:()=>a[c],enumerable:!(t=m(a,c))||t.enumerable});return e};var y=(e,a,s)=>(s=e!=null?h(u(e)):{},i(a||!e||!e.__esModule?l(s,\"default\",{value:e,enumerable:!0}):s,e)),x=e=>i(l({},\"__esModule\",{value:!0}),e);var r=g((M,o)=>{o.exports=_jsx_runtime});var v={};w(v,{default:()=>d,frontmatter:()=>f});var n=y(r()),f={title:\"\\u4F7F\\u7528 Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\",date:\"2016-03-08\",tags:[\"markdown\",\"code\",\"features\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function p(e){let a={a:\"a\",annotation:\"annotation\",code:\"code\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",math:\"math\",mi:\"mi\",mn:\"mn\",mo:\"mo\",mrow:\"mrow\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",semantics:\"semantics\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u5728-react-\\u4E2D\\u4F7F\\u7528-canvas-\\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u5728-react-\\u4E2D\\u4F7F\\u7528-canvas-\\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5728 React \\u4E2D\\u4F7F\\u7528 Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u5982\\u4F55\\u5728 React \\u4E2D\\u4F7F\\u7528 Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u3001\\u5904\\u7406\\u56FE\\u7247\\u6570\\u636E\\uFF0C\\u5E76\\u6839\\u636E\\u56FE\\u7247\\u7684\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\\uFF0C\\u4EE5\\u4FBF\\u5728\\u56FE\\u7247\\u9876\\u90E8\\u6DFB\\u52A0\\u6E05\\u6670\\u6613\\u8BFB\\u7684\\u6587\\u5B57\\u3002\\u8FD9\\u4E2A\\u9879\\u76EE\\u9002\\u5408\\u5BF9\\u524D\\u7AEF\\u56FE\\u5F62\\u5904\\u7406\\u548C Canvas \\u6709\\u5174\\u8DA3\\u7684\\u5F00\\u53D1\\u8005\\uFF0C\\u7279\\u522B\\u662F\\u90A3\\u4E9B\\u9700\\u8981\\u5728\\u9879\\u76EE\\u4E2D\\u5E94\\u7528\\u56FE\\u50CF\\u5904\\u7406\\u548C\\u6587\\u5B57\\u53E0\\u52A0\\u7684\\u573A\\u666F\\u3002\"}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u9700\\u6C42\\u5206\\u6790\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u9700\\u6C42\\u5206\\u6790\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9700\\u6C42\\u5206\\u6790\"]}),(0,n.jsx)(a.p,{children:\"\\u6211\\u4EEC\\u5E0C\\u671B\\u5B9E\\u73B0\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u529F\\u80FD\\uFF1A\"}),(0,n.jsxs)(a.ol,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u52A0\\u8F7D\\u548C\\u7ED8\\u5236\\u56FE\\u7247\"}),\"\\uFF1A\\u5728 Canvas \\u4E2D\\u52A0\\u8F7D\\u4E00\\u5F20\\u56FE\\u7247\\u5E76\\u5C06\\u5176\\u7ED8\\u5236\\u51FA\\u6765\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\"}),\"\\uFF1A\\u63D0\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u533A\\u57DF\\u7684\\u989C\\u8272\\u6570\\u636E\\uFF0C\\u8BA1\\u7B97\\u5E73\\u5747\\u989C\\u8272\\u503C\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\"}),\"\\uFF1A\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u4E00\\u4E2A\\u5BF9\\u6BD4\\u8272\\uFF08\\u9ED1\\u8272\\u6216\\u767D\\u8272\\uFF09\\uFF0C\\u4F7F\\u5176\\u4E0E\\u9876\\u90E8\\u989C\\u8272\\u5F62\\u6210\\u660E\\u663E\\u5BF9\\u6BD4\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u7ED8\\u5236\\u6587\\u5B57\"}),\"\\uFF1A\\u5728\\u56FE\\u7247\\u9876\\u90E8\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u4E00\\u6BB5\\u6587\\u5B57\\uFF0C\\u4EE5\\u786E\\u4FDD\\u6587\\u5B57\\u6E05\\u6670\\u53EF\\u8BFB\\u3002\"]})]}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u6280\\u672F\\u70B9\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u6280\\u672F\\u70B9\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6280\\u672F\\u70B9\"]}),(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"Canvas API\"}),\"\\uFF1A\\u7528\\u4E8E\\u56FE\\u50CF\\u7ED8\\u5236\\u548C\\u56FE\\u50CF\\u6570\\u636E\\u5904\\u7406\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"React Hooks\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:\"useRef\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u7BA1\\u7406 Canvas \\u548C\\u5F02\\u6B65\\u64CD\\u4F5C\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u5BF9\\u6BD4\\u8272\\u8BA1\\u7B97\"}),\"\\uFF1A\\u901A\\u8FC7\\u4EAE\\u5EA6\\u8BA1\\u7B97\\u6765\\u786E\\u5B9A\\u6587\\u672C\\u7684\\u6700\\u4F73\\u5BF9\\u6BD4\\u8272\\u3002\"]})]}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u5B9E\\u73B0\\u6B65\\u9AA4\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u5B9E\\u73B0\\u6B65\\u9AA4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5B9E\\u73B0\\u6B65\\u9AA4\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"1-\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#1-\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728 React \\u9879\\u76EE\\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u7EC4\\u4EF6\\u6587\\u4EF6 \",(0,n.jsx)(a.code,{children:\"Page.tsx\"}),\" \\uFF0C\\u5E76\\u5B9A\\u4E49\\u57FA\\u672C\\u7ED3\\u6784\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"2-\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u7ED8\\u5236\\u5230-canvas\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#2-\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u7ED8\\u5236\\u5230-canvas\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u7ED8\\u5236\\u5230 Canvas\"]}),(0,n.jsxs)(a.p,{children:[\"\\u6211\\u4EEC\\u5148\\u5B9A\\u4E49\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u4ECE URL \\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u8FD4\\u56DE \",(0,n.jsx)(a.code,{children:\"HTMLImageElement\"}),\"\\u3002\\u5728\\u56FE\\u7247\\u52A0\\u8F7D\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:'canvas.getContext(\"2d\").drawImage()'}),\" \\u5C06\\u56FE\\u7247\\u7ED8\\u5236\\u5230 Canvas \\u4E0A\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"url\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsxs)(a.span,{className:\"token class-name\",children:[(0,n.jsx)(a.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"resolve\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Image\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"crossOrigin \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"anonymous\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onload\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"resolve\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"onerror \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"src \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" url\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"3-\\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#3-\\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\"]}),(0,n.jsx)(a.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u63D0\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u989C\\u8272\\u6570\\u636E\\uFF0C\\u5E76\\u8BA1\\u7B97\\u5176\\u5E73\\u5747\\u989C\\u8272\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u53D6\\u56FE\\u7247\\u9876\\u90E8 10% \\u7684\\u9AD8\\u5EA6\\u4F5C\\u4E3A\\u6837\\u672C\\u533A\\u57DF\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getTopColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" ImageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" height \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" topHeight \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"floor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"height \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" rTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" gTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" bTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" pixelCount \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" y \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" y \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\" topHeight\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" y\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" x \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" x \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\" width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" x\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" index \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"y \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" x\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"4\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            rTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"index\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            gTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"index \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            bTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"index \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            pixelCount\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" rAvg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" rTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" pixelCount\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" gAvg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" pixelCount\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" bAvg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" bTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" pixelCount\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" r\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"round\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"rAvg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" g\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"round\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gAvg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" b\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"round\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"bAvg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"4-\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#4-\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4. \\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\"]}),(0,n.jsx)(a.p,{children:\"\\u4E3A\\u4E86\\u786E\\u4FDD\\u6587\\u5B57\\u5728\\u56FE\\u7247\\u4E0A\\u5177\\u6709\\u6E05\\u6670\\u7684\\u5BF9\\u6BD4\\u5EA6\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u7684\\u4EAE\\u5EA6\\u6765\\u9009\\u62E9\\u5BF9\\u6BD4\\u8272\\u3002\\u4EAE\\u5EA6\\u516C\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(a.p,{children:(0,n.jsxs)(a.span,{className:\"katex\",translate:\"no\",children:[(0,n.jsx)(a.span,{className:\"katex-mathml\",children:(0,n.jsx)(a.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:\"b\"}),(0,n.jsx)(a.mi,{children:\"r\"}),(0,n.jsx)(a.mi,{children:\"i\"}),(0,n.jsx)(a.mi,{children:\"g\"}),(0,n.jsx)(a.mi,{children:\"h\"}),(0,n.jsx)(a.mi,{children:\"t\"}),(0,n.jsx)(a.mi,{children:\"n\"}),(0,n.jsx)(a.mi,{children:\"e\"}),(0,n.jsx)(a.mi,{children:\"s\"}),(0,n.jsx)(a.mi,{children:\"s\"}),(0,n.jsx)(a.mo,{children:\"=\"}),(0,n.jsx)(a.mn,{children:\"0.299\"}),(0,n.jsx)(a.mo,{children:\"\\xD7\"}),(0,n.jsx)(a.mi,{children:\"R\"}),(0,n.jsx)(a.mo,{children:\"+\"}),(0,n.jsx)(a.mn,{children:\"0.587\"}),(0,n.jsx)(a.mo,{children:\"\\xD7\"}),(0,n.jsx)(a.mi,{children:\"G\"}),(0,n.jsx)(a.mo,{children:\"+\"}),(0,n.jsx)(a.mn,{children:\"0.114\"}),(0,n.jsx)(a.mo,{children:\"\\xD7\"}),(0,n.jsx)(a.mi,{children:\"B\"})]}),(0,n.jsx)(a.annotation,{encoding:\"application/x-tex\",children:\"brightness = 0.299 \\\\times R + 0.587 \\\\times G + 0.114 \\\\times B\"})]})})}),(0,n.jsxs)(a.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".8889em\",verticalAlign:\"-.1944em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"b\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".02778em\"},children:\"r\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"i\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".03588em\"},children:\"g\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"h\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"t\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"n\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"ess\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2778em\"}}),(0,n.jsx)(a.span,{className:\"mrel\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2778em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7278em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord\",children:\"0.299\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"\\xD7\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7667em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".00773em\"},children:\"R\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"+\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7278em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord\",children:\"0.587\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"\\xD7\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7667em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"G\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"+\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7278em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord\",children:\"0.114\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"\\xD7\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".6833em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".05017em\"},children:\"B\"})]})]})]})}),(0,n.jsx)(a.p,{children:\"\\u5982\\u679C\\u4EAE\\u5EA6\\u8F83\\u9AD8\\uFF0C\\u5219\\u4F7F\\u7528\\u9ED1\\u8272\\u4F5C\\u4E3A\\u5BF9\\u6BD4\\u8272\\uFF1B\\u5982\\u679C\\u4EAE\\u5EA6\\u8F83\\u4F4E\\uFF0C\\u5219\\u4F7F\\u7528\\u767D\\u8272\\u3002\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getContrastColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" r\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" g\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" b \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" r\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" g\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" b\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" brightness \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.299\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" r \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.587\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" g \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.114\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" b\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" brightness \",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"128\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:\"'black'\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:\"'white'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"5-\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u6587\\u672C\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#5-\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u6587\\u672C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"5. \\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u6587\\u672C\"]}),(0,n.jsx)(a.p,{children:\"\\u73B0\\u5728\\u6211\\u4EEC\\u53EF\\u4EE5\\u5C06\\u6587\\u5B57\\u7ED8\\u5236\\u5230 Canvas \\u7684\\u9876\\u90E8\\u533A\\u57DF\\uFF0C\\u5E76\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u786E\\u4FDD\\u6587\\u5B57\\u6E05\\u6670\\u53EF\\u89C1\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token generic-function\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(a.span,{className:\"token class-name generic\",children:[(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" context \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" imageData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" context\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?.\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" topColor \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getTopColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" contrastColor \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getContrastColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"topColor\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"putImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u6587\\u672C\\u6837\\u5F0F\\u5E76\\u7ED8\\u5236\\u5230\\u9876\\u90E8\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"font \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"24px Arial\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"fillStyle \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" contrastColor\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"textAlign \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"center\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"fillText\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"Sample Text at Top\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"30\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"6-\\u6574\\u4F53\\u6548\\u679C\\u5C55\\u793A\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#6-\\u6574\\u4F53\\u6548\\u679C\\u5C55\\u793A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"6. \\u6574\\u4F53\\u6548\\u679C\\u5C55\\u793A\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u4EE5\\u4E0A\\u4EE3\\u7801\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5DF2\\u7ECF\\u5C06\\u56FE\\u7247\\u7ED8\\u5236\\u5230 Canvas\\uFF0C\\u5E76\\u5728\\u56FE\\u7247\\u9876\\u90E8\\u6DFB\\u52A0\\u4E86\\u4E00\\u6BB5\\u5E26\\u6709\\u5BF9\\u6BD4\\u8272\\u7684\\u6587\\u5B57\\u3002\"}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/04f3dbca16604743851f746364d2ad1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734227728&x-orig-sign=9kaHDN838ZNoC4m8ZMsnsiRj8mI%3D\"})}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/1a302f1a77304c6e93b317e31a2c2b2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734227728&x-orig-sign=8NuyTjfJMUAS%2FYCNDzBAGMG4%2Frw%3D\"})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u603B\\u7ED3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u603B\\u7ED3\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C55\\u793A\\u4E86\\u5982\\u4F55\\u5728 React \\u4E2D\\u4F7F\\u7528 Canvas \\u6765\\u52A0\\u8F7D\\u548C\\u5904\\u7406\\u56FE\\u50CF\\uFF0C\\u5E76\\u6839\\u636E\\u56FE\\u50CF\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\\u7528\\u4E8E\\u6587\\u672C\\u663E\\u793A\\u3002\\u901A\\u8FC7\\u8FD9\\u79CD\\u65B9\\u5F0F\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728\\u56FE\\u7247\\u4E0A\\u751F\\u6210\\u6E05\\u6670\\u7684\\u6587\\u5B57\\u6548\\u679C\\uFF0C\\u4F7F\\u6587\\u5B57\\u4E0E\\u80CC\\u666F\\u5F62\\u6210\\u826F\\u597D\\u5BF9\\u6BD4\\u3002\\u8FD9\\u79CD\\u6280\\u672F\\u9002\\u7528\\u4E8E\\u5404\\u79CD\\u56FE\\u50CF\\u53E0\\u52A0\\u5E94\\u7528\\u573A\\u666F\\uFF0C\\u5C24\\u5176\\u662F\\u5728\\u521B\\u5EFA\\u6C34\\u5370\\u6216\\u63D0\\u793A\\u6587\\u5B57\\u65F6\\u3002\"}),(0,n.jsxs)(a.p,{children:[\"\\u901A\\u8FC7\\u4F7F\\u7528 Canvas \\u7684 \",(0,n.jsx)(a.code,{children:\"getImageData\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"putImageData\"}),\"\\uFF0C\\u6211\\u4EEC\\u4E0D\\u4EC5\\u80FD\\u591F\\u5904\\u7406\\u56FE\\u50CF\\u7684\\u989C\\u8272\\u548C\\u4EAE\\u5EA6\\uFF0C\\u8FD8\\u53EF\\u4EE5\\u5B9E\\u73B0\\u66F4\\u4E30\\u5BCC\\u7684\\u56FE\\u50CF\\u5904\\u7406\\u6548\\u679C\\u3002\\u8FD9\\u79CD\\u65B9\\u6CD5\\u4E3A\\u524D\\u7AEF\\u56FE\\u50CF\\u5904\\u7406\\u63D0\\u4F9B\\u4E86\\u4E00\\u4E2A\\u5F3A\\u5927\\u7684\\u5DE5\\u5177\\uFF0C\\u8BA9\\u6211\\u4EEC\\u80FD\\u591F\\u5728\\u5E94\\u7528\\u4E2D\\u5448\\u73B0\\u66F4\\u591A\\u7684\\u89C6\\u89C9\\u6548\\u679C\\u3002\"]})]})}function d(e={}){let{wrapper:a}=e.components||{};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}return x(v);})();\n;return Component;"
    },
    "_id": "articles/canvas/canvas-constract.mdx",
    "_raw": {
      "sourceFilePath": "articles/canvas/canvas-constract.mdx",
      "sourceFileName": "canvas-constract.mdx",
      "sourceFileDir": "articles/canvas",
      "contentType": "mdx",
      "flattenedPath": "articles/canvas/canvas-constract"
    },
    "type": "Blog",
    "readingTime": {
      "text": "6 min read",
      "minutes": 5.76,
      "time": 345600,
      "words": 1152
    },
    "slug": "canvas/canvas-constract",
    "path": "articles/canvas/canvas-constract",
    "filePath": "articles/canvas/canvas-constract.mdx",
    "toc": [
      {
        "value": "在 React 中使用 Canvas 绘制图片并添加对比色文本",
        "url": "#在-react-中使用-canvas-绘制图片并添加对比色文本",
        "depth": 3
      },
      {
        "value": "需求分析",
        "url": "#需求分析",
        "depth": 3
      },
      {
        "value": "技术点",
        "url": "#技术点",
        "depth": 3
      },
      {
        "value": "实现步骤",
        "url": "#实现步骤",
        "depth": 3
      },
      {
        "value": "1. 创建项目结构",
        "url": "#1-创建项目结构",
        "depth": 4
      },
      {
        "value": "2. 加载图片并绘制到 Canvas",
        "url": "#2-加载图片并绘制到-canvas",
        "depth": 4
      },
      {
        "value": "3. 获取图片顶部的平均颜色",
        "url": "#3-获取图片顶部的平均颜色",
        "depth": 4
      },
      {
        "value": "4. 根据顶部颜色生成对比色",
        "url": "#4-根据顶部颜色生成对比色",
        "depth": 4
      },
      {
        "value": "5. 使用对比色绘制文本",
        "url": "#5-使用对比色绘制文本",
        "depth": 4
      },
      {
        "value": "6. 整体效果展示",
        "url": "#6-整体效果展示",
        "depth": 3
      },
      {
        "value": "总结",
        "url": "#总结",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 Canvas 绘制图片并添加对比色文本",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/canvas/canvas-constract"
    }
  },
  {
    "title": "使用 canvas 实现灰度化图片",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "canvas",
      "react",
      "features"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "\n### React 和 Canvas: 使用 ImageData 处理图片灰度化效果\n\n在这篇博客中，我们将创建一个简单的 React 应用程序，通过 Canvas 和 `ImageData` 对图片进行灰度化处理。具体来说，我们将加载图片，将其绘制在 Canvas 上，提取图片数据，然后遍历和修改像素数据实现灰度效果。\n\n#### 步骤 1：项目准备\n\n首先，创建一个新的 React 组件，在项目文件夹下创建一个 `Page.tsx` 文件，将会在该组件中完成图片的处理工作。代码的整体结构如下：\n\n```typescript\n\"use client\";\nimport React, { useEffect, useRef } from \"react\";\n\nexport default function Page() {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    useEffect(() => {\n        // 主逻辑在此执行\n    }, []);\n\n    return (\n        <div>\n            <canvas id=\"canvas\" ref={canvasRef}></canvas>\n        </div>\n    );\n}\n```\n\n### 核心功能实现\n\n我们将以下功能逐步实现：\n\n1.  加载图片并将其绘制在 Canvas 上。\n2.  获取图片的 `ImageData`。\n3.  遍历 `ImageData` 中的像素数据，实现灰度化处理。\n\n#### 加载图片\n\n在 React 中，可以通过 `useEffect` 钩子在组件渲染后加载图片。这里定义了一个 `loadImage` 函数，通过 `Image` 对象加载图片并返回一个 Promise：\n\n```typescript\n// 加载图片并返回 HTMLImageElement\nfunction loadImage(url: string) {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const img = new Image();\n        img.crossOrigin = \"anonymous\"; // 允许跨域加载图片\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.src = url;\n    });\n}\n```\n\n在 `useEffect` 中调用 `loadImage` 函数加载图片。加载完成后，我们将图片绘制到 Canvas 上。\n\n#### 绘制图片\n\n接下来创建一个 `drawImage` 函数，用于将加载的图片绘制在 Canvas 上。可以通过 Canvas 的 `2D` 上下文实现：\n\n```typescript\nfunction drawImage(image: HTMLImageElement, canvas: HTMLCanvasElement) {\n    const ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n        ctx.drawImage(image, 0, 0); // 在 Canvas 上绘制图片\n    }\n}\n```\n\n在 `useEffect` 中，当图片加载完毕后调用该函数，确保图片已经绘制在 Canvas 上。\n\n#### 获取 ImageData\n\n为了进行灰度化处理，我们需要先从图片中获取像素数据。使用 `OffscreenCanvas` 来提取图片的 `ImageData` 数据，这样就不需要在 Canvas 上显示图片：\n\n```typescript\nfunction getImageData(img: HTMLImageElement, rect: [number, number, number, number]) {\n    const canvas = new OffscreenCanvas(img.width, img.height); // 创建一个 OffscreenCanvas\n    const ctx = canvas.getContext(\"2d\");\n    ctx?.drawImage(img, 0, 0); // 绘制图片\n    const imageData = ctx?.getImageData(...rect); // 获取指定区域的 ImageData\n    return imageData;\n}\n```\n\n在 `useEffect` 中调用 `getImageData` 获取整个图片的像素数据。\n\n#### 遍历和修改 ImageData 数据\n\n现在我们已经获得了图片的像素数据（`ImageData`），我们可以对它进行处理。这里我们将实现灰度化效果，将每个像素的 RGB 值设置为平均值。\n\n```typescript\nfunction traverseImageData(imageData: ImageData) {\n    for (let i = 0; i < imageData.data.length; i += 4) {\n        const r = imageData.data[i];\n        const g = imageData.data[i + 1];\n        const b = imageData.data[i + 2];\n        const avg = (r + g + b) / 3; // 计算 RGB 平均值\n        imageData.data[i] = avg;\n        imageData.data[i + 1] = avg;\n        imageData.data[i + 2] = avg;\n    }\n}\n```\n\n遍历 `imageData.data` 数组，每四个元素代表一个像素的 RGBA 值。将 `r`、`g`、`b` 赋值为平均值，实现灰度化。\n\n#### 整合代码\n\n将所有代码整合在 `useEffect` 中，使得页面加载时自动加载、处理并显示图片。\n\n```typescript\nexport default function Page() {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    useEffect(() => {\n        (async function () {\n            const canvas = canvasRef.current;\n            if (!canvas) return;\n\n            const context = canvas.getContext(\"2d\");\n            const img = await loadImage(\"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\");\n            \n            // 设置 Canvas 尺寸以匹配图片尺寸\n            canvas.width = img.width;\n            canvas.height = img.height;  \n            \n            // 获取图片数据\n            const imageData = getImageData(img, [0, 0, img.width, img.height]);\n            if (!imageData) return;\n\n            // 应用灰度化\n            traverseImageData(imageData);\n\n            // 将修改后的数据重新绘制到 Canvas 上\n            if (context) {\n                context.putImageData(imageData, 0, 0);\n            }\n        })();\n    }, []);\n\n    return (\n        <div>\n            <canvas id=\"canvas\" ref={canvasRef}></canvas>\n        </div>\n    );\n}\n```\n\n#### 效果展示\n\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/8228b0664c3c455db89c7128cd1522e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229165&x-orig-sign=OML9l7eR5jWAi06ccF60NM7q8M0%3D)\n\n#### 总结\n\n这篇博客展示了如何使用 React、Canvas 和 `ImageData` 对图片进行灰度化处理。主要步骤包括：\n\n1.  **加载图片**：通过 `loadImage` 函数加载图片。\n2.  **绘制图片**：使用 Canvas 在页面上绘制图片。\n3.  **提取和修改 `ImageData`**：获取图片数据并进行遍历，通过计算 RGB 平均值实现灰度效果。\n\n希望这篇教程能够帮助你理解如何在 React 中处理 Canvas 图像数据！\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),w=(e,a)=>{for(var s in a)l(e,s,{get:a[s],enumerable:!0})},i=(e,a,s,t)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let c of u(a))!k.call(e,c)&&c!==s&&l(e,c,{get:()=>a[c],enumerable:!(t=m(a,c))||t.enumerable});return e};var f=(e,a,s)=>(s=e!=null?h(N(e)):{},i(a||!e||!e.__esModule?l(s,\"default\",{value:e,enumerable:!0}):s,e)),v=e=>i(l({},\"__esModule\",{value:!0}),e);var r=g((I,o)=>{o.exports=_jsx_runtime});var x={};w(x,{default:()=>p,frontmatter:()=>y});var n=f(r()),y={title:\"\\u4F7F\\u7528 canvas \\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u56FE\\u7247\",date:\"2016-03-08\",tags:[\"canvas\",\"react\",\"features\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function d(e){let a={a:\"a\",code:\"code\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"react-\\u548C-canvas-\\u4F7F\\u7528-imagedata-\\u5904\\u7406\\u56FE\\u7247\\u7070\\u5EA6\\u5316\\u6548\\u679C\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#react-\\u548C-canvas-\\u4F7F\\u7528-imagedata-\\u5904\\u7406\\u56FE\\u7247\\u7070\\u5EA6\\u5316\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"React \\u548C Canvas: \\u4F7F\\u7528 ImageData \\u5904\\u7406\\u56FE\\u7247\\u7070\\u5EA6\\u5316\\u6548\\u679C\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u521B\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 React \\u5E94\\u7528\\u7A0B\\u5E8F\\uFF0C\\u901A\\u8FC7 Canvas \\u548C \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u5BF9\\u56FE\\u7247\\u8FDB\\u884C\\u7070\\u5EA6\\u5316\\u5904\\u7406\\u3002\\u5177\\u4F53\\u6765\\u8BF4\\uFF0C\\u6211\\u4EEC\\u5C06\\u52A0\\u8F7D\\u56FE\\u7247\\uFF0C\\u5C06\\u5176\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\uFF0C\\u63D0\\u53D6\\u56FE\\u7247\\u6570\\u636E\\uFF0C\\u7136\\u540E\\u904D\\u5386\\u548C\\u4FEE\\u6539\\u50CF\\u7D20\\u6570\\u636E\\u5B9E\\u73B0\\u7070\\u5EA6\\u6548\\u679C\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u6B65\\u9AA4-1\\u9879\\u76EE\\u51C6\\u5907\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u6B65\\u9AA4-1\\u9879\\u76EE\\u51C6\\u5907\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6B65\\u9AA4 1\\uFF1A\\u9879\\u76EE\\u51C6\\u5907\"]}),(0,n.jsxs)(a.p,{children:[\"\\u9996\\u5148\\uFF0C\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684 React \\u7EC4\\u4EF6\\uFF0C\\u5728\\u9879\\u76EE\\u6587\\u4EF6\\u5939\\u4E0B\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"Page.tsx\"}),\" \\u6587\\u4EF6\\uFF0C\\u5C06\\u4F1A\\u5728\\u8BE5\\u7EC4\\u4EF6\\u4E2D\\u5B8C\\u6210\\u56FE\\u7247\\u7684\\u5904\\u7406\\u5DE5\\u4F5C\\u3002\\u4EE3\\u7801\\u7684\\u6574\\u4F53\\u7ED3\\u6784\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token generic-function\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(a.span,{className:\"token class-name generic\",children:[(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u4E3B\\u903B\\u8F91\\u5728\\u6B64\\u6267\\u884C\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u6838\\u5FC3\\u529F\\u80FD\\u5B9E\\u73B0\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u6838\\u5FC3\\u529F\\u80FD\\u5B9E\\u73B0\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6838\\u5FC3\\u529F\\u80FD\\u5B9E\\u73B0\"]}),(0,n.jsx)(a.p,{children:\"\\u6211\\u4EEC\\u5C06\\u4EE5\\u4E0B\\u529F\\u80FD\\u9010\\u6B65\\u5B9E\\u73B0\\uFF1A\"}),(0,n.jsxs)(a.ol,{children:[(0,n.jsx)(a.li,{children:\"\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u5C06\\u5176\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\u3002\"}),(0,n.jsxs)(a.li,{children:[\"\\u83B7\\u53D6\\u56FE\\u7247\\u7684 \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\"\\u3002\"]}),(0,n.jsxs)(a.li,{children:[\"\\u904D\\u5386 \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u4E2D\\u7684\\u50CF\\u7D20\\u6570\\u636E\\uFF0C\\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u5904\\u7406\\u3002\"]})]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u52A0\\u8F7D\\u56FE\\u7247\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u52A0\\u8F7D\\u56FE\\u7247\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u52A0\\u8F7D\\u56FE\\u7247\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728 React \\u4E2D\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u94A9\\u5B50\\u5728\\u7EC4\\u4EF6\\u6E32\\u67D3\\u540E\\u52A0\\u8F7D\\u56FE\\u7247\\u3002\\u8FD9\\u91CC\\u5B9A\\u4E49\\u4E86\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\uFF0C\\u901A\\u8FC7 \",(0,n.jsx)(a.code,{children:\"Image\"}),\" \\u5BF9\\u8C61\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u8FD4\\u56DE\\u4E00\\u4E2A Promise\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u8FD4\\u56DE HTMLImageElement\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"url\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsxs)(a.span,{className:\"token class-name\",children:[(0,n.jsx)(a.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"resolve\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Image\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"crossOrigin \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"anonymous\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5141\\u8BB8\\u8DE8\\u57DF\\u52A0\\u8F7D\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onload\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"resolve\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"onerror \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"src \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" url\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\u8C03\\u7528 \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\u52A0\\u8F7D\\u56FE\\u7247\\u3002\\u52A0\\u8F7D\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u5C06\\u56FE\\u7247\\u7ED8\\u5236\\u5230 Canvas \\u4E0A\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u7ED8\\u5236\\u56FE\\u7247\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u7ED8\\u5236\\u56FE\\u7247\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u7ED8\\u5236\\u56FE\\u7247\"]}),(0,n.jsxs)(a.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"drawImage\"}),\" \\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u5C06\\u52A0\\u8F7D\\u7684\\u56FE\\u7247\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\u3002\\u53EF\\u4EE5\\u901A\\u8FC7 Canvas \\u7684 \",(0,n.jsx)(a.code,{children:\"2D\"}),\" \\u4E0A\\u4E0B\\u6587\\u5B9E\\u73B0\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"drawImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"image\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" ctx \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"drawImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"image\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5728 Canvas \\u4E0A\\u7ED8\\u5236\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\uFF0C\\u5F53\\u56FE\\u7247\\u52A0\\u8F7D\\u5B8C\\u6BD5\\u540E\\u8C03\\u7528\\u8BE5\\u51FD\\u6570\\uFF0C\\u786E\\u4FDD\\u56FE\\u7247\\u5DF2\\u7ECF\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u83B7\\u53D6-imagedata\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u83B7\\u53D6-imagedata\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u83B7\\u53D6 ImageData\"]}),(0,n.jsxs)(a.p,{children:[\"\\u4E3A\\u4E86\\u8FDB\\u884C\\u7070\\u5EA6\\u5316\\u5904\\u7406\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5148\\u4ECE\\u56FE\\u7247\\u4E2D\\u83B7\\u53D6\\u50CF\\u7D20\\u6570\\u636E\\u3002\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:\"OffscreenCanvas\"}),\" \\u6765\\u63D0\\u53D6\\u56FE\\u7247\\u7684 \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u6570\\u636E\\uFF0C\\u8FD9\\u6837\\u5C31\\u4E0D\\u9700\\u8981\\u5728 Canvas \\u4E0A\\u663E\\u793A\\u56FE\\u7247\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" rect\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OffscreenCanvas\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u4E00\\u4E2A OffscreenCanvas\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" ctx \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    ctx\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?.\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"drawImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u7ED8\\u5236\\u56FE\\u7247\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" imageData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" ctx\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?.\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),\"rect\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u83B7\\u53D6\\u6307\\u5B9A\\u533A\\u57DF\\u7684 ImageData\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\u8C03\\u7528 \",(0,n.jsx)(a.code,{children:\"getImageData\"}),\" \\u83B7\\u53D6\\u6574\\u4E2A\\u56FE\\u7247\\u7684\\u50CF\\u7D20\\u6570\\u636E\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u904D\\u5386\\u548C\\u4FEE\\u6539-imagedata-\\u6570\\u636E\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u904D\\u5386\\u548C\\u4FEE\\u6539-imagedata-\\u6570\\u636E\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u904D\\u5386\\u548C\\u4FEE\\u6539 ImageData \\u6570\\u636E\"]}),(0,n.jsxs)(a.p,{children:[\"\\u73B0\\u5728\\u6211\\u4EEC\\u5DF2\\u7ECF\\u83B7\\u5F97\\u4E86\\u56FE\\u7247\\u7684\\u50CF\\u7D20\\u6570\\u636E\\uFF08\",(0,n.jsx)(a.code,{children:\"ImageData\"}),\"\\uFF09\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5BF9\\u5B83\\u8FDB\\u884C\\u5904\\u7406\\u3002\\u8FD9\\u91CC\\u6211\\u4EEC\\u5C06\\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u6548\\u679C\\uFF0C\\u5C06\\u6BCF\\u4E2A\\u50CF\\u7D20\\u7684 RGB \\u503C\\u8BBE\\u7F6E\\u4E3A\\u5E73\\u5747\\u503C\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"traverseImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" ImageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"length\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"4\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" r \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" g \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" b \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" avg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"r \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" g \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" b\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u8BA1\\u7B97 RGB \\u5E73\\u5747\\u503C\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" avg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" avg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" avg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u904D\\u5386 \",(0,n.jsx)(a.code,{children:\"imageData.data\"}),\" \\u6570\\u7EC4\\uFF0C\\u6BCF\\u56DB\\u4E2A\\u5143\\u7D20\\u4EE3\\u8868\\u4E00\\u4E2A\\u50CF\\u7D20\\u7684 RGBA \\u503C\\u3002\\u5C06 \",(0,n.jsx)(a.code,{children:\"r\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"g\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"b\"}),\" \\u8D4B\\u503C\\u4E3A\\u5E73\\u5747\\u503C\\uFF0C\\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u6574\\u5408\\u4EE3\\u7801\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u6574\\u5408\\u4EE3\\u7801\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6574\\u5408\\u4EE3\\u7801\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5C06\\u6240\\u6709\\u4EE3\\u7801\\u6574\\u5408\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\uFF0C\\u4F7F\\u5F97\\u9875\\u9762\\u52A0\\u8F7D\\u65F6\\u81EA\\u52A8\\u52A0\\u8F7D\\u3001\\u5904\\u7406\\u5E76\\u663E\\u793A\\u56FE\\u7247\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token generic-function\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(a.span,{className:\"token class-name generic\",children:[(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" context \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`            \n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E Canvas \\u5C3A\\u5BF8\\u4EE5\\u5339\\u914D\\u56FE\\u7247\\u5C3A\\u5BF8\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`  \n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`            \n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u83B7\\u53D6\\u56FE\\u7247\\u6570\\u636E\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" imageData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5E94\\u7528\\u7070\\u5EA6\\u5316\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token function\",children:\"traverseImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5C06\\u4FEE\\u6539\\u540E\\u7684\\u6570\\u636E\\u91CD\\u65B0\\u7ED8\\u5236\\u5230 Canvas \\u4E0A\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"putImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u6548\\u679C\\u5C55\\u793A\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u6548\\u679C\\u5C55\\u793A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6548\\u679C\\u5C55\\u793A\"]}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/8228b0664c3c455db89c7128cd1522e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229165&x-orig-sign=OML9l7eR5jWAi06ccF60NM7q8M0%3D\"})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u603B\\u7ED3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u603B\\u7ED3\"]}),(0,n.jsxs)(a.p,{children:[\"\\u8FD9\\u7BC7\\u535A\\u5BA2\\u5C55\\u793A\\u4E86\\u5982\\u4F55\\u4F7F\\u7528 React\\u3001Canvas \\u548C \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u5BF9\\u56FE\\u7247\\u8FDB\\u884C\\u7070\\u5EA6\\u5316\\u5904\\u7406\\u3002\\u4E3B\\u8981\\u6B65\\u9AA4\\u5305\\u62EC\\uFF1A\"]}),(0,n.jsxs)(a.ol,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u52A0\\u8F7D\\u56FE\\u7247\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\u52A0\\u8F7D\\u56FE\\u7247\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u7ED8\\u5236\\u56FE\\u7247\"}),\"\\uFF1A\\u4F7F\\u7528 Canvas \\u5728\\u9875\\u9762\\u4E0A\\u7ED8\\u5236\\u56FE\\u7247\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsxs)(a.strong,{children:[\"\\u63D0\\u53D6\\u548C\\u4FEE\\u6539 \",(0,n.jsx)(a.code,{children:\"ImageData\"})]}),\"\\uFF1A\\u83B7\\u53D6\\u56FE\\u7247\\u6570\\u636E\\u5E76\\u8FDB\\u884C\\u904D\\u5386\\uFF0C\\u901A\\u8FC7\\u8BA1\\u7B97 RGB \\u5E73\\u5747\\u503C\\u5B9E\\u73B0\\u7070\\u5EA6\\u6548\\u679C\\u3002\"]})]}),(0,n.jsx)(a.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6559\\u7A0B\\u80FD\\u591F\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5982\\u4F55\\u5728 React \\u4E2D\\u5904\\u7406 Canvas \\u56FE\\u50CF\\u6570\\u636E\\uFF01\"})]})}function p(e={}){let{wrapper:a}=e.components||{};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}return v(x);})();\n;return Component;"
    },
    "_id": "articles/canvas/canvas-gray.mdx",
    "_raw": {
      "sourceFilePath": "articles/canvas/canvas-gray.mdx",
      "sourceFileName": "canvas-gray.mdx",
      "sourceFileDir": "articles/canvas",
      "contentType": "mdx",
      "flattenedPath": "articles/canvas/canvas-gray"
    },
    "type": "Blog",
    "readingTime": {
      "text": "6 min read",
      "minutes": 5.08,
      "time": 304800,
      "words": 1016
    },
    "slug": "canvas/canvas-gray",
    "path": "articles/canvas/canvas-gray",
    "filePath": "articles/canvas/canvas-gray.mdx",
    "toc": [
      {
        "value": "React 和 Canvas: 使用 ImageData 处理图片灰度化效果",
        "url": "#react-和-canvas-使用-imagedata-处理图片灰度化效果",
        "depth": 3
      },
      {
        "value": "步骤 1：项目准备",
        "url": "#步骤-1项目准备",
        "depth": 4
      },
      {
        "value": "核心功能实现",
        "url": "#核心功能实现",
        "depth": 3
      },
      {
        "value": "加载图片",
        "url": "#加载图片",
        "depth": 4
      },
      {
        "value": "绘制图片",
        "url": "#绘制图片",
        "depth": 4
      },
      {
        "value": "获取 ImageData",
        "url": "#获取-imagedata",
        "depth": 4
      },
      {
        "value": "遍历和修改 ImageData 数据",
        "url": "#遍历和修改-imagedata-数据",
        "depth": 4
      },
      {
        "value": "整合代码",
        "url": "#整合代码",
        "depth": 4
      },
      {
        "value": "效果展示",
        "url": "#效果展示",
        "depth": 4
      },
      {
        "value": "总结",
        "url": "#总结",
        "depth": 4
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 canvas 实现灰度化图片",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/canvas/canvas-gray"
    }
  },
  {
    "title": "useEffect 详解：副作用的管理与性能优化",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "markdown",
      "code",
      "features"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "\n# 什么是副作用？\n\n副作用（Side Effect）是指在函数执行过程中对外部世界的影响，或者说对函数执行结果以外的事物产生影响。副作用通常指那些不直接影响当前函数计算结果，但可能会改变程序状态或外部环境的操作。例如：\n- 发起网络请求\n- 修改 DOM\n- 订阅事件\n- 设置定时器等\n\n在 React 中，副作用是通过 `useEffect` 这个 Hook 来管理的。`useEffect` 让我们能够在函数组件中执行这些副作用，同时还能清理它们，避免内存泄漏或不必要的操作。\n\n#### `useEffect` 的基本语法\n\n`useEffect` 接收两个参数：\n1. **第一个参数**是执行副作用的函数。\n2. **第二个参数**是一个依赖数组（可选）。它用来告诉 React 何时重新执行副作用。\n\n```javascript\nuseEffect(() => {\n  // 执行副作用的代码\n}, [dependencies]);\n```\n\n#### 执行时间\n\n`useEffect` 会在组件渲染之后执行。因此，它通常用来处理需要访问 DOM 或进行副作用操作（如网络请求）的任务。\n\n- **第一次渲染时**：`useEffect` 会在组件挂载后执行一次。\n- **后续渲染时**：每当组件更新，`useEffect` 会在每次渲染后执行。\n\n### 严格模式下的执行\n\n在 **React 18** 中，如果启用了严格模式（`React.StrictMode`），`useEffect` 可能会被调用两次。这种行为只会发生在开发环境中，主要目的是帮助开发者发现副作用中的潜在问题。React 会在初次渲染时运行 `useEffect`，然后卸载并重新渲染组件，执行副作用。这可以帮助发现副作用未被正确清理的问题。\n\n然而，组件的挂载时执行的副作用只会执行一次。\n\n### `useEffect` 的使用场景\n\n#### 1. **请求数据**\n\n`useEffect` 是处理数据请求的常见地方。你可以在 `useEffect` 中发起网络请求，获取数据，并通过更新状态来触发组件重新渲染。\n\n```javascript\nuseEffect(() => {\n  const fetchData = async () => {\n    const response = await fetch('https://api.example.com/data');\n    const data = await response.json();\n    setData(data);\n  };\n\n  fetchData();\n}, []);  // 只在组件挂载时执行一次\n```\n\n#### 2. **监听数据变化**\n\n你可以通过依赖数组来监听某些状态或 props 的变化。当依赖项发生变化时，`useEffect` 会重新执行。这样就可以根据数据的变化更新组件状态或执行其他副作用。\n\n```javascript\nuseEffect(() => {\n  console.log('Data has changed:', data);\n}, [data]);  // 当 data 发生变化时执行\n```\n\n#### 3. **订阅事件**\n\n`useEffect` 还可以用来订阅外部事件，如 `resize`、`scroll` 或 WebSocket 消息等。\n\n```javascript\nuseEffect(() => {\n  const handleResize = () => {\n    console.log('Window resized');\n  };\n\n  window.addEventListener('resize', handleResize);\n\n  return () => {\n    window.removeEventListener('resize', handleResize);\n  };\n}, []);  // 只在组件挂载和卸载时执行\n```\n\n### `useEffect` 的清理机制\n\n`useEffect` 支持**清理副作用**。清理函数用于移除订阅、清除定时器或清理其他可能导致内存泄漏的资源。返回的清理函数会在组件卸载时执行，或者在依赖项发生变化之前执行。\n\n#### 清理定时器\n\n```javascript\nuseEffect(() => {\n  const timer = setInterval(() => {\n    console.log('Timer tick');\n  }, 1000);\n\n  return () => clearInterval(timer);  // 清理定时器\n}, []);\n```\n\n#### 清理事件监听器\n\n```javascript\nuseEffect(() => {\n  const handleClick = () => console.log('Button clicked');\n  \n  window.addEventListener('click', handleClick);\n\n  return () => {\n    window.removeEventListener('click', handleClick);\n  };\n}, []);\n```\n\n### `useEffect` 的依赖数组\n\n#### 1. **没有依赖数组**\n\n如果没有传入第二个参数（依赖数组），`useEffect` 会在每次渲染后执行。这种做法一般不推荐，因为它会影响性能，特别是在渲染非常频繁的组件中。\n\n```javascript\nuseEffect(() => {\n  console.log('Component rendered');\n});  // 每次渲染都会执行\n```\n\n#### 2. **空依赖数组**\n\n传入空数组 (`[]`) 表示 `useEffect` 只会在组件挂载时执行一次，这对于需要在组件初始化时执行的副作用非常有用。例如，在组件加载时获取数据或者设置一次性的订阅。\n\n```javascript\nuseEffect(() => {\n  console.log('Component mounted');\n}, []);  // 只在挂载时执行一次\n```\n\n#### 3. **依赖项**\n\n传入依赖数组时，`useEffect` 只会在某个依赖项发生变化时执行。这有助于减少不必要的副作用执行，提高性能。\n\n```javascript\nuseEffect(() => {\n  console.log('Data updated:', data);\n}, [data]);  // 只有 data 发生变化时才执行\n```\n\n### 性能优化\n\n为了提高性能，避免不必要的副作用执行，可以通过精确控制依赖项来减少执行次数。确保依赖数组只包含那些会触发副作用的变量。\n\n### 总结\n\n- **副作用**：`useEffect` 用于处理副作用，比如数据请求、事件订阅等。\n- **执行时机**：`useEffect` 在每次渲染后执行，并且可以通过依赖数组控制执行时机。\n- **清理副作用**：返回的清理函数用于清除副作用，避免内存泄漏。\n- **性能优化**：合理使用依赖数组，避免每次渲染都执行副作用。\n\n通过合理使用 `useEffect`，你可以有效地管理副作用，优化组件的性能，并确保资源得以正确清理。\n\n",
      "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var f=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!k.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(t=u(e,s))||t.enumerable});return a};var w=(a,e,c)=>(c=a!=null?p(N(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>i(l({},\"__esModule\",{value:!0}),a);var r=f((Z,o)=>{o.exports=_jsx_runtime});var M={};g(M,{default:()=>h,frontmatter:()=>x});var n=w(r()),x={title:\"useEffect \\u8BE6\\u89E3\\uFF1A\\u526F\\u4F5C\\u7528\\u7684\\u7BA1\\u7406\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",date:\"2016-03-08\",tags:[\"markdown\",\"code\",\"features\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function d(a){let e={a:\"a\",code:\"code\",h1:\"h1\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\\uFF1F\"]}),(0,n.jsx)(e.p,{children:\"\\u526F\\u4F5C\\u7528\\uFF08Side Effect\\uFF09\\u662F\\u6307\\u5728\\u51FD\\u6570\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\u5BF9\\u5916\\u90E8\\u4E16\\u754C\\u7684\\u5F71\\u54CD\\uFF0C\\u6216\\u8005\\u8BF4\\u5BF9\\u51FD\\u6570\\u6267\\u884C\\u7ED3\\u679C\\u4EE5\\u5916\\u7684\\u4E8B\\u7269\\u4EA7\\u751F\\u5F71\\u54CD\\u3002\\u526F\\u4F5C\\u7528\\u901A\\u5E38\\u6307\\u90A3\\u4E9B\\u4E0D\\u76F4\\u63A5\\u5F71\\u54CD\\u5F53\\u524D\\u51FD\\u6570\\u8BA1\\u7B97\\u7ED3\\u679C\\uFF0C\\u4F46\\u53EF\\u80FD\\u4F1A\\u6539\\u53D8\\u7A0B\\u5E8F\\u72B6\\u6001\\u6216\\u5916\\u90E8\\u73AF\\u5883\\u7684\\u64CD\\u4F5C\\u3002\\u4F8B\\u5982\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\"}),(0,n.jsx)(e.li,{children:\"\\u4FEE\\u6539 DOM\"}),(0,n.jsx)(e.li,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"}),(0,n.jsx)(e.li,{children:\"\\u8BBE\\u7F6E\\u5B9A\\u65F6\\u5668\\u7B49\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u4E2D\\uFF0C\\u526F\\u4F5C\\u7528\\u662F\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8FD9\\u4E2A Hook \\u6765\\u7BA1\\u7406\\u7684\\u3002\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8BA9\\u6211\\u4EEC\\u80FD\\u591F\\u5728\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u6267\\u884C\\u8FD9\\u4E9B\\u526F\\u4F5C\\u7528\\uFF0C\\u540C\\u65F6\\u8FD8\\u80FD\\u6E05\\u7406\\u5B83\\u4EEC\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u6216\\u4E0D\\u5FC5\\u8981\\u7684\\u64CD\\u4F5C\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"useeffect-\\u7684\\u57FA\\u672C\\u8BED\\u6CD5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u57FA\\u672C\\u8BED\\u6CD5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u57FA\\u672C\\u8BED\\u6CD5\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u63A5\\u6536\\u4E24\\u4E2A\\u53C2\\u6570\\uFF1A\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\"}),\"\\u662F\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u51FD\\u6570\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\"}),\"\\u662F\\u4E00\\u4E2A\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF08\\u53EF\\u9009\\uFF09\\u3002\\u5B83\\u7528\\u6765\\u544A\\u8BC9 React \\u4F55\\u65F6\\u91CD\\u65B0\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]})]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6267\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u4EE3\\u7801\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"dependencies\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6267\\u884C\\u65F6\\u95F4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6267\\u884C\\u65F6\\u95F4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6267\\u884C\\u65F6\\u95F4\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u7EC4\\u4EF6\\u6E32\\u67D3\\u4E4B\\u540E\\u6267\\u884C\\u3002\\u56E0\\u6B64\\uFF0C\\u5B83\\u901A\\u5E38\\u7528\\u6765\\u5904\\u7406\\u9700\\u8981\\u8BBF\\u95EE DOM \\u6216\\u8FDB\\u884C\\u526F\\u4F5C\\u7528\\u64CD\\u4F5C\\uFF08\\u5982\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF09\\u7684\\u4EFB\\u52A1\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u540E\\u6267\\u884C\\u4E00\\u6B21\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u540E\\u7EED\\u6E32\\u67D3\\u65F6\"}),\"\\uFF1A\\u6BCF\\u5F53\\u7EC4\\u4EF6\\u66F4\\u65B0\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u3002\"]})]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.strong,{children:\"React 18\"}),\" \\u4E2D\\uFF0C\\u5982\\u679C\\u542F\\u7528\\u4E86\\u4E25\\u683C\\u6A21\\u5F0F\\uFF08\",(0,n.jsx)(e.code,{children:\"React.StrictMode\"}),\"\\uFF09\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EF\\u80FD\\u4F1A\\u88AB\\u8C03\\u7528\\u4E24\\u6B21\\u3002\\u8FD9\\u79CD\\u884C\\u4E3A\\u53EA\\u4F1A\\u53D1\\u751F\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u4E3B\\u8981\\u76EE\\u7684\\u662F\\u5E2E\\u52A9\\u5F00\\u53D1\\u8005\\u53D1\\u73B0\\u526F\\u4F5C\\u7528\\u4E2D\\u7684\\u6F5C\\u5728\\u95EE\\u9898\\u3002React \\u4F1A\\u5728\\u521D\\u6B21\\u6E32\\u67D3\\u65F6\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\uFF0C\\u7136\\u540E\\u5378\\u8F7D\\u5E76\\u91CD\\u65B0\\u6E32\\u67D3\\u7EC4\\u4EF6\\uFF0C\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\\u8FD9\\u53EF\\u4EE5\\u5E2E\\u52A9\\u53D1\\u73B0\\u526F\\u4F5C\\u7528\\u672A\\u88AB\\u6B63\\u786E\\u6E05\\u7406\\u7684\\u95EE\\u9898\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u7136\\u800C\\uFF0C\\u7EC4\\u4EF6\\u7684\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u7684\\u526F\\u4F5C\\u7528\\u53EA\\u4F1A\\u6267\\u884C\\u4E00\\u6B21\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u4F7F\\u7528\\u573A\\u666F\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u4F7F\\u7528\\u573A\\u666F\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u4F7F\\u7528\\u573A\\u666F\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"1-\\u8BF7\\u6C42\\u6570\\u636E\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#1-\\u8BF7\\u6C42\\u6570\\u636E\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \",(0,n.jsx)(e.strong,{children:\"\\u8BF7\\u6C42\\u6570\\u636E\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u662F\\u5904\\u7406\\u6570\\u636E\\u8BF7\\u6C42\\u7684\\u5E38\\u89C1\\u5730\\u65B9\\u3002\\u4F60\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4E2D\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u83B7\\u53D6\\u6570\\u636E\\uFF0C\\u5E76\\u901A\\u8FC7\\u66F4\\u65B0\\u72B6\\u6001\\u6765\\u89E6\\u53D1\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"fetchData\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'https://api.example.com/data'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetchData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"2-\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#2-\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \",(0,n.jsx)(e.strong,{children:\"\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u6765\\u76D1\\u542C\\u67D0\\u4E9B\\u72B6\\u6001\\u6216 props \\u7684\\u53D8\\u5316\\u3002\\u5F53\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u91CD\\u65B0\\u6267\\u884C\\u3002\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u6839\\u636E\\u6570\\u636E\\u7684\\u53D8\\u5316\\u66F4\\u65B0\\u7EC4\\u4EF6\\u72B6\\u6001\\u6216\\u6267\\u884C\\u5176\\u4ED6\\u526F\\u4F5C\\u7528\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Data has changed:'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5F53 data \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"3-\\u8BA2\\u9605\\u4E8B\\u4EF6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#3-\\u8BA2\\u9605\\u4E8B\\u4EF6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \",(0,n.jsx)(e.strong,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8FD8\\u53EF\\u4EE5\\u7528\\u6765\\u8BA2\\u9605\\u5916\\u90E8\\u4E8B\\u4EF6\\uFF0C\\u5982 \",(0,n.jsx)(e.code,{children:\"resize\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"scroll\"}),\" \\u6216 WebSocket \\u6D88\\u606F\\u7B49\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleResize\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Window resized'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'resize'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleResize\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'resize'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleResize\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u548C\\u5378\\u8F7D\\u65F6\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u6E05\\u7406\\u673A\\u5236\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u6E05\\u7406\\u673A\\u5236\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u6E05\\u7406\\u673A\\u5236\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u652F\\u6301\",(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\u3002\\u6E05\\u7406\\u51FD\\u6570\\u7528\\u4E8E\\u79FB\\u9664\\u8BA2\\u9605\\u3001\\u6E05\\u9664\\u5B9A\\u65F6\\u5668\\u6216\\u6E05\\u7406\\u5176\\u4ED6\\u53EF\\u80FD\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u8D44\\u6E90\\u3002\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u4F1A\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6267\\u884C\\uFF0C\\u6216\\u8005\\u5728\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u4E4B\\u524D\\u6267\\u884C\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" timer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setInterval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Timer tick'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1000\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"clearInterval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"timer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleClick\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Button clicked'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`  \n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'click'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleClick\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'click'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleClick\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"1-\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#1-\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \",(0,n.jsx)(e.strong,{children:\"\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6CA1\\u6709\\u4F20\\u5165\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF08\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF09\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u3002\\u8FD9\\u79CD\\u505A\\u6CD5\\u4E00\\u822C\\u4E0D\\u63A8\\u8350\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4F1A\\u5F71\\u54CD\\u6027\\u80FD\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u6E32\\u67D3\\u975E\\u5E38\\u9891\\u7E41\\u7684\\u7EC4\\u4EF6\\u4E2D\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Component rendered'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"2-\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#2-\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \",(0,n.jsx)(e.strong,{children:\"\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u5165\\u7A7A\\u6570\\u7EC4 (\",(0,n.jsx)(e.code,{children:\"[]\"}),\") \\u8868\\u793A \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EA\\u4F1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u8FD9\\u5BF9\\u4E8E\\u9700\\u8981\\u5728\\u7EC4\\u4EF6\\u521D\\u59CB\\u5316\\u65F6\\u6267\\u884C\\u7684\\u526F\\u4F5C\\u7528\\u975E\\u5E38\\u6709\\u7528\\u3002\\u4F8B\\u5982\\uFF0C\\u5728\\u7EC4\\u4EF6\\u52A0\\u8F7D\\u65F6\\u83B7\\u53D6\\u6570\\u636E\\u6216\\u8005\\u8BBE\\u7F6E\\u4E00\\u6B21\\u6027\\u7684\\u8BA2\\u9605\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Component mounted'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"3-\\u4F9D\\u8D56\\u9879\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#3-\\u4F9D\\u8D56\\u9879\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \",(0,n.jsx)(e.strong,{children:\"\\u4F9D\\u8D56\\u9879\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u5165\\u4F9D\\u8D56\\u6570\\u7EC4\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EA\\u4F1A\\u5728\\u67D0\\u4E2A\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u6267\\u884C\\u3002\\u8FD9\\u6709\\u52A9\\u4E8E\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\uFF0C\\u63D0\\u9AD8\\u6027\\u80FD\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Data updated:'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u6709 data \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u624D\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u6027\\u80FD\\u4F18\\u5316\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6027\\u80FD\\u4F18\\u5316\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6027\\u80FD\\u4F18\\u5316\"]}),(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u63D0\\u9AD8\\u6027\\u80FD\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u7CBE\\u786E\\u63A7\\u5236\\u4F9D\\u8D56\\u9879\\u6765\\u51CF\\u5C11\\u6267\\u884C\\u6B21\\u6570\\u3002\\u786E\\u4FDD\\u4F9D\\u8D56\\u6570\\u7EC4\\u53EA\\u5305\\u542B\\u90A3\\u4E9B\\u4F1A\\u89E6\\u53D1\\u526F\\u4F5C\\u7528\\u7684\\u53D8\\u91CF\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u603B\\u7ED3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u603B\\u7ED3\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7528\\u4E8E\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u6BD4\\u5982\\u6570\\u636E\\u8BF7\\u6C42\\u3001\\u4E8B\\u4EF6\\u8BA2\\u9605\\u7B49\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6267\\u884C\\u65F6\\u673A\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u63A7\\u5236\\u6267\\u884C\\u65F6\\u673A\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u7528\\u4E8E\\u6E05\\u9664\\u526F\\u4F5C\\u7528\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u5408\\u7406\\u4F7F\\u7528\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u907F\\u514D\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u5408\\u7406\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\uFF0C\\u4F60\\u53EF\\u4EE5\\u6709\\u6548\\u5730\\u7BA1\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u4F18\\u5316\\u7EC4\\u4EF6\\u7684\\u6027\\u80FD\\uFF0C\\u5E76\\u786E\\u4FDD\\u8D44\\u6E90\\u5F97\\u4EE5\\u6B63\\u786E\\u6E05\\u7406\\u3002\"]})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return v(M);})();\n;return Component;"
    },
    "_id": "articles/react/use-effect.mdx",
    "_raw": {
      "sourceFilePath": "articles/react/use-effect.mdx",
      "sourceFileName": "use-effect.mdx",
      "sourceFileDir": "articles/react",
      "contentType": "mdx",
      "flattenedPath": "articles/react/use-effect"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.4,
      "time": 384000,
      "words": 1280
    },
    "slug": "react/use-effect",
    "path": "articles/react/use-effect",
    "filePath": "articles/react/use-effect.mdx",
    "toc": [
      {
        "value": "什么是副作用？",
        "url": "#什么是副作用",
        "depth": 1
      },
      {
        "value": "useEffect 的基本语法",
        "url": "#useeffect-的基本语法",
        "depth": 4
      },
      {
        "value": "执行时间",
        "url": "#执行时间",
        "depth": 4
      },
      {
        "value": "严格模式下的执行",
        "url": "#严格模式下的执行",
        "depth": 3
      },
      {
        "value": "useEffect 的使用场景",
        "url": "#useeffect-的使用场景",
        "depth": 3
      },
      {
        "value": "1. 请求数据",
        "url": "#1-请求数据",
        "depth": 4
      },
      {
        "value": "2. 监听数据变化",
        "url": "#2-监听数据变化",
        "depth": 4
      },
      {
        "value": "3. 订阅事件",
        "url": "#3-订阅事件",
        "depth": 4
      },
      {
        "value": "useEffect 的清理机制",
        "url": "#useeffect-的清理机制",
        "depth": 3
      },
      {
        "value": "清理定时器",
        "url": "#清理定时器",
        "depth": 4
      },
      {
        "value": "清理事件监听器",
        "url": "#清理事件监听器",
        "depth": 4
      },
      {
        "value": "useEffect 的依赖数组",
        "url": "#useeffect-的依赖数组",
        "depth": 3
      },
      {
        "value": "1. 没有依赖数组",
        "url": "#1-没有依赖数组",
        "depth": 4
      },
      {
        "value": "2. 空依赖数组",
        "url": "#2-空依赖数组",
        "depth": 4
      },
      {
        "value": "3. 依赖项",
        "url": "#3-依赖项",
        "depth": 4
      },
      {
        "value": "性能优化",
        "url": "#性能优化",
        "depth": 3
      },
      {
        "value": "总结",
        "url": "#总结",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "useEffect 详解：副作用的管理与性能优化",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/react/use-effect"
    }
  },
  {
    "title": "使用 Three.js 和 着色器绘制网格",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "Three.js",
      "GLSL",
      "React"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "### 使用 Three.js 和 React 创建动态网格效果\n\n在本文中，我们将学习如何使用 Three.js 和 React 创建一个动态网格效果。我们将使用 GLSL（OpenGL Shading Language）编写自定义着色器，通过 Three.js 渲染一个二维的网格图案。本文示例是一个简单的项目，可以帮助你理解如何在 Three.js 中实现自定义着色器，并使用 React 管理渲染循环。\n\n### 先决条件\n\n在开始之前，你需要了解以下技术：\n\n*   **React**：本项目使用 React 管理生命周期。\n*   **Three.js**：一个流行的 3D 渲染库，用于处理 WebGL 场景。\n*   **GLSL**：用于定义自定义着色器。我们将使用 GLSL 来控制网格的外观。\n\n### 创建项目结构\n\n首先，我们将设置一个新的 React 组件，并引入 Three.js。创建一个名为 `ThreeJsGrid.tsx` 的文件，代码如下：\n\n```typescript\n\"use client\";\nimport React, { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\n\nfunction ThreeJsGrid() {\n    const mountRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        // 初始化场景、摄像机和渲染器\n        const scene = new THREE.Scene();\n        const camera = new THREE.OrthographicCamera(\n            -1, 1, 1, -1, 0.1, 10\n        );\n        camera.position.z = 1;\n\n        const renderer = new THREE.WebGLRenderer();\n        renderer.setSize(500, 500);\n        if (!mountRef.current) return;\n        mountRef.current.appendChild(renderer.domElement);\n\n        // 定义着色器\n        const vertexShader = `\n          varying vec2 vUv;\n          void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n        `;\n\n        const fragmentShader = `\n          precision mediump float;\n          varying vec2 vUv;\n          uniform float rows;\n          void main() {\n            vec2 st = fract(vUv * rows);\n            float d1 = step(st.x, 0.9);\n            float d2 = step(0.1, st.y);\n            gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\n          }\n        `;\n\n        // 创建一个平面几何体并应用着色器\n        const geometry = new THREE.PlaneGeometry(2, 2);\n        const material = new THREE.ShaderMaterial({\n            vertexShader,\n            fragmentShader,\n            uniforms: {\n                rows: { value: 50.0 }, // 设置网格的行数\n            },\n        });\n        const plane = new THREE.Mesh(geometry, material);\n        scene.add(plane);\n\n        // 渲染循环\n        const animate = () => {\n            requestAnimationFrame(animate);\n            renderer.render(scene, camera);\n        };\n        animate();\n\n        // 组件卸载时清理资源\n        return () => {\n            renderer.dispose();\n            material.dispose();\n            geometry.dispose();\n            if (mountRef.current)\n                mountRef.current.removeChild(renderer.domElement);\n        };\n    }, []);\n\n    return <div ref={mountRef} />;\n}\n\nexport default ThreeJsGrid;\n```\n\n### 代码解析\n\n#### 初始化场景和摄像机\n\n```typescript\nconst scene = new THREE.Scene();\nconst camera = new THREE.OrthographicCamera(\n    -1, 1, 1, -1, 0.1, 10\n);\ncamera.position.z = 1;\n```\n\n我们创建了一个 `OrthographicCamera` 以正交方式查看场景，这样可以确保图案没有透视效果。摄像机位置为 `z=1`。\n\n#### 创建渲染器并将其附加到 DOM\n\n```typescript\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize(500, 500);\nif (!mountRef.current) return;\nmountRef.current.appendChild(renderer.domElement);\n```\n\n在 `WebGLRenderer` 设置后，我们将其 DOM 元素附加到 `ref` 指向的 HTML 元素上。\n\n#### 顶点和片段着色器\n\n在 Three.js 中，着色器可以极大地控制材质的显示效果。这里我们定义了两个着色器：\n\n*   **Vertex Shader**：用于将顶点映射到屏幕坐标。\n*   **Fragment Shader**：控制像素的颜色，生成我们想要的网格图案。\n\n```glsl\n// 顶点着色器\nconst vertexShader = `\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n`;\n\n// 片段着色器\nconst fragmentShader = `\n  precision mediump float;\n  varying vec2 vUv;\n  uniform float rows;\n  void main() {\n    vec2 st = fract(vUv * rows);\n    float d1 = step(st.x, 0.9);\n    float d2 = step(0.1, st.y);\n    gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\n  }\n`;\n```\n\n片段着色器中的关键部分如下：\n\n*   着色器是根据纹理坐标来绘制的，即 (0,0) 到 （1，1）之间的内容，默认就是一种颜色，现在gl\\_FragColor 由 d1和d2控制，d1和d2根据纹理坐标变化。rows将纹理坐标放大了六十倍，得到 0到60之间到小数循环变化，d1和d2根据图中的x,y坐标变化，则着色器颜色随之变化。\n\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/2fc6007d186f490da572345fbef69e21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=JjA9XURINYnJeruqp4HGGv%2B38pE%3D)\n\n*   fract 函数表示取参数的小数部分，即 \\[0,60] 的小数部分，包括 0.1,0.2....，1.1,1.2....如此循环\n\n*   `st` 变量表示 UV 坐标的分数部分。我们使用 `vUv * rows` 对网格进行缩放，形成网格块。\n\n*   `d1` 和 `d2` 使用 `step` 函数生成边界效果，控制哪些网格线显示为深色或浅色。\n\n*   `step` 函数是 `Shader` 中另一个很常用的函数，它就是一个阶梯函数。它的原理是：当 `step(a, b)` 中的 `b < a` 时，返回 `0`；当 `b >= a` 时，返回 `1`。即只有 `st.x < 0.9` 和 `st.y  < 0.1 ` 时 `d1*d2` 是为 `1` 的，其他情况都为 `0` 。\n\n*   `d1*d2` 为 `1` 则绘制 `vec3(0.8)` ，否则绘制 `vec3(1.0)`。绘制白色和灰色，形成了网格效果\n\n#### 平面几何体和材质\n\n```typescript\nconst geometry = new THREE.PlaneGeometry(2, 2);\nconst material = new THREE.ShaderMaterial({\n    vertexShader,\n    fragmentShader,\n    uniforms: {\n        rows: { value: 50.0 }, // 设置行数\n    },\n});\nconst plane = new THREE.Mesh(geometry, material);\nscene.add(plane);\n```\n\n通过 `ShaderMaterial` 将着色器应用到一个平面上。`uniforms` 参数用于控制网格的行数。\n\n#### 渲染循环\n\n```typescript\nconst animate = () => {\n    requestAnimationFrame(animate);\n    renderer.render(scene, camera);\n};\nanimate();\n```\n\n这是一个典型的渲染循环，用于保持动画更新。我们调用 `requestAnimationFrame` 以实现平滑的动画。\n\n#### 资源清理\n\n```typescript\nreturn () => {\n    renderer.dispose();\n    material.dispose();\n    geometry.dispose();\n    if (mountRef.current)\n        mountRef.current.removeChild(renderer.domElement);\n};\n```\n\n在组件卸载时，我们清理了 `renderer`、`material` 和 `geometry` 资源，以防止内存泄漏。\n\n### 运行效果\n\n在应用程序中引入 `ThreeJsGrid` 组件并渲染即可看到效果。调节 `rows` 的值，你可以控制网格的密度。\n\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/aaadd806c2824918b69d7b45e8294b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=lWuEbHZgsSbVC7pwncAvNLOvTlU%3D)\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},i=(a,e,s,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of u(e))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(t=m(e,c))||t.enumerable});return a};var f=(a,e,s)=>(s=a!=null?h(N(a)):{},i(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),y=a=>i(l({},\"__esModule\",{value:!0}),a);var r=g((M,o)=>{o.exports=_jsx_runtime});var x={};w(x,{default:()=>p,frontmatter:()=>v});var n=f(r()),v={title:\"\\u4F7F\\u7528 Three.js \\u548C \\u7740\\u8272\\u5668\\u7ED8\\u5236\\u7F51\\u683C\",date:\"2016-03-08\",tags:[\"Three.js\",\"GLSL\",\"React\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function d(a){let e={a:\"a\",code:\"code\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4F7F\\u7528-threejs-\\u548C-react-\\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4F7F\\u7528-threejs-\\u548C-react-\\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4F7F\\u7528 Three.js \\u548C React \\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u672C\\u6587\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u5982\\u4F55\\u4F7F\\u7528 Three.js \\u548C React \\u521B\\u5EFA\\u4E00\\u4E2A\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528 GLSL\\uFF08OpenGL Shading Language\\uFF09\\u7F16\\u5199\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\uFF0C\\u901A\\u8FC7 Three.js \\u6E32\\u67D3\\u4E00\\u4E2A\\u4E8C\\u7EF4\\u7684\\u7F51\\u683C\\u56FE\\u6848\\u3002\\u672C\\u6587\\u793A\\u4F8B\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u9879\\u76EE\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5982\\u4F55\\u5728 Three.js \\u4E2D\\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\uFF0C\\u5E76\\u4F7F\\u7528 React \\u7BA1\\u7406\\u6E32\\u67D3\\u5FAA\\u73AF\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u5148\\u51B3\\u6761\\u4EF6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5148\\u51B3\\u6761\\u4EF6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5148\\u51B3\\u6761\\u4EF6\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u5F00\\u59CB\\u4E4B\\u524D\\uFF0C\\u4F60\\u9700\\u8981\\u4E86\\u89E3\\u4EE5\\u4E0B\\u6280\\u672F\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"React\"}),\"\\uFF1A\\u672C\\u9879\\u76EE\\u4F7F\\u7528 React \\u7BA1\\u7406\\u751F\\u547D\\u5468\\u671F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Three.js\"}),\"\\uFF1A\\u4E00\\u4E2A\\u6D41\\u884C\\u7684 3D \\u6E32\\u67D3\\u5E93\\uFF0C\\u7528\\u4E8E\\u5904\\u7406 WebGL \\u573A\\u666F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"GLSL\"}),\"\\uFF1A\\u7528\\u4E8E\\u5B9A\\u4E49\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528 GLSL \\u6765\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u5916\\u89C2\\u3002\"]})]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\uFF0C\\u6211\\u4EEC\\u5C06\\u8BBE\\u7F6E\\u4E00\\u4E2A\\u65B0\\u7684 React \\u7EC4\\u4EF6\\uFF0C\\u5E76\\u5F15\\u5165 Three.js\\u3002\\u521B\\u5EFA\\u4E00\\u4E2A\\u540D\\u4E3A \",(0,n.jsx)(e.code,{children:\"ThreeJsGrid.tsx\"}),\" \\u7684\\u6587\\u4EF6\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'three'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ThreeJsGrid\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" mountRef \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"HTMLDivElement\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521D\\u59CB\\u5316\\u573A\\u666F\\u3001\\u6444\\u50CF\\u673A\\u548C\\u6E32\\u67D3\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" scene \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Scene\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" camera \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"OrthographicCamera\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"z \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" renderer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"WebGLRenderer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5B9A\\u4E49\\u7740\\u8272\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          varying vec2 vUv;\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          void main() {\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            vUv = uv;\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          }\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          precision mediump float;\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          varying vec2 vUv;\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          uniform float rows;\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          void main() {\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            vec2 st = fract(vUv * rows);\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            float d1 = step(st.x, 0.9);\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            float d2 = step(0.1, st.y);\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          }\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u4E00\\u4E2A\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u5E76\\u5E94\\u7528\\u7740\\u8272\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" geometry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"PlaneGeometry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" material \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"ShaderMaterial\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            uniforms\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                rows\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u7F51\\u683C\\u7684\\u884C\\u6570\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" plane \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Mesh\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"plane\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6E32\\u67D3\\u5FAA\\u73AF\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"animate\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token function\",children:\"requestAnimationFrame\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"animate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"animate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6E05\\u7406\\u8D44\\u6E90\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"                mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div ref\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" ThreeJsGrid\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" scene \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Scene\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" camera \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"OrthographicCamera\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"z \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"OrthographicCamera\"}),\" \\u4EE5\\u6B63\\u4EA4\\u65B9\\u5F0F\\u67E5\\u770B\\u573A\\u666F\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u786E\\u4FDD\\u56FE\\u6848\\u6CA1\\u6709\\u900F\\u89C6\\u6548\\u679C\\u3002\\u6444\\u50CF\\u673A\\u4F4D\\u7F6E\\u4E3A \",(0,n.jsx)(e.code,{children:\"z=1\"}),\"\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230-dom\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230-dom\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230 DOM\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" renderer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"WebGLRenderer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"WebGLRenderer\"}),\" \\u8BBE\\u7F6E\\u540E\\uFF0C\\u6211\\u4EEC\\u5C06\\u5176 DOM \\u5143\\u7D20\\u9644\\u52A0\\u5230 \",(0,n.jsx)(e.code,{children:\"ref\"}),\" \\u6307\\u5411\\u7684 HTML \\u5143\\u7D20\\u4E0A\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\"]}),(0,n.jsx)(e.p,{children:\"\\u5728 Three.js \\u4E2D\\uFF0C\\u7740\\u8272\\u5668\\u53EF\\u4EE5\\u6781\\u5927\\u5730\\u63A7\\u5236\\u6750\\u8D28\\u7684\\u663E\\u793A\\u6548\\u679C\\u3002\\u8FD9\\u91CC\\u6211\\u4EEC\\u5B9A\\u4E49\\u4E86\\u4E24\\u4E2A\\u7740\\u8272\\u5668\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Vertex Shader\"}),\"\\uFF1A\\u7528\\u4E8E\\u5C06\\u9876\\u70B9\\u6620\\u5C04\\u5230\\u5C4F\\u5E55\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Fragment Shader\"}),\"\\uFF1A\\u63A7\\u5236\\u50CF\\u7D20\\u7684\\u989C\\u8272\\uFF0C\\u751F\\u6210\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u7F51\\u683C\\u56FE\\u6848\\u3002\"]})]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9876\\u70B9\\u7740\\u8272\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" `\\n\"]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_Position \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" projectionMatrix \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" modelViewMatrix \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"`\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7247\\u6BB5\\u7740\\u8272\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" `\\n\"]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"uniform\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" st \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fract\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.9\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d2 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"y\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"mix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" d2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"`\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7247\\u6BB5\\u7740\\u8272\\u5668\\u4E2D\\u7684\\u5173\\u952E\\u90E8\\u5206\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(e.ul,{children:(0,n.jsx)(e.li,{children:\"\\u7740\\u8272\\u5668\\u662F\\u6839\\u636E\\u7EB9\\u7406\\u5750\\u6807\\u6765\\u7ED8\\u5236\\u7684\\uFF0C\\u5373 (0,0) \\u5230 \\uFF081\\uFF0C1\\uFF09\\u4E4B\\u95F4\\u7684\\u5185\\u5BB9\\uFF0C\\u9ED8\\u8BA4\\u5C31\\u662F\\u4E00\\u79CD\\u989C\\u8272\\uFF0C\\u73B0\\u5728gl_FragColor \\u7531 d1\\u548Cd2\\u63A7\\u5236\\uFF0Cd1\\u548Cd2\\u6839\\u636E\\u7EB9\\u7406\\u5750\\u6807\\u53D8\\u5316\\u3002rows\\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u653E\\u5927\\u4E86\\u516D\\u5341\\u500D\\uFF0C\\u5F97\\u5230 0\\u523060\\u4E4B\\u95F4\\u5230\\u5C0F\\u6570\\u5FAA\\u73AF\\u53D8\\u5316\\uFF0Cd1\\u548Cd2\\u6839\\u636E\\u56FE\\u4E2D\\u7684x,y\\u5750\\u6807\\u53D8\\u5316\\uFF0C\\u5219\\u7740\\u8272\\u5668\\u989C\\u8272\\u968F\\u4E4B\\u53D8\\u5316\\u3002\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/2fc6007d186f490da572345fbef69e21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=JjA9XURINYnJeruqp4HGGv%2B38pE%3D\"})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.p,{children:\"fract \\u51FD\\u6570\\u8868\\u793A\\u53D6\\u53C2\\u6570\\u7684\\u5C0F\\u6570\\u90E8\\u5206\\uFF0C\\u5373 [0,60] \\u7684\\u5C0F\\u6570\\u90E8\\u5206\\uFF0C\\u5305\\u62EC 0.1,0.2....\\uFF0C1.1,1.2....\\u5982\\u6B64\\u5FAA\\u73AF\"})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"st\"}),\" \\u53D8\\u91CF\\u8868\\u793A UV \\u5750\\u6807\\u7684\\u5206\\u6570\\u90E8\\u5206\\u3002\\u6211\\u4EEC\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"vUv * rows\"}),\" \\u5BF9\\u7F51\\u683C\\u8FDB\\u884C\\u7F29\\u653E\\uFF0C\\u5F62\\u6210\\u7F51\\u683C\\u5757\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"d1\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"d2\"}),\" \\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u751F\\u6210\\u8FB9\\u754C\\u6548\\u679C\\uFF0C\\u63A7\\u5236\\u54EA\\u4E9B\\u7F51\\u683C\\u7EBF\\u663E\\u793A\\u4E3A\\u6DF1\\u8272\\u6216\\u6D45\\u8272\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u662F \",(0,n.jsx)(e.code,{children:\"Shader\"}),\" \\u4E2D\\u53E6\\u4E00\\u4E2A\\u5F88\\u5E38\\u7528\\u7684\\u51FD\\u6570\\uFF0C\\u5B83\\u5C31\\u662F\\u4E00\\u4E2A\\u9636\\u68AF\\u51FD\\u6570\\u3002\\u5B83\\u7684\\u539F\\u7406\\u662F\\uFF1A\\u5F53 \",(0,n.jsx)(e.code,{children:\"step(a, b)\"}),\" \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"b < a\"}),\" \\u65F6\\uFF0C\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"0\"}),\"\\uFF1B\\u5F53 \",(0,n.jsx)(e.code,{children:\"b >= a\"}),\" \\u65F6\\uFF0C\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"1\"}),\"\\u3002\\u5373\\u53EA\\u6709 \",(0,n.jsx)(e.code,{children:\"st.x < 0.9\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"st.y < 0.1 \"}),\"\\u65F6 \",(0,n.jsx)(e.code,{children:\"d1*d2\"}),\" \\u662F\\u4E3A \",(0,n.jsx)(e.code,{children:\"1\"}),\" \\u7684\\uFF0C\\u5176\\u4ED6\\u60C5\\u51B5\\u90FD\\u4E3A \",(0,n.jsx)(e.code,{children:\"0\"}),\" \\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"d1*d2\"}),\" \\u4E3A \",(0,n.jsx)(e.code,{children:\"1\"}),\" \\u5219\\u7ED8\\u5236 \",(0,n.jsx)(e.code,{children:\"vec3(0.8)\"}),\" \\uFF0C\\u5426\\u5219\\u7ED8\\u5236 \",(0,n.jsx)(e.code,{children:\"vec3(1.0)\"}),\"\\u3002\\u7ED8\\u5236\\u767D\\u8272\\u548C\\u7070\\u8272\\uFF0C\\u5F62\\u6210\\u4E86\\u7F51\\u683C\\u6548\\u679C\"]})})]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" geometry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"PlaneGeometry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" material \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"ShaderMaterial\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    uniforms\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rows\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u884C\\u6570\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" plane \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Mesh\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"plane\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"ShaderMaterial\"}),\" \\u5C06\\u7740\\u8272\\u5668\\u5E94\\u7528\\u5230\\u4E00\\u4E2A\\u5E73\\u9762\\u4E0A\\u3002\",(0,n.jsx)(e.code,{children:\"uniforms\"}),\" \\u53C2\\u6570\\u7528\\u4E8E\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u884C\\u6570\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E32\\u67D3\\u5FAA\\u73AF\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E32\\u67D3\\u5FAA\\u73AF\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E32\\u67D3\\u5FAA\\u73AF\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"animate\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"requestAnimationFrame\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"animate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"animate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u662F\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u6E32\\u67D3\\u5FAA\\u73AF\\uFF0C\\u7528\\u4E8E\\u4FDD\\u6301\\u52A8\\u753B\\u66F4\\u65B0\\u3002\\u6211\\u4EEC\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"requestAnimationFrame\"}),\" \\u4EE5\\u5B9E\\u73B0\\u5E73\\u6ED1\\u7684\\u52A8\\u753B\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u8D44\\u6E90\\u6E05\\u7406\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8D44\\u6E90\\u6E05\\u7406\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8D44\\u6E90\\u6E05\\u7406\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF0C\\u6211\\u4EEC\\u6E05\\u7406\\u4E86 \",(0,n.jsx)(e.code,{children:\"renderer\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"material\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"geometry\"}),\" \\u8D44\\u6E90\\uFF0C\\u4EE5\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u8FD0\\u884C\\u6548\\u679C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8FD0\\u884C\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8FD0\\u884C\\u6548\\u679C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5E94\\u7528\\u7A0B\\u5E8F\\u4E2D\\u5F15\\u5165 \",(0,n.jsx)(e.code,{children:\"ThreeJsGrid\"}),\" \\u7EC4\\u4EF6\\u5E76\\u6E32\\u67D3\\u5373\\u53EF\\u770B\\u5230\\u6548\\u679C\\u3002\\u8C03\\u8282 \",(0,n.jsx)(e.code,{children:\"rows\"}),\" \\u7684\\u503C\\uFF0C\\u4F60\\u53EF\\u4EE5\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u5BC6\\u5EA6\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/aaadd806c2824918b69d7b45e8294b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=lWuEbHZgsSbVC7pwncAvNLOvTlU%3D\"})})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return y(x);})();\n;return Component;"
    },
    "_id": "articles/three/three-grid.mdx",
    "_raw": {
      "sourceFilePath": "articles/three/three-grid.mdx",
      "sourceFileName": "three-grid.mdx",
      "sourceFileDir": "articles/three",
      "contentType": "mdx",
      "flattenedPath": "articles/three/three-grid"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.215,
      "time": 372900,
      "words": 1243
    },
    "slug": "three/three-grid",
    "path": "articles/three/three-grid",
    "filePath": "articles/three/three-grid.mdx",
    "toc": [
      {
        "value": "使用 Three.js 和 React 创建动态网格效果",
        "url": "#使用-threejs-和-react-创建动态网格效果",
        "depth": 3
      },
      {
        "value": "先决条件",
        "url": "#先决条件",
        "depth": 3
      },
      {
        "value": "创建项目结构",
        "url": "#创建项目结构",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析",
        "depth": 3
      },
      {
        "value": "初始化场景和摄像机",
        "url": "#初始化场景和摄像机",
        "depth": 4
      },
      {
        "value": "创建渲染器并将其附加到 DOM",
        "url": "#创建渲染器并将其附加到-dom",
        "depth": 4
      },
      {
        "value": "顶点和片段着色器",
        "url": "#顶点和片段着色器",
        "depth": 4
      },
      {
        "value": "平面几何体和材质",
        "url": "#平面几何体和材质",
        "depth": 4
      },
      {
        "value": "渲染循环",
        "url": "#渲染循环",
        "depth": 4
      },
      {
        "value": "资源清理",
        "url": "#资源清理",
        "depth": 4
      },
      {
        "value": "运行效果",
        "url": "#运行效果",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 Three.js 和 着色器绘制网格",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/three/three-grid"
    }
  },
  {
    "title": "认识 Canvas 和 WebGL",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "WebGL",
      "GLSL",
      "React",
      "Canvas"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "\n### Canvas 和 WebGL 入门教程\n\n在前端开发中，绘图已经成为一种重要的技能，而 `Canvas` 和 `WebGL` 是实现图形绘制的两个重要工具。本文将带你入门 `Canvas` 和 `WebGL`，帮助你理解如何使用它们在浏览器中绘制图形。\n\n---\n\n## 一、Canvas 入门\n\n`Canvas` 是 HTML5 提供的一个绘图容器，可以用于图形、动画和游戏开发。通过 `Canvas API`，你可以直接使用 JavaScript 绘制图像、矩形、圆形等图形。\n\n### 1. 基本结构\n\n首先，在 HTML 文件中添加一个 `canvas` 标签，并设置它的宽度和高度。\n\n```html\n<canvas id=\"myCanvas\" width=\"500\" height=\"500\"></canvas>\n```\n\n### 2. 获取绘图上下文\n\n要在 `canvas` 上绘图，我们需要获取绘图上下文。一般使用 2D 上下文 (`getContext('2d')`)，然后通过这个上下文调用各种绘图方法。\n\n```javascript\nconst canvas = document.getElementById('myCanvas');\nconst ctx = canvas.getContext('2d');\n```\n\n### 3. 绘制基本图形\n\n- **绘制矩形**\n\n  ```javascript\n  ctx.fillStyle = 'blue';\n  ctx.fillRect(50, 50, 100, 100);\n  ```\n\n- **绘制线条**\n\n  ```javascript\n  ctx.beginPath();\n  ctx.moveTo(200, 200);\n  ctx.lineTo(300, 300);\n  ctx.stroke();\n  ```\n\n- **绘制圆形**\n\n  ```javascript\n  ctx.beginPath();\n  ctx.arc(150, 150, 50, 0, Math.PI * 2);\n  ctx.fillStyle = 'red';\n  ctx.fill();\n  ```\n\n---\n\n## 二、WebGL 入门\n\n`WebGL` 是基于 `OpenGL ES 2.0` 的一个 JavaScript API，支持硬件加速的 3D 绘图，适合开发游戏、数据可视化和 3D 应用。相比 `Canvas`，`WebGL` 能渲染更为复杂和高性能的图形。\n\n### 1. 基本结构\n\n和 `Canvas` 一样，首先需要在 HTML 中添加 `canvas` 标签：\n\n```html\n<canvas id=\"webglCanvas\" width=\"500\" height=\"500\"></canvas>\n```\n\n### 2. 获取 WebGL 上下文\n\n使用 `getContext('webgl')` 方法获取 WebGL 上下文：\n\n```javascript\nconst canvas = document.getElementById('webglCanvas');\nconst gl = canvas.getContext('webgl');\n\nif (!gl) {\n  console.log(\"WebGL not supported, falling back on experimental-webgl\");\n  gl = canvas.getContext(\"experimental-webgl\");\n}\n```\n\n### 3. 创建和编译着色器\n\n在 `WebGL` 中，绘图通过顶点着色器（vertex shader）和片段着色器（fragment shader）进行。以下代码展示了如何创建和编译一个简单的着色器：\n\n```javascript\nconst vertexShaderSource = `\n  attribute vec2 position;\n  void main() {\n    gl_Position = vec4(position, 0.0, 1.0);\n  }\n`;\n\nconst fragmentShaderSource = `\n  precision mediump float;\n  uniform vec4 color;\n  void main() {\n    gl_FragColor = color;\n  }\n`;\n\nfunction createShader(gl, type, source) {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  return shader;\n}\n\nconst vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\nconst fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n```\n\n### 4. 创建着色器程序并绘制三角形\n\n将着色器链接到一个着色器程序中，然后在画布上绘制一个简单的三角形。\n\n```javascript\nconst program = gl.createProgram();\ngl.attachShader(program, vertexShader);\ngl.attachShader(program, fragmentShader);\ngl.linkProgram(program);\ngl.useProgram(program);\n\nconst positionBuffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\ngl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n  0, 0.5,\n  -0.5, -0.5,\n  0.5, -0.5\n]), gl.STATIC_DRAW);\n\nconst positionLocation = gl.getAttribLocation(program, \"position\");\ngl.enableVertexAttribArray(positionLocation);\ngl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\nconst colorLocation = gl.getUniformLocation(program, \"color\");\ngl.uniform4f(colorLocation, 1.0, 0.0, 0.0, 1.0); // 红色\n\ngl.clear(gl.COLOR_BUFFER_BIT);\ngl.drawArrays(gl.TRIANGLES, 0, 3);\n```\n\n---\n\n## 三、Canvas 和 WebGL 的区别与选择\n\n| 特性              | Canvas                               | WebGL                              |\n| ----------------- | ------------------------------------ | ---------------------------------- |\n| 绘制维度          | 2D                                  | 2D 和 3D                          |\n| 性能              | 适合简单图形，性能较低              | 硬件加速，高性能                  |\n| 使用难度          | 简单，适合初学者                    | 较复杂，适合需要高性能的项目      |\n| 适用场景          | 简单图表、动画                      | 游戏、3D 数据可视化、复杂动画     |\n\n选择 `Canvas` 还是 `WebGL` 主要取决于项目需求：如果仅需绘制简单的图表或动画，可以选择 `Canvas`；如果需要绘制复杂的 3D 场景或高性能动画，则 `WebGL` 是更好的选择。\n\n---\n\n## 四、进阶学习\n\n学习 `Canvas` 和 `WebGL` 的基础后，你可以逐步深入探索一些高级技术和工具：\n\n- **Canvas 高级技术**：掌握 `Canvas` API 的高级特性，如图像处理、动画优化、路径和文本处理等。\n- **WebGL 框架**：可以学习 `Three.js` 等 WebGL 框架，简化 3D 图形渲染工作，并进一步探索 `GLSL` 着色器编程。\n\n希望通过本教程，你能更好地理解 `Canvas` 和 `WebGL`，并灵活运用它们在网页中绘制图形。",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),v=(e,a)=>{for(var s in a)l(e,s,{get:a[s],enumerable:!0})},i=(e,a,s,t)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let c of u(a))!k.call(e,c)&&c!==s&&l(e,c,{get:()=>a[c],enumerable:!(t=m(a,c))||t.enumerable});return e};var w=(e,a,s)=>(s=e!=null?h(N(e)):{},i(a||!e||!e.__esModule?l(s,\"default\",{value:e,enumerable:!0}):s,e)),f=e=>i(l({},\"__esModule\",{value:!0}),e);var r=g((C,o)=>{o.exports=_jsx_runtime});var x={};v(x,{default:()=>p,frontmatter:()=>b});var n=w(r()),b={title:\"\\u8BA4\\u8BC6 Canvas \\u548C WebGL\",date:\"2016-03-08\",tags:[\"WebGL\",\"GLSL\",\"React\",\"Canvas\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function d(e){let a={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"canvas-\\u548C-webgl-\\u5165\\u95E8\\u6559\\u7A0B\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#canvas-\\u548C-webgl-\\u5165\\u95E8\\u6559\\u7A0B\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Canvas \\u548C WebGL \\u5165\\u95E8\\u6559\\u7A0B\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\uFF0C\\u7ED8\\u56FE\\u5DF2\\u7ECF\\u6210\\u4E3A\\u4E00\\u79CD\\u91CD\\u8981\\u7684\\u6280\\u80FD\\uFF0C\\u800C \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u662F\\u5B9E\\u73B0\\u56FE\\u5F62\\u7ED8\\u5236\\u7684\\u4E24\\u4E2A\\u91CD\\u8981\\u5DE5\\u5177\\u3002\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u5165\\u95E8 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\"\\uFF0C\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5982\\u4F55\\u4F7F\\u7528\\u5B83\\u4EEC\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u7ED8\\u5236\\u56FE\\u5F62\\u3002\"]}),(0,n.jsx)(a.hr,{}),(0,n.jsxs)(a.h2,{className:\"content-header\",id:\"\\u4E00canvas-\\u5165\\u95E8\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u4E00canvas-\\u5165\\u95E8\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E00\\u3001Canvas \\u5165\\u95E8\"]}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u662F HTML5 \\u63D0\\u4F9B\\u7684\\u4E00\\u4E2A\\u7ED8\\u56FE\\u5BB9\\u5668\\uFF0C\\u53EF\\u4EE5\\u7528\\u4E8E\\u56FE\\u5F62\\u3001\\u52A8\\u753B\\u548C\\u6E38\\u620F\\u5F00\\u53D1\\u3002\\u901A\\u8FC7 \",(0,n.jsx)(a.code,{children:\"Canvas API\"}),\"\\uFF0C\\u4F60\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528 JavaScript \\u7ED8\\u5236\\u56FE\\u50CF\\u3001\\u77E9\\u5F62\\u3001\\u5706\\u5F62\\u7B49\\u56FE\\u5F62\\u3002\"]}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"1-\\u57FA\\u672C\\u7ED3\\u6784\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#1-\\u57FA\\u672C\\u7ED3\\u6784\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u57FA\\u672C\\u7ED3\\u6784\"]}),(0,n.jsxs)(a.p,{children:[\"\\u9996\\u5148\\uFF0C\\u5728 HTML \\u6587\\u4EF6\\u4E2D\\u6DFB\\u52A0\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"canvas\"}),\" \\u6807\\u7B7E\\uFF0C\\u5E76\\u8BBE\\u7F6E\\u5B83\\u7684\\u5BBD\\u5EA6\\u548C\\u9AD8\\u5EA6\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-html\",children:(0,n.jsx)(a.code,{className:\"code-highlight language-html\",children:(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"canvas\"]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"id\"}),(0,n.jsxs)(a.span,{className:\"token attr-value\",children:[(0,n.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"myCanvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(a.span,{className:\"token attr-value\",children:[(0,n.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(a.span,{className:\"token attr-value\",children:[(0,n.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"canvas\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"2-\\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#2-\\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\"]}),(0,n.jsxs)(a.p,{children:[\"\\u8981\\u5728 \",(0,n.jsx)(a.code,{children:\"canvas\"}),\" \\u4E0A\\u7ED8\\u56FE\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\\u3002\\u4E00\\u822C\\u4F7F\\u7528 2D \\u4E0A\\u4E0B\\u6587 (\",(0,n.jsx)(a.code,{children:\"getContext('2d')\"}),\")\\uFF0C\\u7136\\u540E\\u901A\\u8FC7\\u8FD9\\u4E2A\\u4E0A\\u4E0B\\u6587\\u8C03\\u7528\\u5404\\u79CD\\u7ED8\\u56FE\\u65B9\\u6CD5\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getElementById\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:\"'myCanvas'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" ctx \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:\"'2d'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"3-\\u7ED8\\u5236\\u57FA\\u672C\\u56FE\\u5F62\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#3-\\u7ED8\\u5236\\u57FA\\u672C\\u56FE\\u5F62\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u7ED8\\u5236\\u57FA\\u672C\\u56FE\\u5F62\"]}),(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:\"\\u7ED8\\u5236\\u77E9\\u5F62\"})}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"fillStyle\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:\"'blue'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"fillRect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"100\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"100\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:\"\\u7ED8\\u5236\\u7EBF\\u6761\"})}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"beginPath\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"moveTo\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"lineTo\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"300\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"300\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"stroke\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:\"\\u7ED8\\u5236\\u5706\\u5F62\"})}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"beginPath\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"arc\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"150\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"150\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"PI\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"fillStyle\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:\"'red'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"fill\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]})]}),(0,n.jsx)(a.hr,{}),(0,n.jsxs)(a.h2,{className:\"content-header\",id:\"\\u4E8Cwebgl-\\u5165\\u95E8\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u4E8Cwebgl-\\u5165\\u95E8\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E8C\\u3001WebGL \\u5165\\u95E8\"]}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u662F\\u57FA\\u4E8E \",(0,n.jsx)(a.code,{children:\"OpenGL ES 2.0\"}),\" \\u7684\\u4E00\\u4E2A JavaScript API\\uFF0C\\u652F\\u6301\\u786C\\u4EF6\\u52A0\\u901F\\u7684 3D \\u7ED8\\u56FE\\uFF0C\\u9002\\u5408\\u5F00\\u53D1\\u6E38\\u620F\\u3001\\u6570\\u636E\\u53EF\\u89C6\\u5316\\u548C 3D \\u5E94\\u7528\\u3002\\u76F8\\u6BD4 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\"\\uFF0C\",(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u80FD\\u6E32\\u67D3\\u66F4\\u4E3A\\u590D\\u6742\\u548C\\u9AD8\\u6027\\u80FD\\u7684\\u56FE\\u5F62\\u3002\"]}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"1-\\u57FA\\u672C\\u7ED3\\u6784-1\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#1-\\u57FA\\u672C\\u7ED3\\u6784-1\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u57FA\\u672C\\u7ED3\\u6784\"]}),(0,n.jsxs)(a.p,{children:[\"\\u548C \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u4E00\\u6837\\uFF0C\\u9996\\u5148\\u9700\\u8981\\u5728 HTML \\u4E2D\\u6DFB\\u52A0 \",(0,n.jsx)(a.code,{children:\"canvas\"}),\" \\u6807\\u7B7E\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-html\",children:(0,n.jsx)(a.code,{className:\"code-highlight language-html\",children:(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"canvas\"]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"id\"}),(0,n.jsxs)(a.span,{className:\"token attr-value\",children:[(0,n.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"webglCanvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(a.span,{className:\"token attr-value\",children:[(0,n.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(a.span,{className:\"token attr-value\",children:[(0,n.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"canvas\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"2-\\u83B7\\u53D6-webgl-\\u4E0A\\u4E0B\\u6587\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#2-\\u83B7\\u53D6-webgl-\\u4E0A\\u4E0B\\u6587\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u83B7\\u53D6 WebGL \\u4E0A\\u4E0B\\u6587\"]}),(0,n.jsxs)(a.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:\"getContext('webgl')\"}),\" \\u65B9\\u6CD5\\u83B7\\u53D6 WebGL \\u4E0A\\u4E0B\\u6587\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getElementById\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:\"'webglCanvas'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" gl \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:\"'webgl'\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"WebGL not supported, falling back on experimental-webgl\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  gl \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"experimental-webgl\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"3-\\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#3-\\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u4E2D\\uFF0C\\u7ED8\\u56FE\\u901A\\u8FC7\\u9876\\u70B9\\u7740\\u8272\\u5668\\uFF08vertex shader\\uFF09\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\\uFF08fragment shader\\uFF09\\u8FDB\\u884C\\u3002\\u4EE5\\u4E0B\\u4EE3\\u7801\\u5C55\\u793A\\u4E86\\u5982\\u4F55\\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u7740\\u8272\\u5668\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" vertexShaderSource \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  attribute vec2 position;\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  void main() {\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`    gl_Position = vec4(position, 0.0, 1.0);\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  }\n`})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShaderSource \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  precision mediump float;\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  uniform vec4 color;\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  void main() {\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`    gl_FragColor = color;\n`})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsx)(a.span,{className:\"token string\",children:`  }\n`})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"createShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(a.span,{className:\"token parameter\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" type\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" source\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" shader \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"createShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"type\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"shaderSource\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" source\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"compileShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword control-flow\",children:\"return\"}),\" shader\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"createShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"VERTEX_SHADER\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" vertexShaderSource\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"createShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"FRAGMENT_SHADER\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShaderSource\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"4-\\u521B\\u5EFA\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#4-\\u521B\\u5EFA\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4. \\u521B\\u5EFA\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\"]}),(0,n.jsx)(a.p,{children:\"\\u5C06\\u7740\\u8272\\u5668\\u94FE\\u63A5\\u5230\\u4E00\\u4E2A\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u4E2D\\uFF0C\\u7136\\u540E\\u5728\\u753B\\u5E03\\u4E0A\\u7ED8\\u5236\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4E09\\u89D2\\u5F62\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-javascript\",children:(0,n.jsxs)(a.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" program \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"createProgram\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" vertexShader\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShader\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"linkProgram\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"useProgram\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" positionBuffer \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"createBuffer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"bindBuffer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" positionBuffer\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"bufferData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0.5\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" positionLocation \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getAttribLocation\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"position\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"enableVertexAttribArray\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"positionLocation\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"vertexAttribPointer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"positionLocation\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"FLOAT\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" colorLocation \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"getUniformLocation\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"color\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"uniform4f\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"colorLocation\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u7EA2\\u8272\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"clear\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"COLOR_BUFFER_BIT\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"drawArrays\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"TRIANGLES\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(a.hr,{}),(0,n.jsxs)(a.h2,{className:\"content-header\",id:\"\\u4E09canvas-\\u548C-webgl-\\u7684\\u533A\\u522B\\u4E0E\\u9009\\u62E9\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u4E09canvas-\\u548C-webgl-\\u7684\\u533A\\u522B\\u4E0E\\u9009\\u62E9\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E09\\u3001Canvas \\u548C WebGL \\u7684\\u533A\\u522B\\u4E0E\\u9009\\u62E9\"]}),(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:\"\\u7279\\u6027\"}),(0,n.jsx)(a.th,{children:\"Canvas\"}),(0,n.jsx)(a.th,{children:\"WebGL\"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:\"\\u7ED8\\u5236\\u7EF4\\u5EA6\"}),(0,n.jsx)(a.td,{children:\"2D\"}),(0,n.jsx)(a.td,{children:\"2D \\u548C 3D\"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:\"\\u6027\\u80FD\"}),(0,n.jsx)(a.td,{children:\"\\u9002\\u5408\\u7B80\\u5355\\u56FE\\u5F62\\uFF0C\\u6027\\u80FD\\u8F83\\u4F4E\"}),(0,n.jsx)(a.td,{children:\"\\u786C\\u4EF6\\u52A0\\u901F\\uFF0C\\u9AD8\\u6027\\u80FD\"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:\"\\u4F7F\\u7528\\u96BE\\u5EA6\"}),(0,n.jsx)(a.td,{children:\"\\u7B80\\u5355\\uFF0C\\u9002\\u5408\\u521D\\u5B66\\u8005\"}),(0,n.jsx)(a.td,{children:\"\\u8F83\\u590D\\u6742\\uFF0C\\u9002\\u5408\\u9700\\u8981\\u9AD8\\u6027\\u80FD\\u7684\\u9879\\u76EE\"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:\"\\u9002\\u7528\\u573A\\u666F\"}),(0,n.jsx)(a.td,{children:\"\\u7B80\\u5355\\u56FE\\u8868\\u3001\\u52A8\\u753B\"}),(0,n.jsx)(a.td,{children:\"\\u6E38\\u620F\\u30013D \\u6570\\u636E\\u53EF\\u89C6\\u5316\\u3001\\u590D\\u6742\\u52A8\\u753B\"})]})]})]}),(0,n.jsxs)(a.p,{children:[\"\\u9009\\u62E9 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u8FD8\\u662F \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u4E3B\\u8981\\u53D6\\u51B3\\u4E8E\\u9879\\u76EE\\u9700\\u6C42\\uFF1A\\u5982\\u679C\\u4EC5\\u9700\\u7ED8\\u5236\\u7B80\\u5355\\u7684\\u56FE\\u8868\\u6216\\u52A8\\u753B\\uFF0C\\u53EF\\u4EE5\\u9009\\u62E9 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\"\\uFF1B\\u5982\\u679C\\u9700\\u8981\\u7ED8\\u5236\\u590D\\u6742\\u7684 3D \\u573A\\u666F\\u6216\\u9AD8\\u6027\\u80FD\\u52A8\\u753B\\uFF0C\\u5219 \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u662F\\u66F4\\u597D\\u7684\\u9009\\u62E9\\u3002\"]}),(0,n.jsx)(a.hr,{}),(0,n.jsxs)(a.h2,{className:\"content-header\",id:\"\\u56DB\\u8FDB\\u9636\\u5B66\\u4E60\",children:[(0,n.jsx)(a.a,{\"aria-hidden\":\"true\",href:\"#\\u56DB\\u8FDB\\u9636\\u5B66\\u4E60\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u56DB\\u3001\\u8FDB\\u9636\\u5B66\\u4E60\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5B66\\u4E60 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\" \\u7684\\u57FA\\u7840\\u540E\\uFF0C\\u4F60\\u53EF\\u4EE5\\u9010\\u6B65\\u6DF1\\u5165\\u63A2\\u7D22\\u4E00\\u4E9B\\u9AD8\\u7EA7\\u6280\\u672F\\u548C\\u5DE5\\u5177\\uFF1A\"]}),(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"Canvas \\u9AD8\\u7EA7\\u6280\\u672F\"}),\"\\uFF1A\\u638C\\u63E1 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" API \\u7684\\u9AD8\\u7EA7\\u7279\\u6027\\uFF0C\\u5982\\u56FE\\u50CF\\u5904\\u7406\\u3001\\u52A8\\u753B\\u4F18\\u5316\\u3001\\u8DEF\\u5F84\\u548C\\u6587\\u672C\\u5904\\u7406\\u7B49\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"WebGL \\u6846\\u67B6\"}),\"\\uFF1A\\u53EF\\u4EE5\\u5B66\\u4E60 \",(0,n.jsx)(a.code,{children:\"Three.js\"}),\" \\u7B49 WebGL \\u6846\\u67B6\\uFF0C\\u7B80\\u5316 3D \\u56FE\\u5F62\\u6E32\\u67D3\\u5DE5\\u4F5C\\uFF0C\\u5E76\\u8FDB\\u4E00\\u6B65\\u63A2\\u7D22 \",(0,n.jsx)(a.code,{children:\"GLSL\"}),\" \\u7740\\u8272\\u5668\\u7F16\\u7A0B\\u3002\"]})]}),(0,n.jsxs)(a.p,{children:[\"\\u5E0C\\u671B\\u901A\\u8FC7\\u672C\\u6559\\u7A0B\\uFF0C\\u4F60\\u80FD\\u66F4\\u597D\\u5730\\u7406\\u89E3 \",(0,n.jsx)(a.code,{children:\"Canvas\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"WebGL\"}),\"\\uFF0C\\u5E76\\u7075\\u6D3B\\u8FD0\\u7528\\u5B83\\u4EEC\\u5728\\u7F51\\u9875\\u4E2D\\u7ED8\\u5236\\u56FE\\u5F62\\u3002\"]})]})}function p(e={}){let{wrapper:a}=e.components||{};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}return f(x);})();\n;return Component;"
    },
    "_id": "articles/webgl/webgl-and-canvas.mdx",
    "_raw": {
      "sourceFilePath": "articles/webgl/webgl-and-canvas.mdx",
      "sourceFileName": "webgl-and-canvas.mdx",
      "sourceFileDir": "articles/webgl",
      "contentType": "mdx",
      "flattenedPath": "articles/webgl/webgl-and-canvas"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.615,
      "time": 276900,
      "words": 923
    },
    "slug": "webgl/webgl-and-canvas",
    "path": "articles/webgl/webgl-and-canvas",
    "filePath": "articles/webgl/webgl-and-canvas.mdx",
    "toc": [
      {
        "value": "Canvas 和 WebGL 入门教程",
        "url": "#canvas-和-webgl-入门教程",
        "depth": 3
      },
      {
        "value": "一、Canvas 入门",
        "url": "#一canvas-入门",
        "depth": 2
      },
      {
        "value": "1. 基本结构",
        "url": "#1-基本结构",
        "depth": 3
      },
      {
        "value": "2. 获取绘图上下文",
        "url": "#2-获取绘图上下文",
        "depth": 3
      },
      {
        "value": "3. 绘制基本图形",
        "url": "#3-绘制基本图形",
        "depth": 3
      },
      {
        "value": "二、WebGL 入门",
        "url": "#二webgl-入门",
        "depth": 2
      },
      {
        "value": "1. 基本结构",
        "url": "#1-基本结构-1",
        "depth": 3
      },
      {
        "value": "2. 获取 WebGL 上下文",
        "url": "#2-获取-webgl-上下文",
        "depth": 3
      },
      {
        "value": "3. 创建和编译着色器",
        "url": "#3-创建和编译着色器",
        "depth": 3
      },
      {
        "value": "4. 创建着色器程序并绘制三角形",
        "url": "#4-创建着色器程序并绘制三角形",
        "depth": 3
      },
      {
        "value": "三、Canvas 和 WebGL 的区别与选择",
        "url": "#三canvas-和-webgl-的区别与选择",
        "depth": 2
      },
      {
        "value": "四、进阶学习",
        "url": "#四进阶学习",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "认识 Canvas 和 WebGL",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/webgl/webgl-and-canvas"
    }
  },
  {
    "title": "使用 webgl 创建网格",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "WebGL",
      "GLSL",
      "React"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "\n\n## 创建顶点着色器\n\n### 代码\n```glsl\nattribute vec2 a_vertexPosition;\nattribute vec2 uv;\nvarying vec2 vUv;\nvoid main() {\n    gl_PointSize = 1.0;\n    vUv = uv;\n    gl_Position = vec4(a_vertexPosition, 1.0, 1.0);\n}\n```\n\n### 代码解析\n顶点着色器的作用是处理每个顶点的位置和属性信息，并将其传递给片元着色器。这里的顶点着色器包含以下几个主要部分：\n\n1. **输入属性（attribute）**:\n   - `a_vertexPosition`: 每个顶点的二维位置，用于在屏幕上确定其位置。\n   - `uv`: 顶点的 UV 纹理坐标，用于将纹理坐标传递给片元着色器。\n\n2. **传递变量（varying）**:\n   - `vUv`: 纹理坐标的传递变量，用于在片元着色器中确定每个像素的纹理坐标。\n\n3. **主函数（main）**:\n   - 设置 `gl_PointSize` 为 1.0（在这里没有特别作用）。\n   - 将 `uv` 传递给 `vUv`，将纹理坐标传递到片元着色器。\n   - 使用 `gl_Position` 设置顶点在屏幕上的位置，通过 `a_vertexPosition` 构建一个齐次坐标。这个坐标通过 `vec4(a_vertexPosition, 1.0, 1.0)` 设置，表示为二维坐标（x，y），并且假设视图深度值 `z` 和 `w` 均为 1.0。\n\n## 创建片元着色器\n\n### 代码\n```glsl\nprecision mediump float;\nvarying vec2 vUv;\nuniform float rows;\nvoid main() {\n    vec2 st = fract(vUv * rows);\n    float d1 = step(st.x, 0.9);\n    float d2 = step(0.1, st.y);\n    gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\n}\n```\n\n### 代码解析\n片元着色器用于处理每个像素的颜色值。在此片元着色器中，我们实现了一个简单的网格效果。\n\n1. **精度声明（precision）**:\n   - `precision mediump float;` 表示使用中等精度处理浮点数。\n\n2. **传递变量（varying）和 uniform 变量**:\n   - `vUv`：从顶点着色器传递来的 UV 纹理坐标。\n   - `rows`：用于控制网格的行数。\n\n3. **主函数（main）**:\n   - `vec2 st = fract(vUv * rows);`：使用 `fract` 函数将 UV 坐标映射到 `[0, 1]` 范围。`vUv * rows` 将纹理坐标乘以行数，这样可以根据 `rows` 控制每行和列的宽度。\n   - `float d1 = step(st.x, 0.9);`：通过 `step` 函数将 `st.x` 大于 `0.9` 的位置设置为 0，形成垂直网格线。\n   - `float d2 = step(0.1, st.y);`：使用 `step` 函数将 `st.y` 小于 `0.1` 的位置设置为 0，形成水平网格线。\n   - `gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);`：使用 `mix` 函数将颜色在 0.8 和 1.0 之间混合，从而产生网格效果的颜色。\n\n## 编译着色器\n\n### 代码\n```javascript\nconst compileShader = (source, type) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.error('Shader compile error:', gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        return null;\n    }\n    return shader;\n};\n\nconst vertexShader = compileShader(vertexShaderSource, gl.VERTEX_SHADER);\nconst fragmentShader = compileShader(fragmentShaderSource, gl.FRAGMENT_SHADER);\n```\n\n### 代码解析\n`compileShader` 函数用于编译着色器，接收着色器代码字符串和着色器类型（顶点或片元）。编译成功后返回着色器对象，失败则打印错误信息。\n\n- `gl.createShader(type)`: 创建新的着色器对象。\n- `gl.shaderSource(shader, source)`: 将 GLSL 代码传递给着色器。\n- `gl.compileShader(shader)`: 编译着色器。\n- `gl.getShaderParameter(shader, gl.COMPILE_STATUS)`: 检查编译是否成功。失败则输出错误日志并删除着色器对象。\n\n## 链接着色器\n\n### 代码\n```javascript\nconst program = gl.createProgram();\ngl.attachShader(program, vertexShader);\ngl.attachShader(program, fragmentShader);\ngl.linkProgram(program);\nif (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.error('Program link error:', gl.getProgramInfoLog(program));\n    gl.deleteProgram(program);\n    return;\n}\ngl.useProgram(program);\n```\n\n### 代码解析\n链接着色器的步骤包括创建程序对象、附加顶点和片元着色器、链接程序、并激活程序。\n\n- `gl.createProgram()`: 创建一个新的程序对象。\n- `gl.attachShader(program, vertexShader/fragmentShader)`: 将顶点和片元着色器附加到程序。\n- `gl.linkProgram(program)`: 链接程序。此步骤将着色器代码连接为一个完整的可执行程序。\n- `gl.getProgramParameter(program, gl.LINK_STATUS)`: 检查链接状态，失败则输出错误日志。\n- `gl.useProgram(program)`: 使用程序对象。\n\n## 定义顶点坐标和纹理坐标，传入缓冲区\n\n### 代码\n```javascript\nconst vertices = new Float32Array([\n    -1.0, -1.0,\n    1.0, -1.0,\n    -1.0, 1.0,\n    1.0, -1.0,\n    1.0, 1.0,\n    -1.0, 1.0,\n]);\n\nconst uvs = new Float32Array([\n    0.0, 0.0,\n    1.0, 0.0,\n    0.0, 1.0,\n    1.0, 0.0,\n    1.0, 1.0,\n    0.0, 1.0,\n]);\n\n// 顶点缓冲区\nconst vertexBuffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\ngl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\nconst aVertexPosition = gl.getAttribLocation(program, 'a_vertexPosition');\ngl.enableVertexAttribArray(aVertexPosition);\ngl.vertexAttribPointer(aVertexPosition, 2, gl.FLOAT, false, 0, 0);\n\n// UV 缓冲区\nconst uvBuffer = gl.createBuffer();\ngl.bindBuffer(gl.ARRAY_BUFFER, uvBuffer);\ngl.bufferData(gl.ARRAY_BUFFER, uvs, gl.STATIC_DRAW);\nconst uvLocation = gl.getAttribLocation(program, 'uv');\ngl.enableVertexAttribArray(uvLocation);\ngl.vertexAttribPointer(uvLocation, 2, gl.FLOAT, false, 0, 0);\n```\n\n### 代码解析\n- 定义 `vertices` 和 `uvs` 数组，用于指定每个顶点的坐标和纹理坐标。\n- 使用 `gl.createBuffer()` 创建缓冲区，传递顶点和 UV 坐标数据。\n- 设置 `gl.vertexAttribPointer` 将缓冲区数据绑定到着色器中的 `a_vertexPosition` 和 `uv` 属性。\n\n## 设置 uniform 变量\n\n### 代码\n```javascript\nconst rowsLocation = gl.getUniformLocation(program, 'rows');\ngl.uniform1f(rowsLocation, 50.0);\n```\n\n### 代码解析\n通过 `gl.getUniformLocation` 获取 `rows` uniform 变量的地址，然后使用 `gl.uniform1f` 将其设置为 50.0，这样可以动态控制网格行数。\n\n## 绘制\n\n### 代码\n```javascript\ngl.clearColor(0, 0, 0, 1);\ngl.clear(gl.COLOR_BUFFER_BIT);\ngl.drawArrays(gl.TRIANGLES, 0, 6);\n```\n\n### 代码解析\n- `gl.clearColor(0, 0, 0, 1)`: 设置背景颜色。\n- `gl.clear(gl.COLOR_BUFFER_BIT)`: 清空画布。\n- `gl.drawArrays(gl.TRIANGLES, 0, 6)`: 以三角形绘制 6 个顶点（两个三角形拼成一个矩形）。\n\n## 删除资源\n\n### 代码\n```javascript\nreturn () => {\n\n\n    gl.deleteProgram(program);\n    gl.deleteShader(vertexShader);\n    gl.deleteShader(fragmentShader);\n    gl.deleteBuffer(vertexBuffer);\n    gl.deleteBuffer(uvBuffer);\n};\n```\n\n### 代码解析\n清理 WebGL 资源，防止内存泄漏。",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!k.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(t=m(e,s))||t.enumerable});return a};var f=(a,e,c)=>(c=a!=null?h(N(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((M,r)=>{r.exports=_jsx_runtime});var y={};w(y,{default:()=>p,frontmatter:()=>x});var n=f(o()),x={title:\"\\u4F7F\\u7528 webgl \\u521B\\u5EFA\\u7F51\\u683C\",date:\"2016-03-08\",tags:[\"WebGL\",\"GLSL\",\"React\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function d(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"attribute\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" a_vertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"attribute\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_PointSize \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_Position \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a_vertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u9876\\u70B9\\u7740\\u8272\\u5668\\u7684\\u4F5C\\u7528\\u662F\\u5904\\u7406\\u6BCF\\u4E2A\\u9876\\u70B9\\u7684\\u4F4D\\u7F6E\\u548C\\u5C5E\\u6027\\u4FE1\\u606F\\uFF0C\\u5E76\\u5C06\\u5176\\u4F20\\u9012\\u7ED9\\u7247\\u5143\\u7740\\u8272\\u5668\\u3002\\u8FD9\\u91CC\\u7684\\u9876\\u70B9\\u7740\\u8272\\u5668\\u5305\\u542B\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u4E3B\\u8981\\u90E8\\u5206\\uFF1A\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8F93\\u5165\\u5C5E\\u6027\\uFF08attribute\\uFF09\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"a_vertexPosition\"}),\": \\u6BCF\\u4E2A\\u9876\\u70B9\\u7684\\u4E8C\\u7EF4\\u4F4D\\u7F6E\\uFF0C\\u7528\\u4E8E\\u5728\\u5C4F\\u5E55\\u4E0A\\u786E\\u5B9A\\u5176\\u4F4D\\u7F6E\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"uv\"}),\": \\u9876\\u70B9\\u7684 UV \\u7EB9\\u7406\\u5750\\u6807\\uFF0C\\u7528\\u4E8E\\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u9012\\u7ED9\\u7247\\u5143\\u7740\\u8272\\u5668\\u3002\"]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F20\\u9012\\u53D8\\u91CF\\uFF08varying\\uFF09\"}),\":\"]}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"vUv\"}),\": \\u7EB9\\u7406\\u5750\\u6807\\u7684\\u4F20\\u9012\\u53D8\\u91CF\\uFF0C\\u7528\\u4E8E\\u5728\\u7247\\u5143\\u7740\\u8272\\u5668\\u4E2D\\u786E\\u5B9A\\u6BCF\\u4E2A\\u50CF\\u7D20\\u7684\\u7EB9\\u7406\\u5750\\u6807\\u3002\"]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3B\\u51FD\\u6570\\uFF08main\\uFF09\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u8BBE\\u7F6E \",(0,n.jsx)(e.code,{children:\"gl_PointSize\"}),\" \\u4E3A 1.0\\uFF08\\u5728\\u8FD9\\u91CC\\u6CA1\\u6709\\u7279\\u522B\\u4F5C\\u7528\\uFF09\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u5C06 \",(0,n.jsx)(e.code,{children:\"uv\"}),\" \\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.code,{children:\"vUv\"}),\"\\uFF0C\\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u9012\\u5230\\u7247\\u5143\\u7740\\u8272\\u5668\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"gl_Position\"}),\" \\u8BBE\\u7F6E\\u9876\\u70B9\\u5728\\u5C4F\\u5E55\\u4E0A\\u7684\\u4F4D\\u7F6E\\uFF0C\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"a_vertexPosition\"}),\" \\u6784\\u5EFA\\u4E00\\u4E2A\\u9F50\\u6B21\\u5750\\u6807\\u3002\\u8FD9\\u4E2A\\u5750\\u6807\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"vec4(a_vertexPosition, 1.0, 1.0)\"}),\" \\u8BBE\\u7F6E\\uFF0C\\u8868\\u793A\\u4E3A\\u4E8C\\u7EF4\\u5750\\u6807\\uFF08x\\uFF0Cy\\uFF09\\uFF0C\\u5E76\\u4E14\\u5047\\u8BBE\\u89C6\\u56FE\\u6DF1\\u5EA6\\u503C \",(0,n.jsx)(e.code,{children:\"z\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"w\"}),\" \\u5747\\u4E3A 1.0\\u3002\"]})]})]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-1\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-1\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"uniform\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" st \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fract\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.9\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d2 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"y\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"mix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" d2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-1\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-1\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u7247\\u5143\\u7740\\u8272\\u5668\\u7528\\u4E8E\\u5904\\u7406\\u6BCF\\u4E2A\\u50CF\\u7D20\\u7684\\u989C\\u8272\\u503C\\u3002\\u5728\\u6B64\\u7247\\u5143\\u7740\\u8272\\u5668\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5B9E\\u73B0\\u4E86\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u7F51\\u683C\\u6548\\u679C\\u3002\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7CBE\\u5EA6\\u58F0\\u660E\\uFF08precision\\uFF09\"}),\":\"]}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"precision mediump float;\"}),\" \\u8868\\u793A\\u4F7F\\u7528\\u4E2D\\u7B49\\u7CBE\\u5EA6\\u5904\\u7406\\u6D6E\\u70B9\\u6570\\u3002\"]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F20\\u9012\\u53D8\\u91CF\\uFF08varying\\uFF09\\u548C uniform \\u53D8\\u91CF\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"vUv\"}),\"\\uFF1A\\u4ECE\\u9876\\u70B9\\u7740\\u8272\\u5668\\u4F20\\u9012\\u6765\\u7684 UV \\u7EB9\\u7406\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"rows\"}),\"\\uFF1A\\u7528\\u4E8E\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u884C\\u6570\\u3002\"]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3B\\u51FD\\u6570\\uFF08main\\uFF09\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"vec2 st = fract(vUv * rows);\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"fract\"}),\" \\u51FD\\u6570\\u5C06 UV \\u5750\\u6807\\u6620\\u5C04\\u5230 \",(0,n.jsx)(e.code,{children:\"[0, 1]\"}),\" \\u8303\\u56F4\\u3002\",(0,n.jsx)(e.code,{children:\"vUv * rows\"}),\" \\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u4E58\\u4EE5\\u884C\\u6570\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u6839\\u636E \",(0,n.jsx)(e.code,{children:\"rows\"}),\" \\u63A7\\u5236\\u6BCF\\u884C\\u548C\\u5217\\u7684\\u5BBD\\u5EA6\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"float d1 = step(st.x, 0.9);\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u5C06 \",(0,n.jsx)(e.code,{children:\"st.x\"}),\" \\u5927\\u4E8E \",(0,n.jsx)(e.code,{children:\"0.9\"}),\" \\u7684\\u4F4D\\u7F6E\\u8BBE\\u7F6E\\u4E3A 0\\uFF0C\\u5F62\\u6210\\u5782\\u76F4\\u7F51\\u683C\\u7EBF\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"float d2 = step(0.1, st.y);\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u5C06 \",(0,n.jsx)(e.code,{children:\"st.y\"}),\" \\u5C0F\\u4E8E \",(0,n.jsx)(e.code,{children:\"0.1\"}),\" \\u7684\\u4F4D\\u7F6E\\u8BBE\\u7F6E\\u4E3A 0\\uFF0C\\u5F62\\u6210\\u6C34\\u5E73\\u7F51\\u683C\\u7EBF\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"mix\"}),\" \\u51FD\\u6570\\u5C06\\u989C\\u8272\\u5728 0.8 \\u548C 1.0 \\u4E4B\\u95F4\\u6DF7\\u5408\\uFF0C\\u4ECE\\u800C\\u4EA7\\u751F\\u7F51\\u683C\\u6548\\u679C\\u7684\\u989C\\u8272\\u3002\"]})]})]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u7F16\\u8BD1\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-2\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-2\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"compileShader\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"source\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" type\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" shader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"shaderSource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" source\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getShaderParameter\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"COMPILE_STATUS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Shader compile error:'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getShaderInfoLog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShaderSource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"VERTEX_SHADER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShaderSource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FRAGMENT_SHADER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-2\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-2\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"compileShader\"}),\" \\u51FD\\u6570\\u7528\\u4E8E\\u7F16\\u8BD1\\u7740\\u8272\\u5668\\uFF0C\\u63A5\\u6536\\u7740\\u8272\\u5668\\u4EE3\\u7801\\u5B57\\u7B26\\u4E32\\u548C\\u7740\\u8272\\u5668\\u7C7B\\u578B\\uFF08\\u9876\\u70B9\\u6216\\u7247\\u5143\\uFF09\\u3002\\u7F16\\u8BD1\\u6210\\u529F\\u540E\\u8FD4\\u56DE\\u7740\\u8272\\u5668\\u5BF9\\u8C61\\uFF0C\\u5931\\u8D25\\u5219\\u6253\\u5370\\u9519\\u8BEF\\u4FE1\\u606F\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.createShader(type)\"}),\": \\u521B\\u5EFA\\u65B0\\u7684\\u7740\\u8272\\u5668\\u5BF9\\u8C61\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.shaderSource(shader, source)\"}),\": \\u5C06 GLSL \\u4EE3\\u7801\\u4F20\\u9012\\u7ED9\\u7740\\u8272\\u5668\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.compileShader(shader)\"}),\": \\u7F16\\u8BD1\\u7740\\u8272\\u5668\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.getShaderParameter(shader, gl.COMPILE_STATUS)\"}),\": \\u68C0\\u67E5\\u7F16\\u8BD1\\u662F\\u5426\\u6210\\u529F\\u3002\\u5931\\u8D25\\u5219\\u8F93\\u51FA\\u9519\\u8BEF\\u65E5\\u5FD7\\u5E76\\u5220\\u9664\\u7740\\u8272\\u5668\\u5BF9\\u8C61\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u94FE\\u63A5\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u94FE\\u63A5\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u94FE\\u63A5\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" program \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"attachShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"attachShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"linkProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getProgramParameter\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"LINK_STATUS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Program link error:'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getProgramInfoLog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"useProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u94FE\\u63A5\\u7740\\u8272\\u5668\\u7684\\u6B65\\u9AA4\\u5305\\u62EC\\u521B\\u5EFA\\u7A0B\\u5E8F\\u5BF9\\u8C61\\u3001\\u9644\\u52A0\\u9876\\u70B9\\u548C\\u7247\\u5143\\u7740\\u8272\\u5668\\u3001\\u94FE\\u63A5\\u7A0B\\u5E8F\\u3001\\u5E76\\u6FC0\\u6D3B\\u7A0B\\u5E8F\\u3002\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.createProgram()\"}),\": \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u7A0B\\u5E8F\\u5BF9\\u8C61\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.attachShader(program, vertexShader/fragmentShader)\"}),\": \\u5C06\\u9876\\u70B9\\u548C\\u7247\\u5143\\u7740\\u8272\\u5668\\u9644\\u52A0\\u5230\\u7A0B\\u5E8F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.linkProgram(program)\"}),\": \\u94FE\\u63A5\\u7A0B\\u5E8F\\u3002\\u6B64\\u6B65\\u9AA4\\u5C06\\u7740\\u8272\\u5668\\u4EE3\\u7801\\u8FDE\\u63A5\\u4E3A\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u53EF\\u6267\\u884C\\u7A0B\\u5E8F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.getProgramParameter(program, gl.LINK_STATUS)\"}),\": \\u68C0\\u67E5\\u94FE\\u63A5\\u72B6\\u6001\\uFF0C\\u5931\\u8D25\\u5219\\u8F93\\u51FA\\u9519\\u8BEF\\u65E5\\u5FD7\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.useProgram(program)\"}),\": \\u4F7F\\u7528\\u7A0B\\u5E8F\\u5BF9\\u8C61\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u5B9A\\u4E49\\u9876\\u70B9\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u5165\\u7F13\\u51B2\\u533A\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5B9A\\u4E49\\u9876\\u70B9\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u5165\\u7F13\\u51B2\\u533A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5B9A\\u4E49\\u9876\\u70B9\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\uFF0C\\u4F20\\u5165\\u7F13\\u51B2\\u533A\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertices \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" uvs \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9876\\u70B9\\u7F13\\u51B2\\u533A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexBuffer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bindBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertexBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bufferData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertices\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" aVertexPosition \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getAttribLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'a_vertexPosition'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"enableVertexAttribArray\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"aVertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"vertexAttribPointer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"aVertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FLOAT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// UV \\u7F13\\u51B2\\u533A\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" uvBuffer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bindBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" uvBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bufferData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" uvs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" uvLocation \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getAttribLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'uv'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"enableVertexAttribArray\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"uvLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"vertexAttribPointer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"uvLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FLOAT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u5B9A\\u4E49 \",(0,n.jsx)(e.code,{children:\"vertices\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"uvs\"}),\" \\u6570\\u7EC4\\uFF0C\\u7528\\u4E8E\\u6307\\u5B9A\\u6BCF\\u4E2A\\u9876\\u70B9\\u7684\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"gl.createBuffer()\"}),\" \\u521B\\u5EFA\\u7F13\\u51B2\\u533A\\uFF0C\\u4F20\\u9012\\u9876\\u70B9\\u548C UV \\u5750\\u6807\\u6570\\u636E\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u8BBE\\u7F6E \",(0,n.jsx)(e.code,{children:\"gl.vertexAttribPointer\"}),\" \\u5C06\\u7F13\\u51B2\\u533A\\u6570\\u636E\\u7ED1\\u5B9A\\u5230\\u7740\\u8272\\u5668\\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"a_vertexPosition\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"uv\"}),\" \\u5C5E\\u6027\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u8BBE\\u7F6E-uniform-\\u53D8\\u91CF\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8BBE\\u7F6E-uniform-\\u53D8\\u91CF\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8BBE\\u7F6E uniform \\u53D8\\u91CF\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" rowsLocation \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getUniformLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'rows'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"uniform1f\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"rowsLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"gl.getUniformLocation\"}),\" \\u83B7\\u53D6 \",(0,n.jsx)(e.code,{children:\"rows\"}),\" uniform \\u53D8\\u91CF\\u7684\\u5730\\u5740\\uFF0C\\u7136\\u540E\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"gl.uniform1f\"}),\" \\u5C06\\u5176\\u8BBE\\u7F6E\\u4E3A 50.0\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u52A8\\u6001\\u63A7\\u5236\\u7F51\\u683C\\u884C\\u6570\\u3002\"]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u7ED8\\u5236\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u7ED8\\u5236\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u7ED8\\u5236\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"clearColor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"clear\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"COLOR_BUFFER_BIT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"drawArrays\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"TRIANGLES\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"6\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.clearColor(0, 0, 0, 1)\"}),\": \\u8BBE\\u7F6E\\u80CC\\u666F\\u989C\\u8272\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.clear(gl.COLOR_BUFFER_BIT)\"}),\": \\u6E05\\u7A7A\\u753B\\u5E03\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.drawArrays(gl.TRIANGLES, 0, 6)\"}),\": \\u4EE5\\u4E09\\u89D2\\u5F62\\u7ED8\\u5236 6 \\u4E2A\\u9876\\u70B9\\uFF08\\u4E24\\u4E2A\\u4E09\\u89D2\\u5F62\\u62FC\\u6210\\u4E00\\u4E2A\\u77E9\\u5F62\\uFF09\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u5220\\u9664\\u8D44\\u6E90\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5220\\u9664\\u8D44\\u6E90\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5220\\u9664\\u8D44\\u6E90\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-7\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-7\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vertexBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"uvBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-7\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-7\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u6E05\\u7406 WebGL \\u8D44\\u6E90\\uFF0C\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return v(y);})();\n;return Component;"
    },
    "_id": "articles/webgl/webgl-grid.mdx",
    "_raw": {
      "sourceFilePath": "articles/webgl/webgl-grid.mdx",
      "sourceFileName": "webgl-grid.mdx",
      "sourceFileDir": "articles/webgl",
      "contentType": "mdx",
      "flattenedPath": "articles/webgl/webgl-grid"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.1,
      "time": 366000,
      "words": 1220
    },
    "slug": "webgl/webgl-grid",
    "path": "articles/webgl/webgl-grid",
    "filePath": "articles/webgl/webgl-grid.mdx",
    "toc": [
      {
        "value": "创建顶点着色器",
        "url": "#创建顶点着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析",
        "depth": 3
      },
      {
        "value": "创建片元着色器",
        "url": "#创建片元着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-1",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-1",
        "depth": 3
      },
      {
        "value": "编译着色器",
        "url": "#编译着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-2",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-2",
        "depth": 3
      },
      {
        "value": "链接着色器",
        "url": "#链接着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-3",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-3",
        "depth": 3
      },
      {
        "value": "定义顶点坐标和纹理坐标，传入缓冲区",
        "url": "#定义顶点坐标和纹理坐标传入缓冲区",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-4",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-4",
        "depth": 3
      },
      {
        "value": "设置 uniform 变量",
        "url": "#设置-uniform-变量",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-5",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-5",
        "depth": 3
      },
      {
        "value": "绘制",
        "url": "#绘制",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-6",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-6",
        "depth": 3
      },
      {
        "value": "删除资源",
        "url": "#删除资源",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-7",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-7",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 webgl 创建网格",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/webgl/webgl-grid"
    }
  },
  {
    "title": "使用 React 和 WebGL 绘制三角形",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "WebGL",
      "GLSL",
      "React"
    ],
    "draft": false,
    "summary": "Example of a markdown file with code blocks and syntax highlighting",
    "body": {
      "raw": "\n\n#### 1. 在 Next.js 中配置 `raw-loader`\n\n要导入 `.glsl` 着色器文件，我们需要在 `next.config.mjs` 文件中配置 `raw-loader`。首先，安装 `raw-loader`：\n\n```bash\nnpm install raw-loader --save-dev\n```\n\n接着，在项目根目录的 `next.config.mjs` 中添加以下配置：\n\n```javascript\n// next.config.mjs\n\nconst nextConfig = {\n  webpack: (config) => {\n    config.module.rules.push({\n      test: /\\.glsl$/,\n      use: 'raw-loader',\n    });\n    return config;\n  },\n};\n\nexport default nextConfig;\n```\n\n这段配置允许 Next.js 加载 `.glsl` 文件的原始内容并将其作为字符串导入。\n\n#### 2. 设置 React 组件\n\n现在我们可以在 React 组件中导入 GLSL 着色器文件，并在 WebGL 程序中使用它们：\n\n```javascript\n\"use client\";\nimport { useEffect, useRef } from \"react\";\nimport vertex from \"./vertexShader.glsl\";\nimport fragment from \"./fragmentShader.glsl\";\n\nexport default function Triangle() {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    \n    useEffect(() => {\n        if (canvasRef.current) {\n            const gl = canvasRef.current.getContext(\"webgl2\");\n            if (!gl) return;\n\n            // 创建顶点着色器\n            const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n            if (vertexShader) {\n                gl.shaderSource(vertexShader, vertex);\n                gl.compileShader(vertexShader);\n            }\n\n            // 创建片元着色器\n            const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n            if (fragmentShader) {\n                gl.shaderSource(fragmentShader, fragment);\n                gl.compileShader(fragmentShader);\n            }\n\n            // 创建 WebGL 程序\n            const program = gl.createProgram();\n            if (program) {\n                gl.attachShader(program, vertexShader as WebGLShader);\n                gl.attachShader(program, fragmentShader as WebGLShader);\n                gl.linkProgram(program);\n                gl.useProgram(program);\n                \n                // 定义顶点数据\n                const points = new Float32Array([0.0, 1.0, -1.0, -1.0, 1.0, -1.0]);\n                \n                // 将数据写入缓存区\n                const bufferId = gl.createBuffer();\n                gl.bindBuffer(gl.ARRAY_BUFFER, bufferId);\n                gl.bufferData(gl.ARRAY_BUFFER, points, gl.STATIC_DRAW);\n\n                // 绑定给 position 变量\n                const vPosition = gl.getAttribLocation(program, 'position');\n                gl.vertexAttribPointer(vPosition, 2, gl.FLOAT, false, 0, 0);\n                gl.enableVertexAttribArray(vPosition);\n\n                // 清除颜色缓冲区并绘制三角形\n                gl.clear(gl.COLOR_BUFFER_BIT);\n                gl.drawArrays(gl.LINE_LOOP, 0, points.length / 2);\n            }\n        }\n    }, []);\n\n    return (\n        <canvas id=\"canvas\" ref={canvasRef} width=\"500px\" height=\"500px\">\n            Triangle\n        </canvas>\n    );\n}\n```\n\n#### 3. 着色器文件\n\n在同一目录下，创建 GLSL 文件并编写顶点和片元着色器：\n\n**`vertexShader.glsl`**:\n\n```glsl\nattribute vec2 position;\nvoid main() {\n    gl_Position = vec4(position, 0.0, 1.0);\n}\n\n```\n\n**`fragmentShader.glsl`**:\n\n```glsl\nprecision mediump float;\nvoid main() {\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n}\n```\n\n#### 4. 运行和查看结果\n\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/ae67f63444244d729c8a46847123a4e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229623&x-orig-sign=3AD%2FKpqDVxB%2FntVbTsmhLvDUExE%3D)\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),f=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},o=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=m(n,c))||t.enumerable});return a};var w=(a,n,s)=>(s=a!=null?h(N(a)):{},o(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),y=a=>o(l({},\"__esModule\",{value:!0}),a);var r=g((S,i)=>{i.exports=_jsx_runtime});var b={};f(b,{default:()=>d,frontmatter:()=>x});var e=w(r()),x={title:\"\\u4F7F\\u7528 React \\u548C WebGL \\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\",date:\"2016-03-08\",tags:[\"WebGL\",\"GLSL\",\"React\"],draft:!1,summary:\"Example of a markdown file with code blocks and syntax highlighting\"};function p(a){let n={a:\"a\",code:\"code\",h4:\"h4\",img:\"img\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"1-\\u5728-nextjs-\\u4E2D\\u914D\\u7F6E-raw-loader\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#1-\\u5728-nextjs-\\u4E2D\\u914D\\u7F6E-raw-loader\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u5728 Next.js \\u4E2D\\u914D\\u7F6E \",(0,e.jsx)(n.code,{children:\"raw-loader\"})]}),(0,e.jsxs)(n.p,{children:[\"\\u8981\\u5BFC\\u5165 \",(0,e.jsx)(n.code,{children:\".glsl\"}),\" \\u7740\\u8272\\u5668\\u6587\\u4EF6\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5728 \",(0,e.jsx)(n.code,{children:\"next.config.mjs\"}),\" \\u6587\\u4EF6\\u4E2D\\u914D\\u7F6E \",(0,e.jsx)(n.code,{children:\"raw-loader\"}),\"\\u3002\\u9996\\u5148\\uFF0C\\u5B89\\u88C5 \",(0,e.jsx)(n.code,{children:\"raw-loader\"}),\"\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"npm\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"install\"}),` raw-loader --save-dev\n`]})})}),(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u7740\\uFF0C\\u5728\\u9879\\u76EE\\u6839\\u76EE\\u5F55\\u7684 \",(0,e.jsx)(n.code,{children:\"next.config.mjs\"}),\" \\u4E2D\\u6DFB\\u52A0\\u4EE5\\u4E0B\\u914D\\u7F6E\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-javascript\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// next.config.mjs\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" nextConfig \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"webpack\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"config\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    config\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"module\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"test\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsxs)(n.span,{className:\"token language-regex regex-source\",children:[(0,e.jsx)(n.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),\"glsl\",(0,e.jsx)(n.span,{className:\"token function anchor\",children:\"$\"})]}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"use\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'raw-loader'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" config\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" nextConfig\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u6BB5\\u914D\\u7F6E\\u5141\\u8BB8 Next.js \\u52A0\\u8F7D \",(0,e.jsx)(n.code,{children:\".glsl\"}),\" \\u6587\\u4EF6\\u7684\\u539F\\u59CB\\u5185\\u5BB9\\u5E76\\u5C06\\u5176\\u4F5C\\u4E3A\\u5B57\\u7B26\\u4E32\\u5BFC\\u5165\\u3002\"]}),(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"2-\\u8BBE\\u7F6E-react-\\u7EC4\\u4EF6\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#2-\\u8BBE\\u7F6E-react-\\u7EC4\\u4EF6\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u8BBE\\u7F6E React \\u7EC4\\u4EF6\"]}),(0,e.jsx)(n.p,{children:\"\\u73B0\\u5728\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728 React \\u7EC4\\u4EF6\\u4E2D\\u5BFC\\u5165 GLSL \\u7740\\u8272\\u5668\\u6587\\u4EF6\\uFF0C\\u5E76\\u5728 WebGL \\u7A0B\\u5E8F\\u4E2D\\u4F7F\\u7528\\u5B83\\u4EEC\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-javascript\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'\"use client\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"react\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:\"vertex\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"./vertexShader.glsl\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:\"fragment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"./fragmentShader.glsl\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Triangle\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" useRef\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HTMLCanvasElement\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword nil null\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useEffect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"canvasRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" gl \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" canvasRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"webgl2\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"VERTEX_SHADER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"shaderSource\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" vertex\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"compileShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"FRAGMENT_SHADER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"shaderSource\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fragment\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"compileShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA WebGL \\u7A0B\\u5E8F\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" program \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createProgram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" vertexShader \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebGLShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShader \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebGLShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"linkProgram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"useProgram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5B9A\\u4E49\\u9876\\u70B9\\u6570\\u636E\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" points \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                \n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5C06\\u6570\\u636E\\u5199\\u5165\\u7F13\\u5B58\\u533A\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" bufferId \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createBuffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"bindBuffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" bufferId\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"bufferData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" points\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u7ED1\\u5B9A\\u7ED9 position \\u53D8\\u91CF\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" vPosition \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"getAttribLocation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'position'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"vertexAttribPointer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vPosition\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"FLOAT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"enableVertexAttribArray\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vPosition\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6E05\\u9664\\u989C\\u8272\\u7F13\\u51B2\\u533A\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"clear\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"COLOR_BUFFER_BIT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"drawArrays\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"LINE_LOOP\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" points\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" width\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"500px\"'}),\" height\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"500px\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Triangle\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"3-\\u7740\\u8272\\u5668\\u6587\\u4EF6\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#3-\\u7740\\u8272\\u5668\\u6587\\u4EF6\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u7740\\u8272\\u5668\\u6587\\u4EF6\"]}),(0,e.jsx)(n.p,{children:\"\\u5728\\u540C\\u4E00\\u76EE\\u5F55\\u4E0B\\uFF0C\\u521B\\u5EFA GLSL \\u6587\\u4EF6\\u5E76\\u7F16\\u5199\\u9876\\u70B9\\u548C\\u7247\\u5143\\u7740\\u8272\\u5668\\uFF1A\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:(0,e.jsx)(n.code,{children:\"vertexShader.glsl\"})}),\":\"]}),(0,e.jsx)(n.pre,{className:\"language-glsl\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-glsl\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"attribute\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"vec2\"}),\" position\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    gl_Position \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"vec4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"position\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:(0,e.jsx)(n.code,{children:\"fragmentShader.glsl\"})}),\":\"]}),(0,e.jsx)(n.pre,{className:\"language-glsl\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-glsl\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"vec4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"4-\\u8FD0\\u884C\\u548C\\u67E5\\u770B\\u7ED3\\u679C\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#4-\\u8FD0\\u884C\\u548C\\u67E5\\u770B\\u7ED3\\u679C\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4. \\u8FD0\\u884C\\u548C\\u67E5\\u770B\\u7ED3\\u679C\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/ae67f63444244d729c8a46847123a4e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229623&x-orig-sign=3AD%2FKpqDVxB%2FntVbTsmhLvDUExE%3D\"})})]})}function d(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(p,{...a})}):p(a)}return y(b);})();\n;return Component;"
    },
    "_id": "articles/webgl/webgl-triangle.mdx",
    "_raw": {
      "sourceFilePath": "articles/webgl/webgl-triangle.mdx",
      "sourceFileName": "webgl-triangle.mdx",
      "sourceFileDir": "articles/webgl",
      "contentType": "mdx",
      "flattenedPath": "articles/webgl/webgl-triangle"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.025,
      "time": 121500,
      "words": 405
    },
    "slug": "webgl/webgl-triangle",
    "path": "articles/webgl/webgl-triangle",
    "filePath": "articles/webgl/webgl-triangle.mdx",
    "toc": [
      {
        "value": "1. 在 Next.js 中配置 raw-loader",
        "url": "#1-在-nextjs-中配置-raw-loader",
        "depth": 4
      },
      {
        "value": "2. 设置 React 组件",
        "url": "#2-设置-react-组件",
        "depth": 4
      },
      {
        "value": "3. 着色器文件",
        "url": "#3-着色器文件",
        "depth": 4
      },
      {
        "value": "4. 运行和查看结果",
        "url": "#4-运行和查看结果",
        "depth": 4
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 React 和 WebGL 绘制三角形",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "Example of a markdown file with code blocks and syntax highlighting",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/webgl/webgl-triangle"
    }
  }
]