[
  {
    "title": "数组列表中的最大距离",
    "date": "2024-12-14T00:00:00.000Z",
    "tags": [
      "algorithm"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n# 题目描述\r\n\r\n给定 m 个数组，每个数组都已经按照升序排好序了。\r\n\r\n现在你需要从两个不同的数组中选择两个整数（每个数组选一个）并且计算它们的距离。两个整数 a 和 b 之间的距离定义为它们差的绝对值 |a-b| 。\r\n\r\n返回最大距离。\r\n\r\n示例 1：\r\n\r\n输入：[[1,2,3],[4,5],[1,2,3]]\r\n输出：4\r\n解释：\r\n一种得到答案 4 的方法是从第一个数组或者第三个数组中选择 1，同时从第二个数组中选择 5 。\r\n示例 2：\r\n\r\n输入：arrays = [[1],[1]]\r\n输出：0\r\n\r\n# 思路\r\n\r\n- 初始化最大值和最小值，默认最大值和最小值是数组的首尾两项；初始化最大距离为 0\r\n- 遍历数组，计算每个数组的最后一项和当前最小值的距离，数组第一项和当前最大值的距离，取其大者设置为当前最大距离，比较当前数组第一项和最小值，取其小者，比较当前数组最后一项和最大值，取其大者\r\n- 数组遍历完成，返回最大距离\r\n\r\n# 代码\r\n\r\n```\r\nfunction maxDistance(arrays: number[][]): number {\r\n    let res = 0;\r\n    let minVal = arrays[0][0];\r\n    let maxVal = arrays[0][arrays[0].length - 1];\r\n    for (let i = 1; i < arrays.length; i++) {\r\n        res = Math.max(res, Math.max(Math.abs(arrays[i][arrays[i].length - 1] - minVal), Math.abs(maxVal - arrays[i][0])));\r\n        minVal = Math.min(minVal, arrays[i][0]);\r\n        maxVal = Math.max(maxVal, arrays[i][arrays[i].length - 1]);\r\n    }\r\n    return res;\r\n};\r\n```\r\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var w=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),y=(e,n)=>{for(var s in n)l(e,s,{get:n[s],enumerable:!0})},o=(e,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(e,c)&&c!==s&&l(e,c,{get:()=>n[c],enumerable:!(t=m(n,c))||t.enumerable});return e};var x=(e,n,s)=>(s=e!=null?h(N(e)):{},o(n||!e||!e.__esModule?l(s,\"default\",{value:e,enumerable:!0}):s,e)),g=e=>o(l({},\"__esModule\",{value:!0}),e);var i=w((v,r)=>{r.exports=_jsx_runtime});var b={};y(b,{default:()=>d,frontmatter:()=>f});var a=x(i()),f={title:\"\\u6570\\u7EC4\\u5217\\u8868\\u4E2D\\u7684\\u6700\\u5927\\u8DDD\\u79BB\",date:\"2024-12-14\",tags:[\"algorithm\"],draft:!1,summary:null};function p(e){let n={a:\"a\",code:\"code\",h1:\"h1\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",ul:\"ul\",...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{className:\"content-header\",id:\"\\u9898\\u76EE\\u63CF\\u8FF0\",children:[(0,a.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u9898\\u76EE\\u63CF\\u8FF0\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.span,{className:\"content-header-link\",children:(0,a.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9898\\u76EE\\u63CF\\u8FF0\"]}),(0,a.jsx)(n.p,{children:\"\\u7ED9\\u5B9A m \\u4E2A\\u6570\\u7EC4\\uFF0C\\u6BCF\\u4E2A\\u6570\\u7EC4\\u90FD\\u5DF2\\u7ECF\\u6309\\u7167\\u5347\\u5E8F\\u6392\\u597D\\u5E8F\\u4E86\\u3002\"}),(0,a.jsx)(n.p,{children:\"\\u73B0\\u5728\\u4F60\\u9700\\u8981\\u4ECE\\u4E24\\u4E2A\\u4E0D\\u540C\\u7684\\u6570\\u7EC4\\u4E2D\\u9009\\u62E9\\u4E24\\u4E2A\\u6574\\u6570\\uFF08\\u6BCF\\u4E2A\\u6570\\u7EC4\\u9009\\u4E00\\u4E2A\\uFF09\\u5E76\\u4E14\\u8BA1\\u7B97\\u5B83\\u4EEC\\u7684\\u8DDD\\u79BB\\u3002\\u4E24\\u4E2A\\u6574\\u6570 a \\u548C b \\u4E4B\\u95F4\\u7684\\u8DDD\\u79BB\\u5B9A\\u4E49\\u4E3A\\u5B83\\u4EEC\\u5DEE\\u7684\\u7EDD\\u5BF9\\u503C |a-b| \\u3002\"}),(0,a.jsx)(n.p,{children:\"\\u8FD4\\u56DE\\u6700\\u5927\\u8DDD\\u79BB\\u3002\"}),(0,a.jsx)(n.p,{children:\"\\u793A\\u4F8B 1\\uFF1A\"}),(0,a.jsx)(n.p,{children:\"\\u8F93\\u5165\\uFF1A[[1,2,3],[4,5],[1,2,3]] \\u8F93\\u51FA\\uFF1A4 \\u89E3\\u91CA\\uFF1A \\u4E00\\u79CD\\u5F97\\u5230\\u7B54\\u6848 4 \\u7684\\u65B9\\u6CD5\\u662F\\u4ECE\\u7B2C\\u4E00\\u4E2A\\u6570\\u7EC4\\u6216\\u8005\\u7B2C\\u4E09\\u4E2A\\u6570\\u7EC4\\u4E2D\\u9009\\u62E9 1\\uFF0C\\u540C\\u65F6\\u4ECE\\u7B2C\\u4E8C\\u4E2A\\u6570\\u7EC4\\u4E2D\\u9009\\u62E9 5 \\u3002 \\u793A\\u4F8B 2\\uFF1A\"}),(0,a.jsx)(n.p,{children:\"\\u8F93\\u5165\\uFF1Aarrays = [[1],[1]] \\u8F93\\u51FA\\uFF1A0\"}),(0,a.jsxs)(n.h1,{className:\"content-header\",id:\"\\u601D\\u8DEF\",children:[(0,a.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u601D\\u8DEF\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.span,{className:\"content-header-link\",children:(0,a.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u601D\\u8DEF\"]}),(0,a.jsxs)(n.ul,{children:[(0,a.jsx)(n.li,{children:\"\\u521D\\u59CB\\u5316\\u6700\\u5927\\u503C\\u548C\\u6700\\u5C0F\\u503C\\uFF0C\\u9ED8\\u8BA4\\u6700\\u5927\\u503C\\u548C\\u6700\\u5C0F\\u503C\\u662F\\u6570\\u7EC4\\u7684\\u9996\\u5C3E\\u4E24\\u9879\\uFF1B\\u521D\\u59CB\\u5316\\u6700\\u5927\\u8DDD\\u79BB\\u4E3A 0\"}),(0,a.jsx)(n.li,{children:\"\\u904D\\u5386\\u6570\\u7EC4\\uFF0C\\u8BA1\\u7B97\\u6BCF\\u4E2A\\u6570\\u7EC4\\u7684\\u6700\\u540E\\u4E00\\u9879\\u548C\\u5F53\\u524D\\u6700\\u5C0F\\u503C\\u7684\\u8DDD\\u79BB\\uFF0C\\u6570\\u7EC4\\u7B2C\\u4E00\\u9879\\u548C\\u5F53\\u524D\\u6700\\u5927\\u503C\\u7684\\u8DDD\\u79BB\\uFF0C\\u53D6\\u5176\\u5927\\u8005\\u8BBE\\u7F6E\\u4E3A\\u5F53\\u524D\\u6700\\u5927\\u8DDD\\u79BB\\uFF0C\\u6BD4\\u8F83\\u5F53\\u524D\\u6570\\u7EC4\\u7B2C\\u4E00\\u9879\\u548C\\u6700\\u5C0F\\u503C\\uFF0C\\u53D6\\u5176\\u5C0F\\u8005\\uFF0C\\u6BD4\\u8F83\\u5F53\\u524D\\u6570\\u7EC4\\u6700\\u540E\\u4E00\\u9879\\u548C\\u6700\\u5927\\u503C\\uFF0C\\u53D6\\u5176\\u5927\\u8005\"}),(0,a.jsx)(n.li,{children:\"\\u6570\\u7EC4\\u904D\\u5386\\u5B8C\\u6210\\uFF0C\\u8FD4\\u56DE\\u6700\\u5927\\u8DDD\\u79BB\"})]}),(0,a.jsxs)(n.h1,{className:\"content-header\",id:\"\\u4EE3\\u7801\",children:[(0,a.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.span,{className:\"content-header-link\",children:(0,a.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,a.jsx)(n.pre,{className:\"language-js\",children:(0,a.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,a.jsxs)(n.span,{className:\"code-line\",children:[(0,a.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(n.span,{className:\"token function\",children:\"maxDistance\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(n.span,{className:\"token parameter\",children:[(0,a.jsx)(n.span,{className:\"token literal-property property\",children:\"arrays\"}),(0,a.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" number\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"})]}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" number \",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" res \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" minVal \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" maxVal \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i\",(0,a.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"        res \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access function method\",children:\"max\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"res\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access function method\",children:\"max\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access function method\",children:\"abs\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" minVal\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access function method\",children:\"abs\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"maxVal \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"        minVal \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access function method\",children:\"min\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"minVal\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"        maxVal \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access function method\",children:\"max\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"maxVal\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"arrays\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,a.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" res\",(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(n.span,{className:\"code-line\",children:[(0,a.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]})}function d(e={}){let{wrapper:n}=e.components||{};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}return g(b);})();\n;return Component;"
    },
    "_id": "articles/algorithm/maximum-distance-in-arrays.mdx",
    "_raw": {
      "sourceFilePath": "articles/algorithm/maximum-distance-in-arrays.mdx",
      "sourceFileName": "maximum-distance-in-arrays.mdx",
      "sourceFileDir": "articles/algorithm",
      "contentType": "mdx",
      "flattenedPath": "articles/algorithm/maximum-distance-in-arrays"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.75,
      "time": 105000,
      "words": 350
    },
    "slug": "algorithm/maximum-distance-in-arrays",
    "path": "articles/algorithm/maximum-distance-in-arrays",
    "filePath": "articles/algorithm/maximum-distance-in-arrays.mdx",
    "toc": [
      {
        "value": "题目描述",
        "url": "#题目描述",
        "depth": 1
      },
      {
        "value": "思路",
        "url": "#思路",
        "depth": 1
      },
      {
        "value": "代码",
        "url": "#代码",
        "depth": 1
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "数组列表中的最大距离",
      "datePublished": "2024-12-14T00:00:00.000Z",
      "dateModified": "2024-12-14T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/algorithm/maximum-distance-in-arrays"
    }
  },
  {
    "title": "接雨水",
    "date": "2024-12-15T00:00:00.000Z",
    "tags": [
      "algorithm"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n# 题目描述\r\n\r\n给定 n 个非负整数表示每个宽度为 1 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。\r\n\r\n示例 1：\r\n输入：height = [0,1,0,2,1,0,1,3,2,1,2,1]\r\n输出：6\r\n解释：上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。\r\n示例 2：\r\n\r\n输入：height = [4,2,0,3,2,5]\r\n输出：9\r\n\r\n# 思路\r\n\r\n### 双指针法\r\n\r\n- 定义两个指针，分别从左和从右便利，在遍历过程中更新左边最大值和右边最大值\r\n- 如果 leftMax < rightMax ，则积水高度是 leftMax - currentLeftHeight ；反之，积水高度是 rightMax - currentRightHeight\r\n- 如果指针相遇，则说明结束\r\n\r\n# 代码\r\n\r\n```\r\nfunction trap(height: number[]): number {\r\n    if(height.length < 3) return 0;\r\n    let left = 0;\r\n    let right = height.length - 1;\r\n    let leftMax = 0;\r\n    let rightMax = 0;\r\n    let ans = 0;\r\n    while(left <= right){\r\n        if(leftMax <= rightMax){\r\n            if(height[left] < leftMax){\r\n                ans += leftMax - height[left]\r\n            }else{\r\n                leftMax = height[left]\r\n            }\r\n            left++;\r\n        }else{\r\n            if(height[right] < rightMax){\r\n                ans += rightMax - height[right];\r\n            }else{\r\n                rightMax = height[right]\r\n            }\r\n            right--;\r\n        }\r\n\r\n    }\r\n    return ans;\r\n\r\n};\r\n```\r\n",
      "code": "var Component=(()=>{var d=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),w=(a,n)=>{for(var s in n)c(a,s,{get:n[s],enumerable:!0})},r=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let l of u(n))!k.call(a,l)&&l!==s&&c(a,l,{get:()=>n[l],enumerable:!(t=m(n,l))||t.enumerable});return a};var f=(a,n,s)=>(s=a!=null?d(N(a)):{},r(n||!a||!a.__esModule?c(s,\"default\",{value:a,enumerable:!0}):s,a)),x=a=>r(c({},\"__esModule\",{value:!0}),a);var i=g((b,o)=>{o.exports=_jsx_runtime});var y={};w(y,{default:()=>p,frontmatter:()=>M});var e=f(i()),M={title:\"\\u63A5\\u96E8\\u6C34\",date:\"2024-12-15\",tags:[\"algorithm\"],draft:!1,summary:null};function h(a){let n={a:\"a\",code:\"code\",h1:\"h1\",h3:\"h3\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",ul:\"ul\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"\\u9898\\u76EE\\u63CF\\u8FF0\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u9898\\u76EE\\u63CF\\u8FF0\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9898\\u76EE\\u63CF\\u8FF0\"]}),(0,e.jsx)(n.p,{children:\"\\u7ED9\\u5B9A n \\u4E2A\\u975E\\u8D1F\\u6574\\u6570\\u8868\\u793A\\u6BCF\\u4E2A\\u5BBD\\u5EA6\\u4E3A 1 \\u7684\\u67F1\\u5B50\\u7684\\u9AD8\\u5EA6\\u56FE\\uFF0C\\u8BA1\\u7B97\\u6309\\u6B64\\u6392\\u5217\\u7684\\u67F1\\u5B50\\uFF0C\\u4E0B\\u96E8\\u4E4B\\u540E\\u80FD\\u63A5\\u591A\\u5C11\\u96E8\\u6C34\\u3002\"}),(0,e.jsx)(n.p,{children:\"\\u793A\\u4F8B 1\\uFF1A \\u8F93\\u5165\\uFF1Aheight = [0,1,0,2,1,0,1,3,2,1,2,1] \\u8F93\\u51FA\\uFF1A6 \\u89E3\\u91CA\\uFF1A\\u4E0A\\u9762\\u662F\\u7531\\u6570\\u7EC4 [0,1,0,2,1,0,1,3,2,1,2,1] \\u8868\\u793A\\u7684\\u9AD8\\u5EA6\\u56FE\\uFF0C\\u5728\\u8FD9\\u79CD\\u60C5\\u51B5\\u4E0B\\uFF0C\\u53EF\\u4EE5\\u63A5 6 \\u4E2A\\u5355\\u4F4D\\u7684\\u96E8\\u6C34\\uFF08\\u84DD\\u8272\\u90E8\\u5206\\u8868\\u793A\\u96E8\\u6C34\\uFF09\\u3002 \\u793A\\u4F8B 2\\uFF1A\"}),(0,e.jsx)(n.p,{children:\"\\u8F93\\u5165\\uFF1Aheight = [4,2,0,3,2,5] \\u8F93\\u51FA\\uFF1A9\"}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"\\u601D\\u8DEF\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u601D\\u8DEF\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u601D\\u8DEF\"]}),(0,e.jsxs)(n.h3,{className:\"content-header\",id:\"\\u53CC\\u6307\\u9488\\u6CD5\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u53CC\\u6307\\u9488\\u6CD5\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u53CC\\u6307\\u9488\\u6CD5\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\u5B9A\\u4E49\\u4E24\\u4E2A\\u6307\\u9488\\uFF0C\\u5206\\u522B\\u4ECE\\u5DE6\\u548C\\u4ECE\\u53F3\\u4FBF\\u5229\\uFF0C\\u5728\\u904D\\u5386\\u8FC7\\u7A0B\\u4E2D\\u66F4\\u65B0\\u5DE6\\u8FB9\\u6700\\u5927\\u503C\\u548C\\u53F3\\u8FB9\\u6700\\u5927\\u503C\"}),(0,e.jsx)(n.li,{children:\"\\u5982\\u679C leftMax < rightMax \\uFF0C\\u5219\\u79EF\\u6C34\\u9AD8\\u5EA6\\u662F leftMax - currentLeftHeight \\uFF1B\\u53CD\\u4E4B\\uFF0C\\u79EF\\u6C34\\u9AD8\\u5EA6\\u662F rightMax - currentRightHeight\"}),(0,e.jsx)(n.li,{children:\"\\u5982\\u679C\\u6307\\u9488\\u76F8\\u9047\\uFF0C\\u5219\\u8BF4\\u660E\\u7ED3\\u675F\"})]}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"\\u4EE3\\u7801\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"trap\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"height\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" number\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" number \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" left \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" right \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" leftMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" rightMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" ans \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"while\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"left \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<=\"}),\" right\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"leftMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<=\"}),\" rightMax\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"left\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" leftMax\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                ans \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" leftMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"left\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"else\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                leftMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"left\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            left\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"else\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"right\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" rightMax\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                ans \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" rightMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"right\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"else\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                rightMax \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"right\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            right\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"--\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" ans\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]})}function p(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(h,{...a})}):h(a)}return x(y);})();\n;return Component;"
    },
    "_id": "articles/algorithm/trapping-rain-water.mdx",
    "_raw": {
      "sourceFilePath": "articles/algorithm/trapping-rain-water.mdx",
      "sourceFileName": "trapping-rain-water.mdx",
      "sourceFileDir": "articles/algorithm",
      "contentType": "mdx",
      "flattenedPath": "articles/algorithm/trapping-rain-water"
    },
    "type": "Blog",
    "readingTime": {
      "text": "2 min read",
      "minutes": 1.31,
      "time": 78600,
      "words": 262
    },
    "slug": "algorithm/trapping-rain-water",
    "path": "articles/algorithm/trapping-rain-water",
    "filePath": "articles/algorithm/trapping-rain-water.mdx",
    "toc": [
      {
        "value": "题目描述",
        "url": "#题目描述",
        "depth": 1
      },
      {
        "value": "思路",
        "url": "#思路",
        "depth": 1
      },
      {
        "value": "双指针法",
        "url": "#双指针法",
        "depth": 3
      },
      {
        "value": "代码",
        "url": "#代码",
        "depth": 1
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "接雨水",
      "datePublished": "2024-12-15T00:00:00.000Z",
      "dateModified": "2024-12-15T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/algorithm/trapping-rain-water"
    }
  },
  {
    "title": "使用 Canvas 绘制图片并添加对比色文本",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "canvas"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n### 在 React 中使用 Canvas 绘制图片并添加对比色文本\r\n\r\n在这篇博客中，我们将学习如何在 React 中使用 Canvas 绘制图片、处理图片数据，并根据图片的顶部颜色生成对比色，以便在图片顶部添加清晰易读的文字。这个项目适合对前端图形处理和 Canvas 有兴趣的开发者，特别是那些需要在项目中应用图像处理和文字叠加的场景。\r\n\r\n### 需求分析\r\n\r\n我们希望实现以下几个功能：\r\n\r\n1.  **加载和绘制图片**：在 Canvas 中加载一张图片并将其绘制出来。\r\n2.  **获取图片顶部的平均颜色**：提取图片顶部区域的颜色数据，计算平均颜色值。\r\n3.  **生成对比色**：根据顶部颜色生成一个对比色（黑色或白色），使其与顶部颜色形成明显对比。\r\n4.  **绘制文字**：在图片顶部使用对比色绘制一段文字，以确保文字清晰可读。\r\n\r\n### 技术点\r\n\r\n- **Canvas API**：用于图像绘制和图像数据处理。\r\n- **React Hooks**：使用 `useRef` 和 `useEffect` 管理 Canvas 和异步操作。\r\n- **对比色计算**：通过亮度计算来确定文本的最佳对比色。\r\n\r\n### 实现步骤\r\n\r\n#### 1. 创建项目结构\r\n\r\n在 React 项目中创建一个新的组件文件 `Page.tsx` ，并定义基本结构：\r\n\r\n```typescript\r\n\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\n```\r\n\r\n#### 2. 加载图片并绘制到 Canvas\r\n\r\n我们先定义一个 `loadImage` 函数，用于从 URL 加载图片并返回 `HTMLImageElement`。在图片加载完成后，我们可以使用 `canvas.getContext(\"2d\").drawImage()` 将图片绘制到 Canvas 上：\r\n\r\n```typescript\r\nfunction loadImage(url: string) {\r\n  return new Promise<HTMLImageElement>((resolve, reject) => {\r\n    const img = new Image();\r\n    img.crossOrigin = \"anonymous\";\r\n    img.onload = () => resolve(img);\r\n    img.onerror = reject;\r\n    img.src = url;\r\n  });\r\n}\r\n```\r\n\r\n#### 3. 获取图片顶部的平均颜色\r\n\r\n接下来，我们提取图片顶部的颜色数据，并计算其平均颜色。我们可以取图片顶部 10% 的高度作为样本区域：\r\n\r\n```typescript\r\nfunction getTopColor(imageData: ImageData) {\r\n  const { data, width, height } = imageData;\r\n  const topHeight = Math.floor(height * 0.1);\r\n\r\n  let rTotal = 0,\r\n    gTotal = 0,\r\n    bTotal = 0,\r\n    pixelCount = 0;\r\n\r\n  for (let y = 0; y < topHeight; y++) {\r\n    for (let x = 0; x < width; x++) {\r\n      const index = (y * width + x) * 4;\r\n      rTotal += data[index];\r\n      gTotal += data[index + 1];\r\n      bTotal += data[index + 2];\r\n      pixelCount++;\r\n    }\r\n  }\r\n\r\n  const rAvg = rTotal / pixelCount;\r\n  const gAvg = gTotal / pixelCount;\r\n  const bAvg = bTotal / pixelCount;\r\n\r\n  return { r: Math.round(rAvg), g: Math.round(gAvg), b: Math.round(bAvg) };\r\n}\r\n```\r\n\r\n#### 4. 根据顶部颜色生成对比色\r\n\r\n为了确保文字在图片上具有清晰的对比度，我们可以根据顶部颜色的亮度来选择对比色。亮度公式如下：\r\n\r\n$$ brightness = 0.299 \\times R + 0.587 \\times G + 0.114 \\times B $$\r\n\r\n如果亮度较高，则使用黑色作为对比色；如果亮度较低，则使用白色。代码如下：\r\n\r\n```typescript\r\nfunction getContrastColor({ r, g, b }: { r: number; g: number; b: number }) {\r\n  const brightness = 0.299 * r + 0.587 * g + 0.114 * b;\r\n  return brightness > 128 ? \"black\" : \"white\";\r\n}\r\n```\r\n\r\n#### 5. 使用对比色绘制文本\r\n\r\n现在我们可以将文字绘制到 Canvas 的顶部区域，并使用对比色确保文字清晰可见。\r\n\r\n```typescript\r\nexport default function Page() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const canvas = canvasRef.current;\r\n      if (!canvas) return;\r\n\r\n      const context = canvas.getContext(\"2d\");\r\n      const img = await loadImage(\r\n        \"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\"\r\n      );\r\n\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n\r\n      const imageData = context?.getImageData(0, 0, img.width, img.height);\r\n      if (!imageData) return;\r\n\r\n      const topColor = getTopColor(imageData);\r\n      const contrastColor = getContrastColor(topColor);\r\n\r\n      context.putImageData(imageData, 0, 0);\r\n\r\n      // 设置文本样式并绘制到顶部\r\n      context.font = \"24px Arial\";\r\n      context.fillStyle = contrastColor;\r\n      context.textAlign = \"center\";\r\n      context.fillText(\"Sample Text at Top\", canvas.width / 2, 30);\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <canvas id=\"canvas\" ref={canvasRef}></canvas>\r\n    </div>\r\n  );\r\n}\r\n```\r\n\r\n### 6. 整体效果展示\r\n\r\n- [canvas图片对比色文字](/projects/canvas/constract)\r\n\r\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),w=(e,a)=>{for(var s in a)l(e,s,{get:a[s],enumerable:!0})},r=(e,a,s,t)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let c of N(a))!k.call(e,c)&&c!==s&&l(e,c,{get:()=>a[c],enumerable:!(t=m(a,c))||t.enumerable});return e};var y=(e,a,s)=>(s=e!=null?h(u(e)):{},r(a||!e||!e.__esModule?l(s,\"default\",{value:e,enumerable:!0}):s,e)),f=e=>r(l({},\"__esModule\",{value:!0}),e);var o=g((C,i)=>{i.exports=_jsx_runtime});var x={};w(x,{default:()=>d,frontmatter:()=>v});var n=y(o()),v={title:\"\\u4F7F\\u7528 Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\",date:\"2016-03-08\",tags:[\"canvas\"],draft:!1,summary:null};function p(e){let a={a:\"a\",annotation:\"annotation\",code:\"code\",h3:\"h3\",h4:\"h4\",li:\"li\",math:\"math\",mi:\"mi\",mn:\"mn\",mo:\"mo\",mrow:\"mrow\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",semantics:\"semantics\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u5728-react-\\u4E2D\\u4F7F\\u7528-canvas-\\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\",children:[(0,n.jsx)(a.a,{href:\"#\\u5728-react-\\u4E2D\\u4F7F\\u7528-canvas-\\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5728 React \\u4E2D\\u4F7F\\u7528 Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u5982\\u4F55\\u5728 React \\u4E2D\\u4F7F\\u7528 Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u3001\\u5904\\u7406\\u56FE\\u7247\\u6570\\u636E\\uFF0C\\u5E76\\u6839\\u636E\\u56FE\\u7247\\u7684\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\\uFF0C\\u4EE5\\u4FBF\\u5728\\u56FE\\u7247\\u9876\\u90E8\\u6DFB\\u52A0\\u6E05\\u6670\\u6613\\u8BFB\\u7684\\u6587\\u5B57\\u3002\\u8FD9\\u4E2A\\u9879\\u76EE\\u9002\\u5408\\u5BF9\\u524D\\u7AEF\\u56FE\\u5F62\\u5904\\u7406\\u548C Canvas \\u6709\\u5174\\u8DA3\\u7684\\u5F00\\u53D1\\u8005\\uFF0C\\u7279\\u522B\\u662F\\u90A3\\u4E9B\\u9700\\u8981\\u5728\\u9879\\u76EE\\u4E2D\\u5E94\\u7528\\u56FE\\u50CF\\u5904\\u7406\\u548C\\u6587\\u5B57\\u53E0\\u52A0\\u7684\\u573A\\u666F\\u3002\"}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u9700\\u6C42\\u5206\\u6790\",children:[(0,n.jsx)(a.a,{href:\"#\\u9700\\u6C42\\u5206\\u6790\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9700\\u6C42\\u5206\\u6790\"]}),(0,n.jsx)(a.p,{children:\"\\u6211\\u4EEC\\u5E0C\\u671B\\u5B9E\\u73B0\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u529F\\u80FD\\uFF1A\"}),(0,n.jsxs)(a.ol,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u52A0\\u8F7D\\u548C\\u7ED8\\u5236\\u56FE\\u7247\"}),\"\\uFF1A\\u5728 Canvas \\u4E2D\\u52A0\\u8F7D\\u4E00\\u5F20\\u56FE\\u7247\\u5E76\\u5C06\\u5176\\u7ED8\\u5236\\u51FA\\u6765\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\"}),\"\\uFF1A\\u63D0\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u533A\\u57DF\\u7684\\u989C\\u8272\\u6570\\u636E\\uFF0C\\u8BA1\\u7B97\\u5E73\\u5747\\u989C\\u8272\\u503C\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\"}),\"\\uFF1A\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u4E00\\u4E2A\\u5BF9\\u6BD4\\u8272\\uFF08\\u9ED1\\u8272\\u6216\\u767D\\u8272\\uFF09\\uFF0C\\u4F7F\\u5176\\u4E0E\\u9876\\u90E8\\u989C\\u8272\\u5F62\\u6210\\u660E\\u663E\\u5BF9\\u6BD4\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u7ED8\\u5236\\u6587\\u5B57\"}),\"\\uFF1A\\u5728\\u56FE\\u7247\\u9876\\u90E8\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u4E00\\u6BB5\\u6587\\u5B57\\uFF0C\\u4EE5\\u786E\\u4FDD\\u6587\\u5B57\\u6E05\\u6670\\u53EF\\u8BFB\\u3002\"]})]}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u6280\\u672F\\u70B9\",children:[(0,n.jsx)(a.a,{href:\"#\\u6280\\u672F\\u70B9\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6280\\u672F\\u70B9\"]}),(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"Canvas API\"}),\"\\uFF1A\\u7528\\u4E8E\\u56FE\\u50CF\\u7ED8\\u5236\\u548C\\u56FE\\u50CF\\u6570\\u636E\\u5904\\u7406\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"React Hooks\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:\"useRef\"}),\" \\u548C \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u7BA1\\u7406 Canvas \\u548C\\u5F02\\u6B65\\u64CD\\u4F5C\\u3002\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"\\u5BF9\\u6BD4\\u8272\\u8BA1\\u7B97\"}),\"\\uFF1A\\u901A\\u8FC7\\u4EAE\\u5EA6\\u8BA1\\u7B97\\u6765\\u786E\\u5B9A\\u6587\\u672C\\u7684\\u6700\\u4F73\\u5BF9\\u6BD4\\u8272\\u3002\"]})]}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u5B9E\\u73B0\\u6B65\\u9AA4\",children:[(0,n.jsx)(a.a,{href:\"#\\u5B9E\\u73B0\\u6B65\\u9AA4\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5B9E\\u73B0\\u6B65\\u9AA4\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"1-\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",children:[(0,n.jsx)(a.a,{href:\"#1-\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728 React \\u9879\\u76EE\\u4E2D\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u7EC4\\u4EF6\\u6587\\u4EF6 \",(0,n.jsx)(a.code,{children:\"Page.tsx\"}),\" \\uFF0C\\u5E76\\u5B9A\\u4E49\\u57FA\\u672C\\u7ED3\\u6784\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"2-\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u7ED8\\u5236\\u5230-canvas\",children:[(0,n.jsx)(a.a,{href:\"#2-\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u7ED8\\u5236\\u5230-canvas\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u7ED8\\u5236\\u5230 Canvas\"]}),(0,n.jsxs)(a.p,{children:[\"\\u6211\\u4EEC\\u5148\\u5B9A\\u4E49\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u4ECE URL \\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u8FD4\\u56DE \",(0,n.jsx)(a.code,{children:\"HTMLImageElement\"}),\"\\u3002\\u5728\\u56FE\\u7247\\u52A0\\u8F7D\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:'canvas.getContext(\"2d\").drawImage()'}),\" \\u5C06\\u56FE\\u7247\\u7ED8\\u5236\\u5230 Canvas \\u4E0A\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"url\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsxs)(a.span,{className:\"token class-name\",children:[(0,n.jsx)(a.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"resolve\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Image\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"crossOrigin \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"anonymous\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onload\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"resolve\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"onerror \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"src \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" url\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"3-\\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\",children:[(0,n.jsx)(a.a,{href:\"#3-\\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u83B7\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u5E73\\u5747\\u989C\\u8272\"]}),(0,n.jsx)(a.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u63D0\\u53D6\\u56FE\\u7247\\u9876\\u90E8\\u7684\\u989C\\u8272\\u6570\\u636E\\uFF0C\\u5E76\\u8BA1\\u7B97\\u5176\\u5E73\\u5747\\u989C\\u8272\\u3002\\u6211\\u4EEC\\u53EF\\u4EE5\\u53D6\\u56FE\\u7247\\u9876\\u90E8 10% \\u7684\\u9AD8\\u5EA6\\u4F5C\\u4E3A\\u6837\\u672C\\u533A\\u57DF\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getTopColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" ImageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" height \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" topHeight \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"floor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"height \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" rTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    gTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    bTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    pixelCount \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" y \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" y \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\" topHeight\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" y\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" x \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" x \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\" width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" x\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" index \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"y \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" x\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"4\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      rTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"index\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      gTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"index \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      bTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"index \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      pixelCount\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"++\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" rAvg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" rTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" pixelCount\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" gAvg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" gTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" pixelCount\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" bAvg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" bTotal \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" pixelCount\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" r\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"round\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"rAvg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" g\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"round\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"gAvg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" b\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" Math\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"round\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"bAvg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"4-\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\",children:[(0,n.jsx)(a.a,{href:\"#4-\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4. \\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u751F\\u6210\\u5BF9\\u6BD4\\u8272\"]}),(0,n.jsx)(a.p,{children:\"\\u4E3A\\u4E86\\u786E\\u4FDD\\u6587\\u5B57\\u5728\\u56FE\\u7247\\u4E0A\\u5177\\u6709\\u6E05\\u6670\\u7684\\u5BF9\\u6BD4\\u5EA6\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u6839\\u636E\\u9876\\u90E8\\u989C\\u8272\\u7684\\u4EAE\\u5EA6\\u6765\\u9009\\u62E9\\u5BF9\\u6BD4\\u8272\\u3002\\u4EAE\\u5EA6\\u516C\\u5F0F\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(a.p,{children:(0,n.jsxs)(a.span,{className:\"katex\",translate:\"no\",children:[(0,n.jsx)(a.span,{className:\"katex-mathml\",children:(0,n.jsx)(a.math,{xmlns:\"http://www.w3.org/1998/Math/MathML\",children:(0,n.jsxs)(a.semantics,{children:[(0,n.jsxs)(a.mrow,{children:[(0,n.jsx)(a.mi,{children:\"b\"}),(0,n.jsx)(a.mi,{children:\"r\"}),(0,n.jsx)(a.mi,{children:\"i\"}),(0,n.jsx)(a.mi,{children:\"g\"}),(0,n.jsx)(a.mi,{children:\"h\"}),(0,n.jsx)(a.mi,{children:\"t\"}),(0,n.jsx)(a.mi,{children:\"n\"}),(0,n.jsx)(a.mi,{children:\"e\"}),(0,n.jsx)(a.mi,{children:\"s\"}),(0,n.jsx)(a.mi,{children:\"s\"}),(0,n.jsx)(a.mo,{children:\"=\"}),(0,n.jsx)(a.mn,{children:\"0.299\"}),(0,n.jsx)(a.mo,{children:\"\\xD7\"}),(0,n.jsx)(a.mi,{children:\"R\"}),(0,n.jsx)(a.mo,{children:\"+\"}),(0,n.jsx)(a.mn,{children:\"0.587\"}),(0,n.jsx)(a.mo,{children:\"\\xD7\"}),(0,n.jsx)(a.mi,{children:\"G\"}),(0,n.jsx)(a.mo,{children:\"+\"}),(0,n.jsx)(a.mn,{children:\"0.114\"}),(0,n.jsx)(a.mo,{children:\"\\xD7\"}),(0,n.jsx)(a.mi,{children:\"B\"})]}),(0,n.jsx)(a.annotation,{encoding:\"application/x-tex\",children:\"brightness = 0.299 \\\\times R + 0.587 \\\\times G + 0.114 \\\\times B\"})]})})}),(0,n.jsxs)(a.span,{className:\"katex-html\",\"aria-hidden\":\"true\",children:[(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".8889em\",verticalAlign:\"-.1944em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"b\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".02778em\"},children:\"r\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"i\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".03588em\"},children:\"g\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"h\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"t\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"n\"}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"ess\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2778em\"}}),(0,n.jsx)(a.span,{className:\"mrel\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2778em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7278em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord\",children:\"0.299\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"\\xD7\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7667em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".00773em\"},children:\"R\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"+\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7278em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord\",children:\"0.587\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"\\xD7\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7667em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",children:\"G\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"+\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".7278em\",verticalAlign:\"-.0833em\"}}),(0,n.jsx)(a.span,{className:\"mord\",children:\"0.114\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}}),(0,n.jsx)(a.span,{className:\"mbin\",children:\"\\xD7\"}),(0,n.jsx)(a.span,{className:\"mspace\",style:{marginRight:\".2222em\"}})]}),(0,n.jsxs)(a.span,{className:\"base\",children:[(0,n.jsx)(a.span,{className:\"strut\",style:{height:\".6833em\"}}),(0,n.jsx)(a.span,{className:\"mord mathnormal\",style:{marginRight:\".05017em\"},children:\"B\"})]})]})]})}),(0,n.jsx)(a.p,{children:\"\\u5982\\u679C\\u4EAE\\u5EA6\\u8F83\\u9AD8\\uFF0C\\u5219\\u4F7F\\u7528\\u9ED1\\u8272\\u4F5C\\u4E3A\\u5BF9\\u6BD4\\u8272\\uFF1B\\u5982\\u679C\\u4EAE\\u5EA6\\u8F83\\u4F4E\\uFF0C\\u5219\\u4F7F\\u7528\\u767D\\u8272\\u3002\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getContrastColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" r\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" g\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" b \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" r\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" g\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" b\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" brightness \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.299\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" r \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.587\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" g \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0.114\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" b\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" brightness \",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"128\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"black\"'}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"white\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"5-\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u6587\\u672C\",children:[(0,n.jsx)(a.a,{href:\"#5-\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u6587\\u672C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"5. \\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u7ED8\\u5236\\u6587\\u672C\"]}),(0,n.jsx)(a.p,{children:\"\\u73B0\\u5728\\u6211\\u4EEC\\u53EF\\u4EE5\\u5C06\\u6587\\u5B57\\u7ED8\\u5236\\u5230 Canvas \\u7684\\u9876\\u90E8\\u533A\\u57DF\\uFF0C\\u5E76\\u4F7F\\u7528\\u5BF9\\u6BD4\\u8272\\u786E\\u4FDD\\u6587\\u5B57\\u6E05\\u6670\\u53EF\\u89C1\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token generic-function\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(a.span,{className:\"token class-name generic\",children:[(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" context \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\"'}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" imageData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" context\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?.\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" topColor \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getTopColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" contrastColor \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getContrastColor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"topColor\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"putImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u6587\\u672C\\u6837\\u5F0F\\u5E76\\u7ED8\\u5236\\u5230\\u9876\\u90E8\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"font \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"24px Arial\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"fillStyle \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" contrastColor\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"textAlign \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"center\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"fillText\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"Sample Text at Top\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"30\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"6-\\u6574\\u4F53\\u6548\\u679C\\u5C55\\u793A\",children:[(0,n.jsx)(a.a,{href:\"#6-\\u6574\\u4F53\\u6548\\u679C\\u5C55\\u793A\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"6. \\u6574\\u4F53\\u6548\\u679C\\u5C55\\u793A\"]}),(0,n.jsx)(a.ul,{children:(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:\"/projects/canvas/constract\",children:\"canvas\\u56FE\\u7247\\u5BF9\\u6BD4\\u8272\\u6587\\u5B57\"})})})]})}function d(e={}){let{wrapper:a}=e.components||{};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}return f(x);})();\n;return Component;"
    },
    "_id": "articles/canvas/canvas-constract.mdx",
    "_raw": {
      "sourceFilePath": "articles/canvas/canvas-constract.mdx",
      "sourceFileName": "canvas-constract.mdx",
      "sourceFileDir": "articles/canvas",
      "contentType": "mdx",
      "flattenedPath": "articles/canvas/canvas-constract"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.65,
      "time": 279000,
      "words": 930
    },
    "slug": "canvas/canvas-constract",
    "path": "articles/canvas/canvas-constract",
    "filePath": "articles/canvas/canvas-constract.mdx",
    "toc": [
      {
        "value": "在 React 中使用 Canvas 绘制图片并添加对比色文本",
        "url": "#在-react-中使用-canvas-绘制图片并添加对比色文本",
        "depth": 3
      },
      {
        "value": "需求分析",
        "url": "#需求分析",
        "depth": 3
      },
      {
        "value": "技术点",
        "url": "#技术点",
        "depth": 3
      },
      {
        "value": "实现步骤",
        "url": "#实现步骤",
        "depth": 3
      },
      {
        "value": "1. 创建项目结构",
        "url": "#1-创建项目结构",
        "depth": 4
      },
      {
        "value": "2. 加载图片并绘制到 Canvas",
        "url": "#2-加载图片并绘制到-canvas",
        "depth": 4
      },
      {
        "value": "3. 获取图片顶部的平均颜色",
        "url": "#3-获取图片顶部的平均颜色",
        "depth": 4
      },
      {
        "value": "4. 根据顶部颜色生成对比色",
        "url": "#4-根据顶部颜色生成对比色",
        "depth": 4
      },
      {
        "value": "5. 使用对比色绘制文本",
        "url": "#5-使用对比色绘制文本",
        "depth": 4
      },
      {
        "value": "6. 整体效果展示",
        "url": "#6-整体效果展示",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 Canvas 绘制图片并添加对比色文本",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/canvas/canvas-constract"
    }
  },
  {
    "title": "使用 canvas 实现灰度化图片",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "canvas"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n### React 和 Canvas: 使用 ImageData 处理图片灰度化效果\r\n\r\n在这篇博客中，我们将创建一个简单的 React 应用程序，通过 Canvas 和 `ImageData` 对图片进行灰度化处理。具体来说，我们将加载图片，将其绘制在 Canvas 上，提取图片数据，然后遍历和修改像素数据实现灰度效果。\r\n\r\n#### 步骤 1：项目准备\r\n\r\n首先，创建一个新的 React 组件，在项目文件夹下创建一个 `Page.tsx` 文件，将会在该组件中完成图片的处理工作。代码的整体结构如下：\r\n\r\n```typescript\r\n\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\n\r\nexport default function Page() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    // 主逻辑在此执行\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <canvas id=\"canvas\" ref={canvasRef}></canvas>\r\n    </div>\r\n  );\r\n}\r\n```\r\n\r\n### 核心功能实现\r\n\r\n我们将以下功能逐步实现：\r\n\r\n1.  加载图片并将其绘制在 Canvas 上。\r\n2.  获取图片的 `ImageData`。\r\n3.  遍历 `ImageData` 中的像素数据，实现灰度化处理。\r\n\r\n#### 加载图片\r\n\r\n在 React 中，可以通过 `useEffect` 钩子在组件渲染后加载图片。这里定义了一个 `loadImage` 函数，通过 `Image` 对象加载图片并返回一个 Promise：\r\n\r\n```typescript\r\n// 加载图片并返回 HTMLImageElement\r\nfunction loadImage(url: string) {\r\n  return new Promise<HTMLImageElement>((resolve, reject) => {\r\n    const img = new Image();\r\n    img.crossOrigin = \"anonymous\"; // 允许跨域加载图片\r\n    img.onload = () => resolve(img);\r\n    img.onerror = reject;\r\n    img.src = url;\r\n  });\r\n}\r\n```\r\n\r\n在 `useEffect` 中调用 `loadImage` 函数加载图片。加载完成后，我们将图片绘制到 Canvas 上。\r\n\r\n#### 绘制图片\r\n\r\n接下来创建一个 `drawImage` 函数，用于将加载的图片绘制在 Canvas 上。可以通过 Canvas 的 `2D` 上下文实现：\r\n\r\n```typescript\r\nfunction drawImage(image: HTMLImageElement, canvas: HTMLCanvasElement) {\r\n  const ctx = canvas.getContext(\"2d\");\r\n  if (ctx) {\r\n    ctx.drawImage(image, 0, 0); // 在 Canvas 上绘制图片\r\n  }\r\n}\r\n```\r\n\r\n在 `useEffect` 中，当图片加载完毕后调用该函数，确保图片已经绘制在 Canvas 上。\r\n\r\n#### 获取 ImageData\r\n\r\n为了进行灰度化处理，我们需要先从图片中获取像素数据。使用 `OffscreenCanvas` 来提取图片的 `ImageData` 数据，这样就不需要在 Canvas 上显示图片：\r\n\r\n```typescript\r\nfunction getImageData(\r\n  img: HTMLImageElement,\r\n  rect: [number, number, number, number]\r\n) {\r\n  const canvas = new OffscreenCanvas(img.width, img.height); // 创建一个 OffscreenCanvas\r\n  const ctx = canvas.getContext(\"2d\");\r\n  ctx?.drawImage(img, 0, 0); // 绘制图片\r\n  const imageData = ctx?.getImageData(...rect); // 获取指定区域的 ImageData\r\n  return imageData;\r\n}\r\n```\r\n\r\n在 `useEffect` 中调用 `getImageData` 获取整个图片的像素数据。\r\n\r\n#### 遍历和修改 ImageData 数据\r\n\r\n现在我们已经获得了图片的像素数据（`ImageData`），我们可以对它进行处理。这里我们将实现灰度化效果，将每个像素的 RGB 值设置为平均值。\r\n\r\n```typescript\r\nfunction traverseImageData(imageData: ImageData) {\r\n  for (let i = 0; i < imageData.data.length; i += 4) {\r\n    const r = imageData.data[i];\r\n    const g = imageData.data[i + 1];\r\n    const b = imageData.data[i + 2];\r\n    const avg = (r + g + b) / 3; // 计算 RGB 平均值\r\n    imageData.data[i] = avg;\r\n    imageData.data[i + 1] = avg;\r\n    imageData.data[i + 2] = avg;\r\n  }\r\n}\r\n```\r\n\r\n遍历 `imageData.data` 数组，每四个元素代表一个像素的 RGBA 值。将 `r`、`g`、`b` 赋值为平均值，实现灰度化。\r\n\r\n#### 整合代码\r\n\r\n将所有代码整合在 `useEffect` 中，使得页面加载时自动加载、处理并显示图片。\r\n\r\n```typescript\r\nexport default function Page() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const canvas = canvasRef.current;\r\n      if (!canvas) return;\r\n\r\n      const context = canvas.getContext(\"2d\");\r\n      const img = await loadImage(\r\n        \"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\"\r\n      );\r\n\r\n      // 设置 Canvas 尺寸以匹配图片尺寸\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n\r\n      // 获取图片数据\r\n      const imageData = getImageData(img, [0, 0, img.width, img.height]);\r\n      if (!imageData) return;\r\n\r\n      // 应用灰度化\r\n      traverseImageData(imageData);\r\n\r\n      // 将修改后的数据重新绘制到 Canvas 上\r\n      if (context) {\r\n        context.putImageData(imageData, 0, 0);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <canvas id=\"canvas\" ref={canvasRef}></canvas>\r\n    </div>\r\n  );\r\n}\r\n```\r\n\r\n#### 效果展示\r\n\r\n- [canvas灰度化图片](/projects/canvas/gray)\r\n\r\n\r\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports),w=(e,a)=>{for(var s in a)l(e,s,{get:a[s],enumerable:!0})},i=(e,a,s,t)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let c of u(a))!k.call(e,c)&&c!==s&&l(e,c,{get:()=>a[c],enumerable:!(t=m(a,c))||t.enumerable});return e};var f=(e,a,s)=>(s=e!=null?h(N(e)):{},i(a||!e||!e.__esModule?l(s,\"default\",{value:e,enumerable:!0}):s,e)),v=e=>i(l({},\"__esModule\",{value:!0}),e);var r=g((I,o)=>{o.exports=_jsx_runtime});var x={};w(x,{default:()=>d,frontmatter:()=>y});var n=f(r()),y={title:\"\\u4F7F\\u7528 canvas \\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u56FE\\u7247\",date:\"2016-03-08\",tags:[\"canvas\"],draft:!1,summary:null};function p(e){let a={a:\"a\",code:\"code\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",ul:\"ul\",...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"react-\\u548C-canvas-\\u4F7F\\u7528-imagedata-\\u5904\\u7406\\u56FE\\u7247\\u7070\\u5EA6\\u5316\\u6548\\u679C\",children:[(0,n.jsx)(a.a,{href:\"#react-\\u548C-canvas-\\u4F7F\\u7528-imagedata-\\u5904\\u7406\\u56FE\\u7247\\u7070\\u5EA6\\u5316\\u6548\\u679C\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"React \\u548C Canvas: \\u4F7F\\u7528 ImageData \\u5904\\u7406\\u56FE\\u7247\\u7070\\u5EA6\\u5316\\u6548\\u679C\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728\\u8FD9\\u7BC7\\u535A\\u5BA2\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u521B\\u5EFA\\u4E00\\u4E2A\\u7B80\\u5355\\u7684 React \\u5E94\\u7528\\u7A0B\\u5E8F\\uFF0C\\u901A\\u8FC7 Canvas \\u548C \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u5BF9\\u56FE\\u7247\\u8FDB\\u884C\\u7070\\u5EA6\\u5316\\u5904\\u7406\\u3002\\u5177\\u4F53\\u6765\\u8BF4\\uFF0C\\u6211\\u4EEC\\u5C06\\u52A0\\u8F7D\\u56FE\\u7247\\uFF0C\\u5C06\\u5176\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\uFF0C\\u63D0\\u53D6\\u56FE\\u7247\\u6570\\u636E\\uFF0C\\u7136\\u540E\\u904D\\u5386\\u548C\\u4FEE\\u6539\\u50CF\\u7D20\\u6570\\u636E\\u5B9E\\u73B0\\u7070\\u5EA6\\u6548\\u679C\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u6B65\\u9AA4-1\\u9879\\u76EE\\u51C6\\u5907\",children:[(0,n.jsx)(a.a,{href:\"#\\u6B65\\u9AA4-1\\u9879\\u76EE\\u51C6\\u5907\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6B65\\u9AA4 1\\uFF1A\\u9879\\u76EE\\u51C6\\u5907\"]}),(0,n.jsxs)(a.p,{children:[\"\\u9996\\u5148\\uFF0C\\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684 React \\u7EC4\\u4EF6\\uFF0C\\u5728\\u9879\\u76EE\\u6587\\u4EF6\\u5939\\u4E0B\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"Page.tsx\"}),\" \\u6587\\u4EF6\\uFF0C\\u5C06\\u4F1A\\u5728\\u8BE5\\u7EC4\\u4EF6\\u4E2D\\u5B8C\\u6210\\u56FE\\u7247\\u7684\\u5904\\u7406\\u5DE5\\u4F5C\\u3002\\u4EE3\\u7801\\u7684\\u6574\\u4F53\\u7ED3\\u6784\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token generic-function\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(a.span,{className:\"token class-name generic\",children:[(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u4E3B\\u903B\\u8F91\\u5728\\u6B64\\u6267\\u884C\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{className:\"content-header\",id:\"\\u6838\\u5FC3\\u529F\\u80FD\\u5B9E\\u73B0\",children:[(0,n.jsx)(a.a,{href:\"#\\u6838\\u5FC3\\u529F\\u80FD\\u5B9E\\u73B0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6838\\u5FC3\\u529F\\u80FD\\u5B9E\\u73B0\"]}),(0,n.jsx)(a.p,{children:\"\\u6211\\u4EEC\\u5C06\\u4EE5\\u4E0B\\u529F\\u80FD\\u9010\\u6B65\\u5B9E\\u73B0\\uFF1A\"}),(0,n.jsxs)(a.ol,{children:[(0,n.jsx)(a.li,{children:\"\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u5C06\\u5176\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\u3002\"}),(0,n.jsxs)(a.li,{children:[\"\\u83B7\\u53D6\\u56FE\\u7247\\u7684 \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\"\\u3002\"]}),(0,n.jsxs)(a.li,{children:[\"\\u904D\\u5386 \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u4E2D\\u7684\\u50CF\\u7D20\\u6570\\u636E\\uFF0C\\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u5904\\u7406\\u3002\"]})]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u52A0\\u8F7D\\u56FE\\u7247\",children:[(0,n.jsx)(a.a,{href:\"#\\u52A0\\u8F7D\\u56FE\\u7247\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u52A0\\u8F7D\\u56FE\\u7247\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5728 React \\u4E2D\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u94A9\\u5B50\\u5728\\u7EC4\\u4EF6\\u6E32\\u67D3\\u540E\\u52A0\\u8F7D\\u56FE\\u7247\\u3002\\u8FD9\\u91CC\\u5B9A\\u4E49\\u4E86\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\uFF0C\\u901A\\u8FC7 \",(0,n.jsx)(a.code,{children:\"Image\"}),\" \\u5BF9\\u8C61\\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u8FD4\\u56DE\\u4E00\\u4E2A Promise\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u52A0\\u8F7D\\u56FE\\u7247\\u5E76\\u8FD4\\u56DE HTMLImageElement\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"url\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"string\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsxs)(a.span,{className:\"token class-name\",children:[(0,n.jsx)(a.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"resolve\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Image\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"crossOrigin \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"anonymous\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5141\\u8BB8\\u8DE8\\u57DF\\u52A0\\u8F7D\\u56FE\\u7247\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onload\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"resolve\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"onerror \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" reject\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"src \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" url\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\u8C03\\u7528 \",(0,n.jsx)(a.code,{children:\"loadImage\"}),\" \\u51FD\\u6570\\u52A0\\u8F7D\\u56FE\\u7247\\u3002\\u52A0\\u8F7D\\u5B8C\\u6210\\u540E\\uFF0C\\u6211\\u4EEC\\u5C06\\u56FE\\u7247\\u7ED8\\u5236\\u5230 Canvas \\u4E0A\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u7ED8\\u5236\\u56FE\\u7247\",children:[(0,n.jsx)(a.a,{href:\"#\\u7ED8\\u5236\\u56FE\\u7247\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u7ED8\\u5236\\u56FE\\u7247\"]}),(0,n.jsxs)(a.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u521B\\u5EFA\\u4E00\\u4E2A \",(0,n.jsx)(a.code,{children:\"drawImage\"}),\" \\u51FD\\u6570\\uFF0C\\u7528\\u4E8E\\u5C06\\u52A0\\u8F7D\\u7684\\u56FE\\u7247\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\u3002\\u53EF\\u4EE5\\u901A\\u8FC7 Canvas \\u7684 \",(0,n.jsx)(a.code,{children:\"2D\"}),\" \\u4E0A\\u4E0B\\u6587\\u5B9E\\u73B0\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"drawImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"image\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" ctx \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    ctx\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"drawImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"image\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5728 Canvas \\u4E0A\\u7ED8\\u5236\\u56FE\\u7247\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\uFF0C\\u5F53\\u56FE\\u7247\\u52A0\\u8F7D\\u5B8C\\u6BD5\\u540E\\u8C03\\u7528\\u8BE5\\u51FD\\u6570\\uFF0C\\u786E\\u4FDD\\u56FE\\u7247\\u5DF2\\u7ECF\\u7ED8\\u5236\\u5728 Canvas \\u4E0A\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u83B7\\u53D6-imagedata\",children:[(0,n.jsx)(a.a,{href:\"#\\u83B7\\u53D6-imagedata\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u83B7\\u53D6 ImageData\"]}),(0,n.jsxs)(a.p,{children:[\"\\u4E3A\\u4E86\\u8FDB\\u884C\\u7070\\u5EA6\\u5316\\u5904\\u7406\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5148\\u4ECE\\u56FE\\u7247\\u4E2D\\u83B7\\u53D6\\u50CF\\u7D20\\u6570\\u636E\\u3002\\u4F7F\\u7528 \",(0,n.jsx)(a.code,{children:\"OffscreenCanvas\"}),\" \\u6765\\u63D0\\u53D6\\u56FE\\u7247\\u7684 \",(0,n.jsx)(a.code,{children:\"ImageData\"}),\" \\u6570\\u636E\\uFF0C\\u8FD9\\u6837\\u5C31\\u4E0D\\u9700\\u8981\\u5728 Canvas \\u4E0A\\u663E\\u793A\\u56FE\\u7247\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  img\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" HTMLImageElement\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  rect\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token builtin\",children:\"number\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OffscreenCanvas\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u4E00\\u4E2A OffscreenCanvas\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" ctx \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  ctx\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?.\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"drawImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u7ED8\\u5236\\u56FE\\u7247\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" imageData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" ctx\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"?.\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),\"rect\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u83B7\\u53D6\\u6307\\u5B9A\\u533A\\u57DF\\u7684 ImageData\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\u8C03\\u7528 \",(0,n.jsx)(a.code,{children:\"getImageData\"}),\" \\u83B7\\u53D6\\u6574\\u4E2A\\u56FE\\u7247\\u7684\\u50CF\\u7D20\\u6570\\u636E\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u904D\\u5386\\u548C\\u4FEE\\u6539-imagedata-\\u6570\\u636E\",children:[(0,n.jsx)(a.a,{href:\"#\\u904D\\u5386\\u548C\\u4FEE\\u6539-imagedata-\\u6570\\u636E\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u904D\\u5386\\u548C\\u4FEE\\u6539 ImageData \\u6570\\u636E\"]}),(0,n.jsxs)(a.p,{children:[\"\\u73B0\\u5728\\u6211\\u4EEC\\u5DF2\\u7ECF\\u83B7\\u5F97\\u4E86\\u56FE\\u7247\\u7684\\u50CF\\u7D20\\u6570\\u636E\\uFF08\",(0,n.jsx)(a.code,{children:\"ImageData\"}),\"\\uFF09\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5BF9\\u5B83\\u8FDB\\u884C\\u5904\\u7406\\u3002\\u8FD9\\u91CC\\u6211\\u4EEC\\u5C06\\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u6548\\u679C\\uFF0C\\u5C06\\u6BCF\\u4E2A\\u50CF\\u7D20\\u7684 RGB \\u503C\\u8BBE\\u7F6E\\u4E3A\\u5E73\\u5747\\u503C\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"traverseImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" ImageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"length\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"4\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" r \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" g \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" b \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" avg \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"r \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" g \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" b\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u8BA1\\u7B97 RGB \\u5E73\\u5747\\u503C\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" avg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" avg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"i \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" avg\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u904D\\u5386 \",(0,n.jsx)(a.code,{children:\"imageData.data\"}),\" \\u6570\\u7EC4\\uFF0C\\u6BCF\\u56DB\\u4E2A\\u5143\\u7D20\\u4EE3\\u8868\\u4E00\\u4E2A\\u50CF\\u7D20\\u7684 RGBA \\u503C\\u3002\\u5C06 \",(0,n.jsx)(a.code,{children:\"r\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"g\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"b\"}),\" \\u8D4B\\u503C\\u4E3A\\u5E73\\u5747\\u503C\\uFF0C\\u5B9E\\u73B0\\u7070\\u5EA6\\u5316\\u3002\"]}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u6574\\u5408\\u4EE3\\u7801\",children:[(0,n.jsx)(a.a,{href:\"#\\u6574\\u5408\\u4EE3\\u7801\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6574\\u5408\\u4EE3\\u7801\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5C06\\u6240\\u6709\\u4EE3\\u7801\\u6574\\u5408\\u5728 \",(0,n.jsx)(a.code,{children:\"useEffect\"}),\" \\u4E2D\\uFF0C\\u4F7F\\u5F97\\u9875\\u9762\\u52A0\\u8F7D\\u65F6\\u81EA\\u52A8\\u52A0\\u8F7D\\u3001\\u5904\\u7406\\u5E76\\u663E\\u793A\\u56FE\\u7247\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-typescript\",children:(0,n.jsxs)(a.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(a.span,{className:\"token generic-function\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(a.span,{className:\"token class-name generic\",children:[(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"HTMLCanvasElement\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" context \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"2d\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" img \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadImage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aW1hZ2V8ZW58MHx8MHx8fDA%3D\"'}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E Canvas \\u5C3A\\u5BF8\\u4EE5\\u5339\\u914D\\u56FE\\u7247\\u5C3A\\u5BF8\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      canvas\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u83B7\\u53D6\\u56FE\\u7247\\u6570\\u636E\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" imageData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"width\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" img\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"height\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"!\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5E94\\u7528\\u7070\\u5EA6\\u5316\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token function\",children:\"traverseImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u5C06\\u4FEE\\u6539\\u540E\\u7684\\u6570\\u636E\\u91CD\\u65B0\\u7ED8\\u5236\\u5230 Canvas \\u4E0A\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        context\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"putImageData\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"imageData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(a.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h4,{className:\"content-header\",id:\"\\u6548\\u679C\\u5C55\\u793A\",children:[(0,n.jsx)(a.a,{href:\"#\\u6548\\u679C\\u5C55\\u793A\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.span,{className:\"content-header-link\",children:(0,n.jsxs)(a.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(a.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(a.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6548\\u679C\\u5C55\\u793A\"]}),(0,n.jsx)(a.ul,{children:(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:\"/projects/canvas/gray\",children:\"canvas\\u7070\\u5EA6\\u5316\\u56FE\\u7247\"})})})]})}function d(e={}){let{wrapper:a}=e.components||{};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}return v(x);})();\n;return Component;"
    },
    "_id": "articles/canvas/canvas-gray.mdx",
    "_raw": {
      "sourceFilePath": "articles/canvas/canvas-gray.mdx",
      "sourceFileName": "canvas-gray.mdx",
      "sourceFileDir": "articles/canvas",
      "contentType": "mdx",
      "flattenedPath": "articles/canvas/canvas-gray"
    },
    "type": "Blog",
    "readingTime": {
      "text": "5 min read",
      "minutes": 4.515,
      "time": 270900,
      "words": 903
    },
    "slug": "canvas/canvas-gray",
    "path": "articles/canvas/canvas-gray",
    "filePath": "articles/canvas/canvas-gray.mdx",
    "toc": [
      {
        "value": "React 和 Canvas: 使用 ImageData 处理图片灰度化效果",
        "url": "#react-和-canvas-使用-imagedata-处理图片灰度化效果",
        "depth": 3
      },
      {
        "value": "步骤 1：项目准备",
        "url": "#步骤-1项目准备",
        "depth": 4
      },
      {
        "value": "核心功能实现",
        "url": "#核心功能实现",
        "depth": 3
      },
      {
        "value": "加载图片",
        "url": "#加载图片",
        "depth": 4
      },
      {
        "value": "绘制图片",
        "url": "#绘制图片",
        "depth": 4
      },
      {
        "value": "获取 ImageData",
        "url": "#获取-imagedata",
        "depth": 4
      },
      {
        "value": "遍历和修改 ImageData 数据",
        "url": "#遍历和修改-imagedata-数据",
        "depth": 4
      },
      {
        "value": "整合代码",
        "url": "#整合代码",
        "depth": 4
      },
      {
        "value": "效果展示",
        "url": "#效果展示",
        "depth": 4
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 canvas 实现灰度化图片",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/canvas/canvas-gray"
    }
  },
  {
    "title": "useEffect 详解：副作用的管理与性能优化",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "react"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n# 什么是副作用？\r\n\r\n副作用（Side Effect）是指在函数执行过程中对外部世界的影响，或者说对函数执行结果以外的事物产生影响。副作用通常指那些不直接影响当前函数计算结果，但可能会改变程序状态或外部环境的操作。例如：\r\n\r\n- 发起网络请求\r\n- 修改 DOM\r\n- 订阅事件\r\n- 设置定时器等\r\n\r\n在 React 中，副作用是通过 `useEffect` 这个 Hook 来管理的。`useEffect` 让我们能够在函数组件中执行这些副作用，同时还能清理它们，避免内存泄漏或不必要的操作。\r\n\r\n#### `useEffect` 的基本语法\r\n\r\n`useEffect` 接收两个参数：\r\n\r\n1. **第一个参数**是执行副作用的函数。\r\n2. **第二个参数**是一个依赖数组（可选）。它用来告诉 React 何时重新执行副作用。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  // 执行副作用的代码\r\n}, [dependencies]);\r\n```\r\n\r\n#### 执行时间\r\n\r\n`useEffect` 会在组件渲染之后执行。因此，它通常用来处理需要访问 DOM 或进行副作用操作（如网络请求）的任务。\r\n\r\n- **第一次渲染时**：`useEffect` 会在组件挂载后执行一次。\r\n- **后续渲染时**：每当组件更新，`useEffect` 会在每次渲染后执行。\r\n\r\n### 严格模式下的执行\r\n\r\n在 **React 18** 中，如果启用了严格模式（`React.StrictMode`），`useEffect` 可能会被调用两次。这种行为只会发生在开发环境中，主要目的是帮助开发者发现副作用中的潜在问题。React 会在初次渲染时运行 `useEffect`，然后卸载并重新渲染组件，执行副作用。这可以帮助发现副作用未被正确清理的问题。\r\n\r\n然而，组件的挂载时执行的副作用只会执行一次。\r\n\r\n### `useEffect` 的使用场景\r\n\r\n#### 1. **请求数据**\r\n\r\n`useEffect` 是处理数据请求的常见地方。你可以在 `useEffect` 中发起网络请求，获取数据，并通过更新状态来触发组件重新渲染。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  const fetchData = async () => {\r\n    const response = await fetch(\"https://api.example.com/data\");\r\n    const data = await response.json();\r\n    setData(data);\r\n  };\r\n\r\n  fetchData();\r\n}, []); // 只在组件挂载时执行一次\r\n```\r\n\r\n#### 2. **监听数据变化**\r\n\r\n你可以通过依赖数组来监听某些状态或 props 的变化。当依赖项发生变化时，`useEffect` 会重新执行。这样就可以根据数据的变化更新组件状态或执行其他副作用。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  console.log(\"Data has changed:\", data);\r\n}, [data]); // 当 data 发生变化时执行\r\n```\r\n\r\n#### 3. **订阅事件**\r\n\r\n`useEffect` 还可以用来订阅外部事件，如 `resize`、`scroll` 或 WebSocket 消息等。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  const handleResize = () => {\r\n    console.log(\"Window resized\");\r\n  };\r\n\r\n  window.addEventListener(\"resize\", handleResize);\r\n\r\n  return () => {\r\n    window.removeEventListener(\"resize\", handleResize);\r\n  };\r\n}, []); // 只在组件挂载和卸载时执行\r\n```\r\n\r\n### `useEffect` 的清理机制\r\n\r\n`useEffect` 支持**清理副作用**。清理函数用于移除订阅、清除定时器或清理其他可能导致内存泄漏的资源。返回的清理函数会在组件卸载时执行，或者在依赖项发生变化之前执行。\r\n\r\n#### 清理定时器\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  const timer = setInterval(() => {\r\n    console.log(\"Timer tick\");\r\n  }, 1000);\r\n\r\n  return () => clearInterval(timer); // 清理定时器\r\n}, []);\r\n```\r\n\r\n#### 清理事件监听器\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  const handleClick = () => console.log(\"Button clicked\");\r\n\r\n  window.addEventListener(\"click\", handleClick);\r\n\r\n  return () => {\r\n    window.removeEventListener(\"click\", handleClick);\r\n  };\r\n}, []);\r\n```\r\n\r\n### `useEffect` 的依赖数组\r\n\r\n#### 1. **没有依赖数组**\r\n\r\n如果没有传入第二个参数（依赖数组），`useEffect` 会在每次渲染后执行。这种做法一般不推荐，因为它会影响性能，特别是在渲染非常频繁的组件中。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  console.log(\"Component rendered\");\r\n}); // 每次渲染都会执行\r\n```\r\n\r\n#### 2. **空依赖数组**\r\n\r\n传入空数组 (`[]`) 表示 `useEffect` 只会在组件挂载时执行一次，这对于需要在组件初始化时执行的副作用非常有用。例如，在组件加载时获取数据或者设置一次性的订阅。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  console.log(\"Component mounted\");\r\n}, []); // 只在挂载时执行一次\r\n```\r\n\r\n#### 3. **依赖项**\r\n\r\n传入依赖数组时，`useEffect` 只会在某个依赖项发生变化时执行。这有助于减少不必要的副作用执行，提高性能。\r\n\r\n```javascript\r\nuseEffect(() => {\r\n  console.log(\"Data updated:\", data);\r\n}, [data]); // 只有 data 发生变化时才执行\r\n```\r\n\r\n### 性能优化\r\n\r\n为了提高性能，避免不必要的副作用执行，可以通过精确控制依赖项来减少执行次数。确保依赖数组只包含那些会触发副作用的变量。\r\n\r\n### 总结\r\n\r\n- **副作用**：`useEffect` 用于处理副作用，比如数据请求、事件订阅等。\r\n- **执行时机**：`useEffect` 在每次渲染后执行，并且可以通过依赖数组控制执行时机。\r\n- **清理副作用**：返回的清理函数用于清除副作用，避免内存泄漏。\r\n- **性能优化**：合理使用依赖数组，避免每次渲染都执行副作用。\r\n\r\n通过合理使用 `useEffect`，你可以有效地管理副作用，优化组件的性能，并确保资源得以正确清理。\r\n",
      "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var f=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!k.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(t=u(e,s))||t.enumerable});return a};var w=(a,e,c)=>(c=a!=null?p(N(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>i(l({},\"__esModule\",{value:!0}),a);var r=f((Z,o)=>{o.exports=_jsx_runtime});var M={};g(M,{default:()=>h,frontmatter:()=>x});var n=w(r()),x={title:\"useEffect \\u8BE6\\u89E3\\uFF1A\\u526F\\u4F5C\\u7528\\u7684\\u7BA1\\u7406\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",date:\"2016-03-08\",tags:[\"react\"],draft:!1,summary:null};function d(a){let e={a:\"a\",code:\"code\",h1:\"h1\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\\uFF1F\"]}),(0,n.jsx)(e.p,{children:\"\\u526F\\u4F5C\\u7528\\uFF08Side Effect\\uFF09\\u662F\\u6307\\u5728\\u51FD\\u6570\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\u5BF9\\u5916\\u90E8\\u4E16\\u754C\\u7684\\u5F71\\u54CD\\uFF0C\\u6216\\u8005\\u8BF4\\u5BF9\\u51FD\\u6570\\u6267\\u884C\\u7ED3\\u679C\\u4EE5\\u5916\\u7684\\u4E8B\\u7269\\u4EA7\\u751F\\u5F71\\u54CD\\u3002\\u526F\\u4F5C\\u7528\\u901A\\u5E38\\u6307\\u90A3\\u4E9B\\u4E0D\\u76F4\\u63A5\\u5F71\\u54CD\\u5F53\\u524D\\u51FD\\u6570\\u8BA1\\u7B97\\u7ED3\\u679C\\uFF0C\\u4F46\\u53EF\\u80FD\\u4F1A\\u6539\\u53D8\\u7A0B\\u5E8F\\u72B6\\u6001\\u6216\\u5916\\u90E8\\u73AF\\u5883\\u7684\\u64CD\\u4F5C\\u3002\\u4F8B\\u5982\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\"}),(0,n.jsx)(e.li,{children:\"\\u4FEE\\u6539 DOM\"}),(0,n.jsx)(e.li,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"}),(0,n.jsx)(e.li,{children:\"\\u8BBE\\u7F6E\\u5B9A\\u65F6\\u5668\\u7B49\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u4E2D\\uFF0C\\u526F\\u4F5C\\u7528\\u662F\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8FD9\\u4E2A Hook \\u6765\\u7BA1\\u7406\\u7684\\u3002\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8BA9\\u6211\\u4EEC\\u80FD\\u591F\\u5728\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u6267\\u884C\\u8FD9\\u4E9B\\u526F\\u4F5C\\u7528\\uFF0C\\u540C\\u65F6\\u8FD8\\u80FD\\u6E05\\u7406\\u5B83\\u4EEC\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u6216\\u4E0D\\u5FC5\\u8981\\u7684\\u64CD\\u4F5C\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"useeffect-\\u7684\\u57FA\\u672C\\u8BED\\u6CD5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u57FA\\u672C\\u8BED\\u6CD5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u57FA\\u672C\\u8BED\\u6CD5\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u63A5\\u6536\\u4E24\\u4E2A\\u53C2\\u6570\\uFF1A\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\"}),\"\\u662F\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u51FD\\u6570\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\"}),\"\\u662F\\u4E00\\u4E2A\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF08\\u53EF\\u9009\\uFF09\\u3002\\u5B83\\u7528\\u6765\\u544A\\u8BC9 React \\u4F55\\u65F6\\u91CD\\u65B0\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]})]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6267\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u4EE3\\u7801\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"dependencies\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6267\\u884C\\u65F6\\u95F4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6267\\u884C\\u65F6\\u95F4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6267\\u884C\\u65F6\\u95F4\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u7EC4\\u4EF6\\u6E32\\u67D3\\u4E4B\\u540E\\u6267\\u884C\\u3002\\u56E0\\u6B64\\uFF0C\\u5B83\\u901A\\u5E38\\u7528\\u6765\\u5904\\u7406\\u9700\\u8981\\u8BBF\\u95EE DOM \\u6216\\u8FDB\\u884C\\u526F\\u4F5C\\u7528\\u64CD\\u4F5C\\uFF08\\u5982\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF09\\u7684\\u4EFB\\u52A1\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u540E\\u6267\\u884C\\u4E00\\u6B21\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u540E\\u7EED\\u6E32\\u67D3\\u65F6\"}),\"\\uFF1A\\u6BCF\\u5F53\\u7EC4\\u4EF6\\u66F4\\u65B0\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u3002\"]})]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.strong,{children:\"React 18\"}),\" \\u4E2D\\uFF0C\\u5982\\u679C\\u542F\\u7528\\u4E86\\u4E25\\u683C\\u6A21\\u5F0F\\uFF08\",(0,n.jsx)(e.code,{children:\"React.StrictMode\"}),\"\\uFF09\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EF\\u80FD\\u4F1A\\u88AB\\u8C03\\u7528\\u4E24\\u6B21\\u3002\\u8FD9\\u79CD\\u884C\\u4E3A\\u53EA\\u4F1A\\u53D1\\u751F\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u4E3B\\u8981\\u76EE\\u7684\\u662F\\u5E2E\\u52A9\\u5F00\\u53D1\\u8005\\u53D1\\u73B0\\u526F\\u4F5C\\u7528\\u4E2D\\u7684\\u6F5C\\u5728\\u95EE\\u9898\\u3002React \\u4F1A\\u5728\\u521D\\u6B21\\u6E32\\u67D3\\u65F6\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\uFF0C\\u7136\\u540E\\u5378\\u8F7D\\u5E76\\u91CD\\u65B0\\u6E32\\u67D3\\u7EC4\\u4EF6\\uFF0C\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\\u8FD9\\u53EF\\u4EE5\\u5E2E\\u52A9\\u53D1\\u73B0\\u526F\\u4F5C\\u7528\\u672A\\u88AB\\u6B63\\u786E\\u6E05\\u7406\\u7684\\u95EE\\u9898\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u7136\\u800C\\uFF0C\\u7EC4\\u4EF6\\u7684\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u7684\\u526F\\u4F5C\\u7528\\u53EA\\u4F1A\\u6267\\u884C\\u4E00\\u6B21\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u4F7F\\u7528\\u573A\\u666F\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u4F7F\\u7528\\u573A\\u666F\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u4F7F\\u7528\\u573A\\u666F\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"1-\\u8BF7\\u6C42\\u6570\\u636E\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#1-\\u8BF7\\u6C42\\u6570\\u636E\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \",(0,n.jsx)(e.strong,{children:\"\\u8BF7\\u6C42\\u6570\\u636E\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u662F\\u5904\\u7406\\u6570\\u636E\\u8BF7\\u6C42\\u7684\\u5E38\\u89C1\\u5730\\u65B9\\u3002\\u4F60\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4E2D\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u83B7\\u53D6\\u6570\\u636E\\uFF0C\\u5E76\\u901A\\u8FC7\\u66F4\\u65B0\\u72B6\\u6001\\u6765\\u89E6\\u53D1\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"fetchData\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"https://api.example.com/data\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetchData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"2-\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#2-\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \",(0,n.jsx)(e.strong,{children:\"\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u6765\\u76D1\\u542C\\u67D0\\u4E9B\\u72B6\\u6001\\u6216 props \\u7684\\u53D8\\u5316\\u3002\\u5F53\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u91CD\\u65B0\\u6267\\u884C\\u3002\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u6839\\u636E\\u6570\\u636E\\u7684\\u53D8\\u5316\\u66F4\\u65B0\\u7EC4\\u4EF6\\u72B6\\u6001\\u6216\\u6267\\u884C\\u5176\\u4ED6\\u526F\\u4F5C\\u7528\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Data has changed:\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5F53 data \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"3-\\u8BA2\\u9605\\u4E8B\\u4EF6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#3-\\u8BA2\\u9605\\u4E8B\\u4EF6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \",(0,n.jsx)(e.strong,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8FD8\\u53EF\\u4EE5\\u7528\\u6765\\u8BA2\\u9605\\u5916\\u90E8\\u4E8B\\u4EF6\\uFF0C\\u5982 \",(0,n.jsx)(e.code,{children:\"resize\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"scroll\"}),\" \\u6216 WebSocket \\u6D88\\u606F\\u7B49\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleResize\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Window resized\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"resize\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleResize\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"resize\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleResize\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u548C\\u5378\\u8F7D\\u65F6\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u6E05\\u7406\\u673A\\u5236\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u6E05\\u7406\\u673A\\u5236\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u6E05\\u7406\\u673A\\u5236\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u652F\\u6301\",(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\u3002\\u6E05\\u7406\\u51FD\\u6570\\u7528\\u4E8E\\u79FB\\u9664\\u8BA2\\u9605\\u3001\\u6E05\\u9664\\u5B9A\\u65F6\\u5668\\u6216\\u6E05\\u7406\\u5176\\u4ED6\\u53EF\\u80FD\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u8D44\\u6E90\\u3002\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u4F1A\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6267\\u884C\\uFF0C\\u6216\\u8005\\u5728\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u4E4B\\u524D\\u6267\\u884C\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" timer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setInterval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Timer tick\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1000\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"clearInterval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"timer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleClick\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Button clicked\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"click\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleClick\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"click\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleClick\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"1-\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#1-\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \",(0,n.jsx)(e.strong,{children:\"\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6CA1\\u6709\\u4F20\\u5165\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF08\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF09\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u3002\\u8FD9\\u79CD\\u505A\\u6CD5\\u4E00\\u822C\\u4E0D\\u63A8\\u8350\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4F1A\\u5F71\\u54CD\\u6027\\u80FD\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u6E32\\u67D3\\u975E\\u5E38\\u9891\\u7E41\\u7684\\u7EC4\\u4EF6\\u4E2D\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Component rendered\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"2-\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#2-\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \",(0,n.jsx)(e.strong,{children:\"\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u5165\\u7A7A\\u6570\\u7EC4 (\",(0,n.jsx)(e.code,{children:\"[]\"}),\") \\u8868\\u793A \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EA\\u4F1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u8FD9\\u5BF9\\u4E8E\\u9700\\u8981\\u5728\\u7EC4\\u4EF6\\u521D\\u59CB\\u5316\\u65F6\\u6267\\u884C\\u7684\\u526F\\u4F5C\\u7528\\u975E\\u5E38\\u6709\\u7528\\u3002\\u4F8B\\u5982\\uFF0C\\u5728\\u7EC4\\u4EF6\\u52A0\\u8F7D\\u65F6\\u83B7\\u53D6\\u6570\\u636E\\u6216\\u8005\\u8BBE\\u7F6E\\u4E00\\u6B21\\u6027\\u7684\\u8BA2\\u9605\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Component mounted\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"3-\\u4F9D\\u8D56\\u9879\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#3-\\u4F9D\\u8D56\\u9879\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \",(0,n.jsx)(e.strong,{children:\"\\u4F9D\\u8D56\\u9879\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u5165\\u4F9D\\u8D56\\u6570\\u7EC4\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EA\\u4F1A\\u5728\\u67D0\\u4E2A\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u6267\\u884C\\u3002\\u8FD9\\u6709\\u52A9\\u4E8E\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\uFF0C\\u63D0\\u9AD8\\u6027\\u80FD\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Data updated:\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u6709 data \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u624D\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u6027\\u80FD\\u4F18\\u5316\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6027\\u80FD\\u4F18\\u5316\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6027\\u80FD\\u4F18\\u5316\"]}),(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u63D0\\u9AD8\\u6027\\u80FD\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u7CBE\\u786E\\u63A7\\u5236\\u4F9D\\u8D56\\u9879\\u6765\\u51CF\\u5C11\\u6267\\u884C\\u6B21\\u6570\\u3002\\u786E\\u4FDD\\u4F9D\\u8D56\\u6570\\u7EC4\\u53EA\\u5305\\u542B\\u90A3\\u4E9B\\u4F1A\\u89E6\\u53D1\\u526F\\u4F5C\\u7528\\u7684\\u53D8\\u91CF\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u603B\\u7ED3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u603B\\u7ED3\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7528\\u4E8E\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u6BD4\\u5982\\u6570\\u636E\\u8BF7\\u6C42\\u3001\\u4E8B\\u4EF6\\u8BA2\\u9605\\u7B49\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6267\\u884C\\u65F6\\u673A\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u63A7\\u5236\\u6267\\u884C\\u65F6\\u673A\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u7528\\u4E8E\\u6E05\\u9664\\u526F\\u4F5C\\u7528\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u5408\\u7406\\u4F7F\\u7528\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u907F\\u514D\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u5408\\u7406\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\uFF0C\\u4F60\\u53EF\\u4EE5\\u6709\\u6548\\u5730\\u7BA1\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u4F18\\u5316\\u7EC4\\u4EF6\\u7684\\u6027\\u80FD\\uFF0C\\u5E76\\u786E\\u4FDD\\u8D44\\u6E90\\u5F97\\u4EE5\\u6B63\\u786E\\u6E05\\u7406\\u3002\"]})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return v(M);})();\n;return Component;"
    },
    "_id": "articles/react/use-effect.mdx",
    "_raw": {
      "sourceFilePath": "articles/react/use-effect.mdx",
      "sourceFileName": "use-effect.mdx",
      "sourceFileDir": "articles/react",
      "contentType": "mdx",
      "flattenedPath": "articles/react/use-effect"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.4,
      "time": 384000,
      "words": 1280
    },
    "slug": "react/use-effect",
    "path": "articles/react/use-effect",
    "filePath": "articles/react/use-effect.mdx",
    "toc": [
      {
        "value": "什么是副作用？",
        "url": "#什么是副作用",
        "depth": 1
      },
      {
        "value": "useEffect 的基本语法",
        "url": "#useeffect-的基本语法",
        "depth": 4
      },
      {
        "value": "执行时间",
        "url": "#执行时间",
        "depth": 4
      },
      {
        "value": "严格模式下的执行",
        "url": "#严格模式下的执行",
        "depth": 3
      },
      {
        "value": "useEffect 的使用场景",
        "url": "#useeffect-的使用场景",
        "depth": 3
      },
      {
        "value": "1. 请求数据",
        "url": "#1-请求数据",
        "depth": 4
      },
      {
        "value": "2. 监听数据变化",
        "url": "#2-监听数据变化",
        "depth": 4
      },
      {
        "value": "3. 订阅事件",
        "url": "#3-订阅事件",
        "depth": 4
      },
      {
        "value": "useEffect 的清理机制",
        "url": "#useeffect-的清理机制",
        "depth": 3
      },
      {
        "value": "清理定时器",
        "url": "#清理定时器",
        "depth": 4
      },
      {
        "value": "清理事件监听器",
        "url": "#清理事件监听器",
        "depth": 4
      },
      {
        "value": "useEffect 的依赖数组",
        "url": "#useeffect-的依赖数组",
        "depth": 3
      },
      {
        "value": "1. 没有依赖数组",
        "url": "#1-没有依赖数组",
        "depth": 4
      },
      {
        "value": "2. 空依赖数组",
        "url": "#2-空依赖数组",
        "depth": 4
      },
      {
        "value": "3. 依赖项",
        "url": "#3-依赖项",
        "depth": 4
      },
      {
        "value": "性能优化",
        "url": "#性能优化",
        "depth": 3
      },
      {
        "value": "总结",
        "url": "#总结",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "useEffect 详解：副作用的管理与性能优化",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/react/use-effect"
    }
  },
  {
    "title": "使用 Three.js 和 着色器绘制网格",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "Three.js",
      "GLSL",
      "React"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n### 使用 Three.js 和 React 创建动态网格效果\r\n\r\n在本文中，我们将学习如何使用 Three.js 和 React 创建一个动态网格效果。我们将使用 GLSL（OpenGL Shading Language）编写自定义着色器，通过 Three.js 渲染一个二维的网格图案。本文示例是一个简单的项目，可以帮助你理解如何在 Three.js 中实现自定义着色器，并使用 React 管理渲染循环。\r\n\r\n### 先决条件\r\n\r\n在开始之前，你需要了解以下技术：\r\n\r\n- **React**：本项目使用 React 管理生命周期。\r\n- **Three.js**：一个流行的 3D 渲染库，用于处理 WebGL 场景。\r\n- **GLSL**：用于定义自定义着色器。我们将使用 GLSL 来控制网格的外观。\r\n\r\n### 创建项目结构\r\n\r\n首先，我们将设置一个新的 React 组件，并引入 Three.js。创建一个名为 `ThreeJsGrid.tsx` 的文件，代码如下：\r\n\r\n```typescript\r\n\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport * as THREE from \"three\";\r\n\r\nfunction ThreeJsGrid() {\r\n  const mountRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    // 初始化场景、摄像机和渲染器\r\n    const scene = new THREE.Scene();\r\n    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\r\n    camera.position.z = 1;\r\n\r\n    const renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(500, 500);\r\n    if (!mountRef.current) return;\r\n    mountRef.current.appendChild(renderer.domElement);\r\n\r\n    // 定义着色器\r\n    const vertexShader = `\r\n          varying vec2 vUv;\r\n          void main() {\r\n            vUv = uv;\r\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n          }\r\n        `;\r\n\r\n    const fragmentShader = `\r\n          precision mediump float;\r\n          varying vec2 vUv;\r\n          uniform float rows;\r\n          void main() {\r\n            vec2 st = fract(vUv * rows);\r\n            float d1 = step(st.x, 0.9);\r\n            float d2 = step(0.1, st.y);\r\n            gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\r\n          }\r\n        `;\r\n\r\n    // 创建一个平面几何体并应用着色器\r\n    const geometry = new THREE.PlaneGeometry(2, 2);\r\n    const material = new THREE.ShaderMaterial({\r\n      vertexShader,\r\n      fragmentShader,\r\n      uniforms: {\r\n        rows: { value: 50.0 }, // 设置网格的行数\r\n      },\r\n    });\r\n    const plane = new THREE.Mesh(geometry, material);\r\n    scene.add(plane);\r\n\r\n    // 渲染循环\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      renderer.render(scene, camera);\r\n    };\r\n    animate();\r\n\r\n    // 组件卸载时清理资源\r\n    return () => {\r\n      renderer.dispose();\r\n      material.dispose();\r\n      geometry.dispose();\r\n      if (mountRef.current) mountRef.current.removeChild(renderer.domElement);\r\n    };\r\n  }, []);\r\n\r\n  return <div ref={mountRef} />;\r\n}\r\n\r\nexport default ThreeJsGrid;\r\n```\r\n\r\n### 代码解析\r\n\r\n#### 初始化场景和摄像机\r\n\r\n```typescript\r\nconst scene = new THREE.Scene();\r\nconst camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\r\ncamera.position.z = 1;\r\n```\r\n\r\n我们创建了一个 `OrthographicCamera` 以正交方式查看场景，这样可以确保图案没有透视效果。摄像机位置为 `z=1`。\r\n\r\n#### 创建渲染器并将其附加到 DOM\r\n\r\n```typescript\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize(500, 500);\r\nif (!mountRef.current) return;\r\nmountRef.current.appendChild(renderer.domElement);\r\n```\r\n\r\n在 `WebGLRenderer` 设置后，我们将其 DOM 元素附加到 `ref` 指向的 HTML 元素上。\r\n\r\n#### 顶点和片段着色器\r\n\r\n在 Three.js 中，着色器可以极大地控制材质的显示效果。这里我们定义了两个着色器：\r\n\r\n- **Vertex Shader**：用于将顶点映射到屏幕坐标。\r\n- **Fragment Shader**：控制像素的颜色，生成我们想要的网格图案。\r\n\r\n```glsl\r\n// 顶点着色器\r\nconst vertexShader = `\r\n  varying vec2 vUv;\r\n  void main() {\r\n    vUv = uv;\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n  }\r\n`;\r\n\r\n// 片段着色器\r\nconst fragmentShader = `\r\n  precision mediump float;\r\n  varying vec2 vUv;\r\n  uniform float rows;\r\n  void main() {\r\n    vec2 st = fract(vUv * rows);\r\n    float d1 = step(st.x, 0.9);\r\n    float d2 = step(0.1, st.y);\r\n    gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\r\n  }\r\n`;\r\n```\r\n\r\n片段着色器中的关键部分如下：\r\n\r\n- 着色器是根据纹理坐标来绘制的，即 (0,0) 到 （1，1）之间的内容，默认就是一种颜色，现在 gl_FragColor 由 d1 和 d2 控制，d1 和 d2 根据纹理坐标变化。rows 将纹理坐标放大了六十倍，得到 0 到 60 之间到小数循环变化，d1 和 d2 根据图中的 x,y 坐标变化，则着色器颜色随之变化。\r\n\r\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/2fc6007d186f490da572345fbef69e21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=JjA9XURINYnJeruqp4HGGv%2B38pE%3D)\r\n\r\n- fract 函数表示取参数的小数部分，即 \\[0,60] 的小数部分，包括 0.1,0.2....，1.1,1.2....如此循环\r\n\r\n- `st` 变量表示 UV 坐标的分数部分。我们使用 `vUv * rows` 对网格进行缩放，形成网格块。\r\n\r\n- `d1` 和 `d2` 使用 `step` 函数生成边界效果，控制哪些网格线显示为深色或浅色。\r\n\r\n- `step` 函数是 `Shader` 中另一个很常用的函数，它就是一个阶梯函数。它的原理是：当 `step(a, b)` 中的 `b < a` 时，返回 `0`；当 `b >= a` 时，返回 `1`。即只有 `st.x < 0.9` 和 `st.y  < 0.1 ` 时 `d1*d2` 是为 `1` 的，其他情况都为 `0` 。\r\n\r\n- `d1*d2` 为 `1` 则绘制 `vec3(0.8)` ，否则绘制 `vec3(1.0)`。绘制白色和灰色，形成了网格效果\r\n\r\n#### 平面几何体和材质\r\n\r\n```typescript\r\nconst geometry = new THREE.PlaneGeometry(2, 2);\r\nconst material = new THREE.ShaderMaterial({\r\n  vertexShader,\r\n  fragmentShader,\r\n  uniforms: {\r\n    rows: { value: 50.0 }, // 设置行数\r\n  },\r\n});\r\nconst plane = new THREE.Mesh(geometry, material);\r\nscene.add(plane);\r\n```\r\n\r\n通过 `ShaderMaterial` 将着色器应用到一个平面上。`uniforms` 参数用于控制网格的行数。\r\n\r\n#### 渲染循环\r\n\r\n```typescript\r\nconst animate = () => {\r\n  requestAnimationFrame(animate);\r\n  renderer.render(scene, camera);\r\n};\r\nanimate();\r\n```\r\n\r\n这是一个典型的渲染循环，用于保持动画更新。我们调用 `requestAnimationFrame` 以实现平滑的动画。\r\n\r\n#### 资源清理\r\n\r\n```typescript\r\nreturn () => {\r\n  renderer.dispose();\r\n  material.dispose();\r\n  geometry.dispose();\r\n  if (mountRef.current) mountRef.current.removeChild(renderer.domElement);\r\n};\r\n```\r\n\r\n在组件卸载时，我们清理了 `renderer`、`material` 和 `geometry` 资源，以防止内存泄漏。\r\n\r\n### 运行效果\r\n\r\n在应用程序中引入 `ThreeJsGrid` 组件并渲染即可看到效果。调节 `rows` 的值，你可以控制网格的密度。\r\n\r\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/aaadd806c2824918b69d7b45e8294b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=lWuEbHZgsSbVC7pwncAvNLOvTlU%3D)\r\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},i=(a,e,s,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of u(e))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(t=m(e,c))||t.enumerable});return a};var f=(a,e,s)=>(s=a!=null?h(N(a)):{},i(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),y=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((M,r)=>{r.exports=_jsx_runtime});var x={};w(x,{default:()=>p,frontmatter:()=>v});var n=f(o()),v={title:\"\\u4F7F\\u7528 Three.js \\u548C \\u7740\\u8272\\u5668\\u7ED8\\u5236\\u7F51\\u683C\",date:\"2016-03-08\",tags:[\"Three.js\",\"GLSL\",\"React\"],draft:!1,summary:null};function d(a){let e={a:\"a\",code:\"code\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4F7F\\u7528-threejs-\\u548C-react-\\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4F7F\\u7528-threejs-\\u548C-react-\\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4F7F\\u7528 Three.js \\u548C React \\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u672C\\u6587\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u5982\\u4F55\\u4F7F\\u7528 Three.js \\u548C React \\u521B\\u5EFA\\u4E00\\u4E2A\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528 GLSL\\uFF08OpenGL Shading Language\\uFF09\\u7F16\\u5199\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\uFF0C\\u901A\\u8FC7 Three.js \\u6E32\\u67D3\\u4E00\\u4E2A\\u4E8C\\u7EF4\\u7684\\u7F51\\u683C\\u56FE\\u6848\\u3002\\u672C\\u6587\\u793A\\u4F8B\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u9879\\u76EE\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5982\\u4F55\\u5728 Three.js \\u4E2D\\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\uFF0C\\u5E76\\u4F7F\\u7528 React \\u7BA1\\u7406\\u6E32\\u67D3\\u5FAA\\u73AF\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u5148\\u51B3\\u6761\\u4EF6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5148\\u51B3\\u6761\\u4EF6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5148\\u51B3\\u6761\\u4EF6\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u5F00\\u59CB\\u4E4B\\u524D\\uFF0C\\u4F60\\u9700\\u8981\\u4E86\\u89E3\\u4EE5\\u4E0B\\u6280\\u672F\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"React\"}),\"\\uFF1A\\u672C\\u9879\\u76EE\\u4F7F\\u7528 React \\u7BA1\\u7406\\u751F\\u547D\\u5468\\u671F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Three.js\"}),\"\\uFF1A\\u4E00\\u4E2A\\u6D41\\u884C\\u7684 3D \\u6E32\\u67D3\\u5E93\\uFF0C\\u7528\\u4E8E\\u5904\\u7406 WebGL \\u573A\\u666F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"GLSL\"}),\"\\uFF1A\\u7528\\u4E8E\\u5B9A\\u4E49\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528 GLSL \\u6765\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u5916\\u89C2\\u3002\"]})]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\uFF0C\\u6211\\u4EEC\\u5C06\\u8BBE\\u7F6E\\u4E00\\u4E2A\\u65B0\\u7684 React \\u7EC4\\u4EF6\\uFF0C\\u5E76\\u5F15\\u5165 Three.js\\u3002\\u521B\\u5EFA\\u4E00\\u4E2A\\u540D\\u4E3A \",(0,n.jsx)(e.code,{children:\"ThreeJsGrid.tsx\"}),\" \\u7684\\u6587\\u4EF6\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"three\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ThreeJsGrid\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" mountRef \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"HTMLDivElement\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521D\\u59CB\\u5316\\u573A\\u666F\\u3001\\u6444\\u50CF\\u673A\\u548C\\u6E32\\u67D3\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" scene \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Scene\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" camera \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"OrthographicCamera\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"z \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" renderer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"WebGLRenderer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5B9A\\u4E49\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\\r\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          varying vec2 vUv;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          void main() {\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            vUv = uv;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          }\\r\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\\r\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          precision mediump float;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          varying vec2 vUv;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          uniform float rows;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          void main() {\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            vec2 st = fract(vUv * rows);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            float d1 = step(st.x, 0.9);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            float d2 = step(0.1, st.y);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          }\\r\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u4E00\\u4E2A\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u5E76\\u5E94\\u7528\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" geometry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"PlaneGeometry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" material \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"ShaderMaterial\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      uniforms\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rows\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u7F51\\u683C\\u7684\\u884C\\u6570\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" plane \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Mesh\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"plane\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6E32\\u67D3\\u5FAA\\u73AF\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"animate\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function\",children:\"requestAnimationFrame\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"animate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"animate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6E05\\u7406\\u8D44\\u6E90\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div ref\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" ThreeJsGrid\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" scene \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Scene\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" camera \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"OrthographicCamera\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"z \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"OrthographicCamera\"}),\" \\u4EE5\\u6B63\\u4EA4\\u65B9\\u5F0F\\u67E5\\u770B\\u573A\\u666F\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u786E\\u4FDD\\u56FE\\u6848\\u6CA1\\u6709\\u900F\\u89C6\\u6548\\u679C\\u3002\\u6444\\u50CF\\u673A\\u4F4D\\u7F6E\\u4E3A \",(0,n.jsx)(e.code,{children:\"z=1\"}),\"\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230-dom\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230-dom\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230 DOM\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" renderer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"WebGLRenderer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"WebGLRenderer\"}),\" \\u8BBE\\u7F6E\\u540E\\uFF0C\\u6211\\u4EEC\\u5C06\\u5176 DOM \\u5143\\u7D20\\u9644\\u52A0\\u5230 \",(0,n.jsx)(e.code,{children:\"ref\"}),\" \\u6307\\u5411\\u7684 HTML \\u5143\\u7D20\\u4E0A\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\"]}),(0,n.jsx)(e.p,{children:\"\\u5728 Three.js \\u4E2D\\uFF0C\\u7740\\u8272\\u5668\\u53EF\\u4EE5\\u6781\\u5927\\u5730\\u63A7\\u5236\\u6750\\u8D28\\u7684\\u663E\\u793A\\u6548\\u679C\\u3002\\u8FD9\\u91CC\\u6211\\u4EEC\\u5B9A\\u4E49\\u4E86\\u4E24\\u4E2A\\u7740\\u8272\\u5668\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Vertex Shader\"}),\"\\uFF1A\\u7528\\u4E8E\\u5C06\\u9876\\u70B9\\u6620\\u5C04\\u5230\\u5C4F\\u5E55\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Fragment Shader\"}),\"\\uFF1A\\u63A7\\u5236\\u50CF\\u7D20\\u7684\\u989C\\u8272\\uFF0C\\u751F\\u6210\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u7F51\\u683C\\u56FE\\u6848\\u3002\"]})]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9876\\u70B9\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" `\\r\\n\"]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_Position \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" projectionMatrix \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" modelViewMatrix \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"`\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7247\\u6BB5\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" `\\r\\n\"]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"uniform\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" st \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fract\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.9\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d2 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"y\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"mix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" d2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"`\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7247\\u6BB5\\u7740\\u8272\\u5668\\u4E2D\\u7684\\u5173\\u952E\\u90E8\\u5206\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(e.ul,{children:(0,n.jsx)(e.li,{children:\"\\u7740\\u8272\\u5668\\u662F\\u6839\\u636E\\u7EB9\\u7406\\u5750\\u6807\\u6765\\u7ED8\\u5236\\u7684\\uFF0C\\u5373 (0,0) \\u5230 \\uFF081\\uFF0C1\\uFF09\\u4E4B\\u95F4\\u7684\\u5185\\u5BB9\\uFF0C\\u9ED8\\u8BA4\\u5C31\\u662F\\u4E00\\u79CD\\u989C\\u8272\\uFF0C\\u73B0\\u5728 gl_FragColor \\u7531 d1 \\u548C d2 \\u63A7\\u5236\\uFF0Cd1 \\u548C d2 \\u6839\\u636E\\u7EB9\\u7406\\u5750\\u6807\\u53D8\\u5316\\u3002rows \\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u653E\\u5927\\u4E86\\u516D\\u5341\\u500D\\uFF0C\\u5F97\\u5230 0 \\u5230 60 \\u4E4B\\u95F4\\u5230\\u5C0F\\u6570\\u5FAA\\u73AF\\u53D8\\u5316\\uFF0Cd1 \\u548C d2 \\u6839\\u636E\\u56FE\\u4E2D\\u7684 x,y \\u5750\\u6807\\u53D8\\u5316\\uFF0C\\u5219\\u7740\\u8272\\u5668\\u989C\\u8272\\u968F\\u4E4B\\u53D8\\u5316\\u3002\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/2fc6007d186f490da572345fbef69e21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=JjA9XURINYnJeruqp4HGGv%2B38pE%3D\"})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.p,{children:\"fract \\u51FD\\u6570\\u8868\\u793A\\u53D6\\u53C2\\u6570\\u7684\\u5C0F\\u6570\\u90E8\\u5206\\uFF0C\\u5373 [0,60] \\u7684\\u5C0F\\u6570\\u90E8\\u5206\\uFF0C\\u5305\\u62EC 0.1,0.2....\\uFF0C1.1,1.2....\\u5982\\u6B64\\u5FAA\\u73AF\"})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"st\"}),\" \\u53D8\\u91CF\\u8868\\u793A UV \\u5750\\u6807\\u7684\\u5206\\u6570\\u90E8\\u5206\\u3002\\u6211\\u4EEC\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"vUv * rows\"}),\" \\u5BF9\\u7F51\\u683C\\u8FDB\\u884C\\u7F29\\u653E\\uFF0C\\u5F62\\u6210\\u7F51\\u683C\\u5757\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"d1\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"d2\"}),\" \\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u751F\\u6210\\u8FB9\\u754C\\u6548\\u679C\\uFF0C\\u63A7\\u5236\\u54EA\\u4E9B\\u7F51\\u683C\\u7EBF\\u663E\\u793A\\u4E3A\\u6DF1\\u8272\\u6216\\u6D45\\u8272\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u662F \",(0,n.jsx)(e.code,{children:\"Shader\"}),\" \\u4E2D\\u53E6\\u4E00\\u4E2A\\u5F88\\u5E38\\u7528\\u7684\\u51FD\\u6570\\uFF0C\\u5B83\\u5C31\\u662F\\u4E00\\u4E2A\\u9636\\u68AF\\u51FD\\u6570\\u3002\\u5B83\\u7684\\u539F\\u7406\\u662F\\uFF1A\\u5F53 \",(0,n.jsx)(e.code,{children:\"step(a, b)\"}),\" \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"b < a\"}),\" \\u65F6\\uFF0C\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"0\"}),\"\\uFF1B\\u5F53 \",(0,n.jsx)(e.code,{children:\"b >= a\"}),\" \\u65F6\\uFF0C\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"1\"}),\"\\u3002\\u5373\\u53EA\\u6709 \",(0,n.jsx)(e.code,{children:\"st.x < 0.9\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"st.y < 0.1 \"}),\"\\u65F6 \",(0,n.jsx)(e.code,{children:\"d1*d2\"}),\" \\u662F\\u4E3A \",(0,n.jsx)(e.code,{children:\"1\"}),\" \\u7684\\uFF0C\\u5176\\u4ED6\\u60C5\\u51B5\\u90FD\\u4E3A \",(0,n.jsx)(e.code,{children:\"0\"}),\" \\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"d1*d2\"}),\" \\u4E3A \",(0,n.jsx)(e.code,{children:\"1\"}),\" \\u5219\\u7ED8\\u5236 \",(0,n.jsx)(e.code,{children:\"vec3(0.8)\"}),\" \\uFF0C\\u5426\\u5219\\u7ED8\\u5236 \",(0,n.jsx)(e.code,{children:\"vec3(1.0)\"}),\"\\u3002\\u7ED8\\u5236\\u767D\\u8272\\u548C\\u7070\\u8272\\uFF0C\\u5F62\\u6210\\u4E86\\u7F51\\u683C\\u6548\\u679C\"]})})]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" geometry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"PlaneGeometry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" material \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"ShaderMaterial\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  uniforms\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    rows\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u884C\\u6570\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" plane \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Mesh\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"plane\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"ShaderMaterial\"}),\" \\u5C06\\u7740\\u8272\\u5668\\u5E94\\u7528\\u5230\\u4E00\\u4E2A\\u5E73\\u9762\\u4E0A\\u3002\",(0,n.jsx)(e.code,{children:\"uniforms\"}),\" \\u53C2\\u6570\\u7528\\u4E8E\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u884C\\u6570\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E32\\u67D3\\u5FAA\\u73AF\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E32\\u67D3\\u5FAA\\u73AF\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E32\\u67D3\\u5FAA\\u73AF\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"animate\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"requestAnimationFrame\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"animate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"animate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u662F\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u6E32\\u67D3\\u5FAA\\u73AF\\uFF0C\\u7528\\u4E8E\\u4FDD\\u6301\\u52A8\\u753B\\u66F4\\u65B0\\u3002\\u6211\\u4EEC\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"requestAnimationFrame\"}),\" \\u4EE5\\u5B9E\\u73B0\\u5E73\\u6ED1\\u7684\\u52A8\\u753B\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u8D44\\u6E90\\u6E05\\u7406\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8D44\\u6E90\\u6E05\\u7406\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8D44\\u6E90\\u6E05\\u7406\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF0C\\u6211\\u4EEC\\u6E05\\u7406\\u4E86 \",(0,n.jsx)(e.code,{children:\"renderer\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"material\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"geometry\"}),\" \\u8D44\\u6E90\\uFF0C\\u4EE5\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u8FD0\\u884C\\u6548\\u679C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8FD0\\u884C\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8FD0\\u884C\\u6548\\u679C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5E94\\u7528\\u7A0B\\u5E8F\\u4E2D\\u5F15\\u5165 \",(0,n.jsx)(e.code,{children:\"ThreeJsGrid\"}),\" \\u7EC4\\u4EF6\\u5E76\\u6E32\\u67D3\\u5373\\u53EF\\u770B\\u5230\\u6548\\u679C\\u3002\\u8C03\\u8282 \",(0,n.jsx)(e.code,{children:\"rows\"}),\" \\u7684\\u503C\\uFF0C\\u4F60\\u53EF\\u4EE5\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u5BC6\\u5EA6\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/aaadd806c2824918b69d7b45e8294b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=lWuEbHZgsSbVC7pwncAvNLOvTlU%3D\"})})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return y(x);})();\n;return Component;"
    },
    "_id": "articles/three/three-grid.mdx",
    "_raw": {
      "sourceFilePath": "articles/three/three-grid.mdx",
      "sourceFileName": "three-grid.mdx",
      "sourceFileDir": "articles/three",
      "contentType": "mdx",
      "flattenedPath": "articles/three/three-grid"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.195,
      "time": 371700,
      "words": 1239
    },
    "slug": "three/three-grid",
    "path": "articles/three/three-grid",
    "filePath": "articles/three/three-grid.mdx",
    "toc": [
      {
        "value": "使用 Three.js 和 React 创建动态网格效果",
        "url": "#使用-threejs-和-react-创建动态网格效果",
        "depth": 3
      },
      {
        "value": "先决条件",
        "url": "#先决条件",
        "depth": 3
      },
      {
        "value": "创建项目结构",
        "url": "#创建项目结构",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析",
        "depth": 3
      },
      {
        "value": "初始化场景和摄像机",
        "url": "#初始化场景和摄像机",
        "depth": 4
      },
      {
        "value": "创建渲染器并将其附加到 DOM",
        "url": "#创建渲染器并将其附加到-dom",
        "depth": 4
      },
      {
        "value": "顶点和片段着色器",
        "url": "#顶点和片段着色器",
        "depth": 4
      },
      {
        "value": "平面几何体和材质",
        "url": "#平面几何体和材质",
        "depth": 4
      },
      {
        "value": "渲染循环",
        "url": "#渲染循环",
        "depth": 4
      },
      {
        "value": "资源清理",
        "url": "#资源清理",
        "depth": 4
      },
      {
        "value": "运行效果",
        "url": "#运行效果",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 Three.js 和 着色器绘制网格",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/three/three-grid"
    }
  },
  {
    "title": "认识 Canvas 和 WebGL",
    "date": "2024-12-18T00:00:00.000Z",
    "tags": [
      "WebGL",
      "GLSL",
      "React",
      "Canvas"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n### Canvas 和 WebGL 入门教程\r\n\r\n在前端开发中，绘图已经成为一种重要的技能，而 `Canvas` 和 `WebGL` 是实现图形绘制的两个重要工具。本文将带你入门 `Canvas` 和 `WebGL`，帮助你理解如何使用它们在浏览器中绘制图形。\r\n\r\n---\r\n\r\n## 一、Canvas 入门\r\n\r\n`Canvas` 是 HTML5 提供的一个绘图容器，可以用于图形、动画和游戏开发。通过 `Canvas API`，你可以直接使用 JavaScript 绘制图像、矩形、圆形等图形。\r\n\r\n### 1. 基本结构\r\n\r\n首先，在 HTML 文件中添加一个 `canvas` 标签，并设置它的宽度和高度。\r\n\r\n```html\r\n<canvas id=\"myCanvas\" width=\"500\" height=\"500\"></canvas>\r\n```\r\n\r\n### 2. 获取绘图上下文\r\n\r\n要在 `canvas` 上绘图，我们需要获取绘图上下文。一般使用 2D 上下文 (`getContext('2d')`)，然后通过这个上下文调用各种绘图方法。\r\n\r\n```javascript\r\nconst canvas = document.getElementById('myCanvas');\r\nconst ctx = canvas.getContext('2d');\r\n```\r\n\r\n### 3. 绘制基本图形\r\n\r\n- **绘制矩形**\r\n\r\n  ```javascript\r\n  ctx.fillStyle = 'blue';\r\n  ctx.fillRect(50, 50, 100, 100);\r\n  ```\r\n\r\n- **绘制线条**\r\n\r\n  ```javascript\r\n  ctx.beginPath();\r\n  ctx.moveTo(200, 200);\r\n  ctx.lineTo(300, 300);\r\n  ctx.stroke();\r\n  ```\r\n\r\n- **绘制圆形**\r\n\r\n  ```javascript\r\n  ctx.beginPath();\r\n  ctx.arc(150, 150, 50, 0, Math.PI * 2);\r\n  ctx.fillStyle = 'red';\r\n  ctx.fill();\r\n  ```\r\n\r\n---\r\n\r\n### 4.图像处理\r\n- [灰度化图片](/blog/articles/canvas/canvas-gray)\r\n- [Canvas 绘制图片并添加对比色文本](/blog/articles/canvas/canvas-constract)\r\n\r\n## 二、WebGL 入门\r\n\r\n`WebGL` 是基于 `OpenGL ES 2.0` 的一个 JavaScript API，支持硬件加速的 3D 绘图，适合开发游戏、数据可视化和 3D 应用。相比 `Canvas`，`WebGL` 能渲染更为复杂和高性能的图形。\r\n\r\n### 1. 基本结构\r\n\r\n和 `Canvas` 一样，首先需要在 HTML 中添加 `canvas` 标签：\r\n\r\n```html\r\n<canvas id=\"webglCanvas\" width=\"500\" height=\"500\"></canvas>\r\n```\r\n\r\n### 2. 获取 WebGL 上下文\r\n\r\n使用 `getContext('webgl')` 方法获取 WebGL 上下文：\r\n\r\n```javascript\r\nconst canvas = document.getElementById('webglCanvas');\r\nconst gl = canvas.getContext('webgl');\r\n\r\nif (!gl) {\r\n  console.log(\"WebGL not supported, falling back on experimental-webgl\");\r\n  gl = canvas.getContext(\"experimental-webgl\");\r\n}\r\n```\r\n\r\n### 3. 创建和编译着色器\r\n\r\n在 `WebGL` 中，绘图通过顶点着色器（vertex shader）和片段着色器（fragment shader）进行。以下代码展示了如何创建和编译一个简单的着色器：\r\n\r\n```javascript\r\nconst vertexShaderSource = `\r\n  attribute vec2 position;\r\n  void main() {\r\n    gl_Position = vec4(position, 0.0, 1.0);\r\n  }\r\n`;\r\n\r\nconst fragmentShaderSource = `\r\n  precision mediump float;\r\n  uniform vec4 color;\r\n  void main() {\r\n    gl_FragColor = color;\r\n  }\r\n`;\r\n\r\nfunction createShader(gl, type, source) {\r\n  const shader = gl.createShader(type);\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n  return shader;\r\n}\r\n\r\nconst vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\r\nconst fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\r\n```\r\n\r\n` attribute vec2 position; `\r\n-   **含义**：`position` 是一个二维向量（`vec2`），表示顶点的坐标。\r\n\r\n-   **来源**：`attribute` 是用于从 CPU 传递给 GPU 顶点着色器的数据。它通常由用户通过 WebGL API 设置，比如通过缓冲区传递顶点数据。\r\n\r\n-   **数据类型**：二维向量（`vec2`），通常表示顶点在 2D 平面中的位置，例如 `(x, y)`。\r\n\r\n**`void main() `**\r\n\r\n-   **含义**：这是顶点着色器的主函数，GPU 会为每个顶点调用一次。\r\n\r\n **`gl_Position = vec4(position, 0.0, 1.0);`**\r\n\r\n-   **作用**：定义顶点在裁剪空间的坐标。\r\n\r\n    -   `gl_Position` 是内建变量，表示顶点在裁剪空间中的坐标，是一个四维向量（`vec4`）。\r\n\r\n    -   `vec4(position, 0.0, 1.0)` 将二维的 `position` 转换为四维向量：\r\n\r\n        -   `x, y`：来自传入的 `position`。\r\n        -   `z = 0.0`：假设顶点位于 z=0 平面。\r\n        -   `w = 1.0`：用于齐次坐标的规范化。\r\n\r\n-   **结果**：将二维顶点坐标 `position` 映射到 OpenGL 的裁剪空间，其中 z 坐标为 `0.0`。\r\n\r\n\r\n**`precision mediump float;`**\r\n\r\n-   **含义**：定义浮点数的精度。\r\n\r\n    -   `precision`：用于指定变量（如 `float` 类型）的精度。\r\n    -   `mediump`：表示中等精度（medium precision）。\r\n\r\n-   **用途**：片段着色器中的浮点数计算可能影响最终渲染结果，因此需要明确指定精度。常用的精度有：\r\n\r\n    -   `lowp`：低精度，适合节能或性能优先的简单计算。\r\n    -   `mediump`：中等精度，适合大部分常规用途。\r\n    -   `highp`：高精度，通常用于需要高细节的效果（如 3D 渲染的深度计算等）。\r\n\r\n在片段着色器中，中等精度通常够用，尤其是对于颜色计算。\r\n\r\n### 4. 创建着色器程序并绘制三角形\r\n\r\n将着色器链接到一个着色器程序中，然后在画布上绘制一个简单的三角形。\r\n\r\n```javascript\r\nconst program = gl.createProgram();\r\ngl.attachShader(program, vertexShader);\r\ngl.attachShader(program, fragmentShader);\r\ngl.linkProgram(program);\r\ngl.useProgram(program);\r\n\r\nconst positionBuffer = gl.createBuffer();\r\ngl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\ngl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\r\n  0, 0.5,\r\n  -0.5, -0.5,\r\n  0.5, -0.5\r\n]), gl.STATIC_DRAW);\r\n\r\nconst positionLocation = gl.getAttribLocation(program, \"position\");\r\ngl.enableVertexAttribArray(positionLocation);\r\ngl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\r\n\r\nconst colorLocation = gl.getUniformLocation(program, \"color\");\r\ngl.uniform4f(colorLocation, 1.0, 0.0, 0.0, 1.0); // 红色\r\n\r\ngl.clear(gl.COLOR_BUFFER_BIT);\r\ngl.drawArrays(gl.TRIANGLES, 0, 3);\r\n```\r\n **`gl.drawArrays`**\r\n\r\n-   **功能**：WebGL 的绘制函数，基于顶点缓冲区中的数据绘制图形。\r\n\r\n-   **签名**：\r\n\r\n    ```\r\n    gl.drawArrays(mode, first, count);\r\n    ```\r\n\r\n    -   `mode`：指定绘制的图元类型，例如点、线、三角形。\r\n    -   `first`：从顶点缓冲区中的哪个索引开始读取数据。\r\n    -   `count`：要绘制的顶点数量。\r\n\r\n* * *\r\n\r\n **参数说明**\r\n\r\n```\r\ngl.drawArrays(gl.TRIANGLES, 0, 3);\r\n```\r\n\r\n1.  **`gl.TRIANGLES`**\r\n\r\n    -   **含义**：绘制三角形。\r\n\r\n    -   **工作原理**：\r\n\r\n        -   每 3 个连续的顶点定义一个三角形。\r\n        -   如果顶点数量不是 3 的倍数，多余的顶点将被忽略。\r\n\r\n    -   **示例**：\r\n\r\n        -   如果缓冲区中有顶点数据 `[v0, v1, v2, v3, v4, v5]`：\r\n\r\n            -   第一个三角形：`[v0, v1, v2]`\r\n            -   第二个三角形：`[v3, v4, v5]`\r\n\r\n1.  **`0`**\r\n\r\n    -   **含义**：从顶点缓冲区的第一个顶点开始读取。\r\n    -   **作用**：指定从第 `0` 个顶点开始绘制。\r\n\r\n1.  **`3`**\r\n\r\n    -   **含义**：绘制 3 个顶点。\r\n\r\n    -   **作用**：\r\n\r\n        -   GPU 将读取缓冲区中的前 3 个顶点。\r\n        -   因为 `mode` 是 `gl.TRIANGLES`，这 3 个顶点将组成一个三角形。\r\n---\r\n\r\n## 效果展示\r\n\r\n- [WebGL三角形](/projects/webgl-triangle)\r\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),v=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!k.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(t=m(e,s))||t.enumerable});return a};var w=(a,e,c)=>(c=a!=null?h(N(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),f=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((C,r)=>{r.exports=_jsx_runtime});var x={};v(x,{default:()=>p,frontmatter:()=>b});var n=w(o()),b={title:\"\\u8BA4\\u8BC6 Canvas \\u548C WebGL\",date:\"2024-12-18\",tags:[\"WebGL\",\"GLSL\",\"React\",\"Canvas\"],draft:!1,summary:null};function d(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"canvas-\\u548C-webgl-\\u5165\\u95E8\\u6559\\u7A0B\",children:[(0,n.jsx)(e.a,{href:\"#canvas-\\u548C-webgl-\\u5165\\u95E8\\u6559\\u7A0B\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Canvas \\u548C WebGL \\u5165\\u95E8\\u6559\\u7A0B\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u524D\\u7AEF\\u5F00\\u53D1\\u4E2D\\uFF0C\\u7ED8\\u56FE\\u5DF2\\u7ECF\\u6210\\u4E3A\\u4E00\\u79CD\\u91CD\\u8981\\u7684\\u6280\\u80FD\\uFF0C\\u800C \",(0,n.jsx)(e.code,{children:\"Canvas\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"WebGL\"}),\" \\u662F\\u5B9E\\u73B0\\u56FE\\u5F62\\u7ED8\\u5236\\u7684\\u4E24\\u4E2A\\u91CD\\u8981\\u5DE5\\u5177\\u3002\\u672C\\u6587\\u5C06\\u5E26\\u4F60\\u5165\\u95E8 \",(0,n.jsx)(e.code,{children:\"Canvas\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"WebGL\"}),\"\\uFF0C\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5982\\u4F55\\u4F7F\\u7528\\u5B83\\u4EEC\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u7ED8\\u5236\\u56FE\\u5F62\\u3002\"]}),(0,n.jsx)(e.hr,{}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u4E00canvas-\\u5165\\u95E8\",children:[(0,n.jsx)(e.a,{href:\"#\\u4E00canvas-\\u5165\\u95E8\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E00\\u3001Canvas \\u5165\\u95E8\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"Canvas\"}),\" \\u662F HTML5 \\u63D0\\u4F9B\\u7684\\u4E00\\u4E2A\\u7ED8\\u56FE\\u5BB9\\u5668\\uFF0C\\u53EF\\u4EE5\\u7528\\u4E8E\\u56FE\\u5F62\\u3001\\u52A8\\u753B\\u548C\\u6E38\\u620F\\u5F00\\u53D1\\u3002\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"Canvas API\"}),\"\\uFF0C\\u4F60\\u53EF\\u4EE5\\u76F4\\u63A5\\u4F7F\\u7528 JavaScript \\u7ED8\\u5236\\u56FE\\u50CF\\u3001\\u77E9\\u5F62\\u3001\\u5706\\u5F62\\u7B49\\u56FE\\u5F62\\u3002\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"1-\\u57FA\\u672C\\u7ED3\\u6784\",children:[(0,n.jsx)(e.a,{href:\"#1-\\u57FA\\u672C\\u7ED3\\u6784\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u57FA\\u672C\\u7ED3\\u6784\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\uFF0C\\u5728 HTML \\u6587\\u4EF6\\u4E2D\\u6DFB\\u52A0\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"canvas\"}),\" \\u6807\\u7B7E\\uFF0C\\u5E76\\u8BBE\\u7F6E\\u5B83\\u7684\\u5BBD\\u5EA6\\u548C\\u9AD8\\u5EA6\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-html\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"canvas\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"id\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"myCanvas\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"canvas\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"2-\\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\",children:[(0,n.jsx)(e.a,{href:\"#2-\\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\"]}),(0,n.jsxs)(e.p,{children:[\"\\u8981\\u5728 \",(0,n.jsx)(e.code,{children:\"canvas\"}),\" \\u4E0A\\u7ED8\\u56FE\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u83B7\\u53D6\\u7ED8\\u56FE\\u4E0A\\u4E0B\\u6587\\u3002\\u4E00\\u822C\\u4F7F\\u7528 2D \\u4E0A\\u4E0B\\u6587 (\",(0,n.jsx)(e.code,{children:\"getContext('2d')\"}),\")\\uFF0C\\u7136\\u540E\\u901A\\u8FC7\\u8FD9\\u4E2A\\u4E0A\\u4E0B\\u6587\\u8C03\\u7528\\u5404\\u79CD\\u7ED8\\u56FE\\u65B9\\u6CD5\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getElementById\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'myCanvas'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" ctx \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'2d'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"3-\\u7ED8\\u5236\\u57FA\\u672C\\u56FE\\u5F62\",children:[(0,n.jsx)(e.a,{href:\"#3-\\u7ED8\\u5236\\u57FA\\u672C\\u56FE\\u5F62\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u7ED8\\u5236\\u57FA\\u672C\\u56FE\\u5F62\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u7ED8\\u5236\\u77E9\\u5F62\"})}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"fillStyle\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'blue'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"fillRect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"100\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u7ED8\\u5236\\u7EBF\\u6761\"})}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"beginPath\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"moveTo\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"200\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"lineTo\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"300\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"300\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"stroke\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u7ED8\\u5236\\u5706\\u5F62\"})}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"beginPath\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"arc\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"150\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"150\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"PI\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"fillStyle\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'red'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ctx\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"fill\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})})]})]}),(0,n.jsx)(e.hr,{}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"4\\u56FE\\u50CF\\u5904\\u7406\",children:[(0,n.jsx)(e.a,{href:\"#4\\u56FE\\u50CF\\u5904\\u7406\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4.\\u56FE\\u50CF\\u5904\\u7406\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"/blog/articles/canvas/canvas-gray\",children:\"\\u7070\\u5EA6\\u5316\\u56FE\\u7247\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"/blog/articles/canvas/canvas-constract\",children:\"Canvas \\u7ED8\\u5236\\u56FE\\u7247\\u5E76\\u6DFB\\u52A0\\u5BF9\\u6BD4\\u8272\\u6587\\u672C\"})})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u4E8Cwebgl-\\u5165\\u95E8\",children:[(0,n.jsx)(e.a,{href:\"#\\u4E8Cwebgl-\\u5165\\u95E8\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E8C\\u3001WebGL \\u5165\\u95E8\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"WebGL\"}),\" \\u662F\\u57FA\\u4E8E \",(0,n.jsx)(e.code,{children:\"OpenGL ES 2.0\"}),\" \\u7684\\u4E00\\u4E2A JavaScript API\\uFF0C\\u652F\\u6301\\u786C\\u4EF6\\u52A0\\u901F\\u7684 3D \\u7ED8\\u56FE\\uFF0C\\u9002\\u5408\\u5F00\\u53D1\\u6E38\\u620F\\u3001\\u6570\\u636E\\u53EF\\u89C6\\u5316\\u548C 3D \\u5E94\\u7528\\u3002\\u76F8\\u6BD4 \",(0,n.jsx)(e.code,{children:\"Canvas\"}),\"\\uFF0C\",(0,n.jsx)(e.code,{children:\"WebGL\"}),\" \\u80FD\\u6E32\\u67D3\\u66F4\\u4E3A\\u590D\\u6742\\u548C\\u9AD8\\u6027\\u80FD\\u7684\\u56FE\\u5F62\\u3002\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"1-\\u57FA\\u672C\\u7ED3\\u6784-1\",children:[(0,n.jsx)(e.a,{href:\"#1-\\u57FA\\u672C\\u7ED3\\u6784-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u57FA\\u672C\\u7ED3\\u6784\"]}),(0,n.jsxs)(e.p,{children:[\"\\u548C \",(0,n.jsx)(e.code,{children:\"Canvas\"}),\" \\u4E00\\u6837\\uFF0C\\u9996\\u5148\\u9700\\u8981\\u5728 HTML \\u4E2D\\u6DFB\\u52A0 \",(0,n.jsx)(e.code,{children:\"canvas\"}),\" \\u6807\\u7B7E\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-html\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-html\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"canvas\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"id\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"webglCanvas\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"height\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"500\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"canvas\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"2-\\u83B7\\u53D6-webgl-\\u4E0A\\u4E0B\\u6587\",children:[(0,n.jsx)(e.a,{href:\"#2-\\u83B7\\u53D6-webgl-\\u4E0A\\u4E0B\\u6587\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u83B7\\u53D6 WebGL \\u4E0A\\u4E0B\\u6587\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"getContext('webgl')\"}),\" \\u65B9\\u6CD5\\u83B7\\u53D6 WebGL \\u4E0A\\u4E0B\\u6587\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" canvas \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getElementById\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'webglCanvas'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" gl \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'webgl'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"WebGL not supported, falling back on experimental-webgl\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" canvas\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"experimental-webgl\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"3-\\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{href:\"#3-\\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"WebGL\"}),\" \\u4E2D\\uFF0C\\u7ED8\\u56FE\\u901A\\u8FC7\\u9876\\u70B9\\u7740\\u8272\\u5668\\uFF08vertex shader\\uFF09\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\\uFF08fragment shader\\uFF09\\u8FDB\\u884C\\u3002\\u4EE5\\u4E0B\\u4EE3\\u7801\\u5C55\\u793A\\u4E86\\u5982\\u4F55\\u521B\\u5EFA\\u548C\\u7F16\\u8BD1\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u7740\\u8272\\u5668\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShaderSource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\\r\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  attribute vec2 position;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  void main() {\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    gl_Position = vec4(position, 0.0, 1.0);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  }\\r\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShaderSource \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\\r\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  precision mediump float;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  uniform vec4 color;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  void main() {\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`    gl_FragColor = color;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  }\\r\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" source\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" shader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"createShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"shaderSource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" source\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"VERTEX_SHADER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertexShaderSource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FRAGMENT_SHADER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShaderSource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"attribute vec2 position;\"})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u542B\\u4E49\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"position\"}),\" \\u662F\\u4E00\\u4E2A\\u4E8C\\u7EF4\\u5411\\u91CF\\uFF08\",(0,n.jsx)(e.code,{children:\"vec2\"}),\"\\uFF09\\uFF0C\\u8868\\u793A\\u9876\\u70B9\\u7684\\u5750\\u6807\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6765\\u6E90\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"attribute\"}),\" \\u662F\\u7528\\u4E8E\\u4ECE CPU \\u4F20\\u9012\\u7ED9 GPU \\u9876\\u70B9\\u7740\\u8272\\u5668\\u7684\\u6570\\u636E\\u3002\\u5B83\\u901A\\u5E38\\u7531\\u7528\\u6237\\u901A\\u8FC7 WebGL API \\u8BBE\\u7F6E\\uFF0C\\u6BD4\\u5982\\u901A\\u8FC7\\u7F13\\u51B2\\u533A\\u4F20\\u9012\\u9876\\u70B9\\u6570\\u636E\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u6570\\u636E\\u7C7B\\u578B\"}),\"\\uFF1A\\u4E8C\\u7EF4\\u5411\\u91CF\\uFF08\",(0,n.jsx)(e.code,{children:\"vec2\"}),\"\\uFF09\\uFF0C\\u901A\\u5E38\\u8868\\u793A\\u9876\\u70B9\\u5728 2D \\u5E73\\u9762\\u4E2D\\u7684\\u4F4D\\u7F6E\\uFF0C\\u4F8B\\u5982 \",(0,n.jsx)(e.code,{children:\"(x, y)\"}),\"\\u3002\"]})})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"void main()\"})})}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u542B\\u4E49\"}),\"\\uFF1A\\u8FD9\\u662F\\u9876\\u70B9\\u7740\\u8272\\u5668\\u7684\\u4E3B\\u51FD\\u6570\\uFF0CGPU \\u4F1A\\u4E3A\\u6BCF\\u4E2A\\u9876\\u70B9\\u8C03\\u7528\\u4E00\\u6B21\\u3002\"]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"gl_Position = vec4(position, 0.0, 1.0);\"})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F5C\\u7528\"}),\"\\uFF1A\\u5B9A\\u4E49\\u9876\\u70B9\\u5728\\u88C1\\u526A\\u7A7A\\u95F4\\u7684\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"gl_Position\"}),\" \\u662F\\u5185\\u5EFA\\u53D8\\u91CF\\uFF0C\\u8868\\u793A\\u9876\\u70B9\\u5728\\u88C1\\u526A\\u7A7A\\u95F4\\u4E2D\\u7684\\u5750\\u6807\\uFF0C\\u662F\\u4E00\\u4E2A\\u56DB\\u7EF4\\u5411\\u91CF\\uFF08\",(0,n.jsx)(e.code,{children:\"vec4\"}),\"\\uFF09\\u3002\"]})}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"vec4(position, 0.0, 1.0)\"}),\" \\u5C06\\u4E8C\\u7EF4\\u7684 \",(0,n.jsx)(e.code,{children:\"position\"}),\" \\u8F6C\\u6362\\u4E3A\\u56DB\\u7EF4\\u5411\\u91CF\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"x, y\"}),\"\\uFF1A\\u6765\\u81EA\\u4F20\\u5165\\u7684 \",(0,n.jsx)(e.code,{children:\"position\"}),\"\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"z = 0.0\"}),\"\\uFF1A\\u5047\\u8BBE\\u9876\\u70B9\\u4F4D\\u4E8E z=0 \\u5E73\\u9762\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"w = 1.0\"}),\"\\uFF1A\\u7528\\u4E8E\\u9F50\\u6B21\\u5750\\u6807\\u7684\\u89C4\\u8303\\u5316\\u3002\"]})]})]})]})]}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7ED3\\u679C\"}),\"\\uFF1A\\u5C06\\u4E8C\\u7EF4\\u9876\\u70B9\\u5750\\u6807 \",(0,n.jsx)(e.code,{children:\"position\"}),\" \\u6620\\u5C04\\u5230 OpenGL \\u7684\\u88C1\\u526A\\u7A7A\\u95F4\\uFF0C\\u5176\\u4E2D z \\u5750\\u6807\\u4E3A \",(0,n.jsx)(e.code,{children:\"0.0\"}),\"\\u3002\"]})})]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"precision mediump float;\"})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u542B\\u4E49\"}),\"\\uFF1A\\u5B9A\\u4E49\\u6D6E\\u70B9\\u6570\\u7684\\u7CBE\\u5EA6\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"precision\"}),\"\\uFF1A\\u7528\\u4E8E\\u6307\\u5B9A\\u53D8\\u91CF\\uFF08\\u5982 \",(0,n.jsx)(e.code,{children:\"float\"}),\" \\u7C7B\\u578B\\uFF09\\u7684\\u7CBE\\u5EA6\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"mediump\"}),\"\\uFF1A\\u8868\\u793A\\u4E2D\\u7B49\\u7CBE\\u5EA6\\uFF08medium precision\\uFF09\\u3002\"]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7528\\u9014\"}),\"\\uFF1A\\u7247\\u6BB5\\u7740\\u8272\\u5668\\u4E2D\\u7684\\u6D6E\\u70B9\\u6570\\u8BA1\\u7B97\\u53EF\\u80FD\\u5F71\\u54CD\\u6700\\u7EC8\\u6E32\\u67D3\\u7ED3\\u679C\\uFF0C\\u56E0\\u6B64\\u9700\\u8981\\u660E\\u786E\\u6307\\u5B9A\\u7CBE\\u5EA6\\u3002\\u5E38\\u7528\\u7684\\u7CBE\\u5EA6\\u6709\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"lowp\"}),\"\\uFF1A\\u4F4E\\u7CBE\\u5EA6\\uFF0C\\u9002\\u5408\\u8282\\u80FD\\u6216\\u6027\\u80FD\\u4F18\\u5148\\u7684\\u7B80\\u5355\\u8BA1\\u7B97\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"mediump\"}),\"\\uFF1A\\u4E2D\\u7B49\\u7CBE\\u5EA6\\uFF0C\\u9002\\u5408\\u5927\\u90E8\\u5206\\u5E38\\u89C4\\u7528\\u9014\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"highp\"}),\"\\uFF1A\\u9AD8\\u7CBE\\u5EA6\\uFF0C\\u901A\\u5E38\\u7528\\u4E8E\\u9700\\u8981\\u9AD8\\u7EC6\\u8282\\u7684\\u6548\\u679C\\uFF08\\u5982 3D \\u6E32\\u67D3\\u7684\\u6DF1\\u5EA6\\u8BA1\\u7B97\\u7B49\\uFF09\\u3002\"]})]})]})]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u7247\\u6BB5\\u7740\\u8272\\u5668\\u4E2D\\uFF0C\\u4E2D\\u7B49\\u7CBE\\u5EA6\\u901A\\u5E38\\u591F\\u7528\\uFF0C\\u5C24\\u5176\\u662F\\u5BF9\\u4E8E\\u989C\\u8272\\u8BA1\\u7B97\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"4-\\u521B\\u5EFA\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\",children:[(0,n.jsx)(e.a,{href:\"#4-\\u521B\\u5EFA\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4. \\u521B\\u5EFA\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\"]}),(0,n.jsx)(e.p,{children:\"\\u5C06\\u7740\\u8272\\u5668\\u94FE\\u63A5\\u5230\\u4E00\\u4E2A\\u7740\\u8272\\u5668\\u7A0B\\u5E8F\\u4E2D\\uFF0C\\u7136\\u540E\\u5728\\u753B\\u5E03\\u4E0A\\u7ED8\\u5236\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u4E09\\u89D2\\u5F62\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" program \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"createProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"linkProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"useProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" positionBuffer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"createBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"bindBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" positionBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"bufferData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.5\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.5\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" positionLocation \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getAttribLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"position\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"enableVertexAttribArray\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"positionLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"vertexAttribPointer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"positionLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FLOAT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" colorLocation \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"getUniformLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"color\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"uniform4f\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"colorLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7EA2\\u8272\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"clear\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"COLOR_BUFFER_BIT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"drawArrays\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"TRIANGLES\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"gl.drawArrays\"})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u529F\\u80FD\"}),\"\\uFF1AWebGL \\u7684\\u7ED8\\u5236\\u51FD\\u6570\\uFF0C\\u57FA\\u4E8E\\u9876\\u70B9\\u7F13\\u51B2\\u533A\\u4E2D\\u7684\\u6570\\u636E\\u7ED8\\u5236\\u56FE\\u5F62\\u3002\"]})}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B7E\\u540D\"}),\"\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-js\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"drawArrays\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mode\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" first\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" count\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"mode\"}),\"\\uFF1A\\u6307\\u5B9A\\u7ED8\\u5236\\u7684\\u56FE\\u5143\\u7C7B\\u578B\\uFF0C\\u4F8B\\u5982\\u70B9\\u3001\\u7EBF\\u3001\\u4E09\\u89D2\\u5F62\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"first\"}),\"\\uFF1A\\u4ECE\\u9876\\u70B9\\u7F13\\u51B2\\u533A\\u4E2D\\u7684\\u54EA\\u4E2A\\u7D22\\u5F15\\u5F00\\u59CB\\u8BFB\\u53D6\\u6570\\u636E\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"count\"}),\"\\uFF1A\\u8981\\u7ED8\\u5236\\u7684\\u9876\\u70B9\\u6570\\u91CF\\u3002\"]})]})]})]}),(0,n.jsx)(e.hr,{}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:\"\\u53C2\\u6570\\u8BF4\\u660E\"})}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsx)(e.code,{className:\"code-highlight language-js\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"drawArrays\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"TRIANGLES\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"gl.TRIANGLES\"})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u542B\\u4E49\"}),\"\\uFF1A\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\\u3002\"]})}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u5DE5\\u4F5C\\u539F\\u7406\"}),\"\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u6BCF 3 \\u4E2A\\u8FDE\\u7EED\\u7684\\u9876\\u70B9\\u5B9A\\u4E49\\u4E00\\u4E2A\\u4E09\\u89D2\\u5F62\\u3002\"}),(0,n.jsx)(e.li,{children:\"\\u5982\\u679C\\u9876\\u70B9\\u6570\\u91CF\\u4E0D\\u662F 3 \\u7684\\u500D\\u6570\\uFF0C\\u591A\\u4F59\\u7684\\u9876\\u70B9\\u5C06\\u88AB\\u5FFD\\u7565\\u3002\"})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u793A\\u4F8B\"}),\"\\uFF1A\"]}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u7F13\\u51B2\\u533A\\u4E2D\\u6709\\u9876\\u70B9\\u6570\\u636E \",(0,n.jsx)(e.code,{children:\"[v0, v1, v2, v3, v4, v5]\"}),\"\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u7B2C\\u4E00\\u4E2A\\u4E09\\u89D2\\u5F62\\uFF1A\",(0,n.jsx)(e.code,{children:\"[v0, v1, v2]\"})]}),(0,n.jsxs)(e.li,{children:[\"\\u7B2C\\u4E8C\\u4E2A\\u4E09\\u89D2\\u5F62\\uFF1A\",(0,n.jsx)(e.code,{children:\"[v3, v4, v5]\"})]})]})]})})]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"0\"})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u542B\\u4E49\"}),\"\\uFF1A\\u4ECE\\u9876\\u70B9\\u7F13\\u51B2\\u533A\\u7684\\u7B2C\\u4E00\\u4E2A\\u9876\\u70B9\\u5F00\\u59CB\\u8BFB\\u53D6\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F5C\\u7528\"}),\"\\uFF1A\\u6307\\u5B9A\\u4ECE\\u7B2C \",(0,n.jsx)(e.code,{children:\"0\"}),\" \\u4E2A\\u9876\\u70B9\\u5F00\\u59CB\\u7ED8\\u5236\\u3002\"]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:(0,n.jsx)(e.code,{children:\"3\"})})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u542B\\u4E49\"}),\"\\uFF1A\\u7ED8\\u5236 3 \\u4E2A\\u9876\\u70B9\\u3002\"]})}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F5C\\u7528\"}),\"\\uFF1A\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"GPU \\u5C06\\u8BFB\\u53D6\\u7F13\\u51B2\\u533A\\u4E2D\\u7684\\u524D 3 \\u4E2A\\u9876\\u70B9\\u3002\"}),(0,n.jsxs)(e.li,{children:[\"\\u56E0\\u4E3A \",(0,n.jsx)(e.code,{children:\"mode\"}),\" \\u662F \",(0,n.jsx)(e.code,{children:\"gl.TRIANGLES\"}),\"\\uFF0C\\u8FD9 3 \\u4E2A\\u9876\\u70B9\\u5C06\\u7EC4\\u6210\\u4E00\\u4E2A\\u4E09\\u89D2\\u5F62\\u3002\"]})]})]})]})]})]}),(0,n.jsx)(e.hr,{}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u6548\\u679C\\u5C55\\u793A\",children:[(0,n.jsx)(e.a,{href:\"#\\u6548\\u679C\\u5C55\\u793A\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6548\\u679C\\u5C55\\u793A\"]}),(0,n.jsx)(e.ul,{children:(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"/projects/webgl-triangle\",children:\"WebGL\\u4E09\\u89D2\\u5F62\"})})})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return f(x);})();\n;return Component;"
    },
    "_id": "articles/webgl/webgl-and-canvas.mdx",
    "_raw": {
      "sourceFilePath": "articles/webgl/webgl-and-canvas.mdx",
      "sourceFileName": "webgl-and-canvas.mdx",
      "sourceFileDir": "articles/webgl",
      "contentType": "mdx",
      "flattenedPath": "articles/webgl/webgl-and-canvas"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.69,
      "time": 401400,
      "words": 1338
    },
    "slug": "webgl/webgl-and-canvas",
    "path": "articles/webgl/webgl-and-canvas",
    "filePath": "articles/webgl/webgl-and-canvas.mdx",
    "toc": [
      {
        "value": "Canvas 和 WebGL 入门教程",
        "url": "#canvas-和-webgl-入门教程",
        "depth": 3
      },
      {
        "value": "一、Canvas 入门",
        "url": "#一canvas-入门",
        "depth": 2
      },
      {
        "value": "1. 基本结构",
        "url": "#1-基本结构",
        "depth": 3
      },
      {
        "value": "2. 获取绘图上下文",
        "url": "#2-获取绘图上下文",
        "depth": 3
      },
      {
        "value": "3. 绘制基本图形",
        "url": "#3-绘制基本图形",
        "depth": 3
      },
      {
        "value": "4.图像处理",
        "url": "#4图像处理",
        "depth": 3
      },
      {
        "value": "二、WebGL 入门",
        "url": "#二webgl-入门",
        "depth": 2
      },
      {
        "value": "1. 基本结构",
        "url": "#1-基本结构-1",
        "depth": 3
      },
      {
        "value": "2. 获取 WebGL 上下文",
        "url": "#2-获取-webgl-上下文",
        "depth": 3
      },
      {
        "value": "3. 创建和编译着色器",
        "url": "#3-创建和编译着色器",
        "depth": 3
      },
      {
        "value": "4. 创建着色器程序并绘制三角形",
        "url": "#4-创建着色器程序并绘制三角形",
        "depth": 3
      },
      {
        "value": "效果展示",
        "url": "#效果展示",
        "depth": 2
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "认识 Canvas 和 WebGL",
      "datePublished": "2024-12-18T00:00:00.000Z",
      "dateModified": "2024-12-18T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/webgl/webgl-and-canvas"
    }
  },
  {
    "title": "使用 webgl 创建网格",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "WebGL",
      "GLSL",
      "React"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n## 创建顶点着色器\r\n\r\n### 代码\r\n\r\n```glsl\r\nattribute vec2 a_vertexPosition;\r\nattribute vec2 uv;\r\nvarying vec2 vUv;\r\nvoid main() {\r\n    gl_PointSize = 1.0;\r\n    vUv = uv;\r\n    gl_Position = vec4(a_vertexPosition, 1.0, 1.0);\r\n}\r\n```\r\n\r\n### 代码解析\r\n\r\n顶点着色器的作用是处理每个顶点的位置和属性信息，并将其传递给片元着色器。这里的顶点着色器包含以下几个主要部分：\r\n\r\n1. **输入属性（attribute）**:\r\n\r\n   - `a_vertexPosition`: 每个顶点的二维位置，用于在屏幕上确定其位置。\r\n   - `uv`: 顶点的 UV 纹理坐标，用于将纹理坐标传递给片元着色器。\r\n\r\n2. **传递变量（varying）**:\r\n\r\n   - `vUv`: 纹理坐标的传递变量，用于在片元着色器中确定每个像素的纹理坐标。\r\n\r\n3. **主函数（main）**:\r\n   - 设置 `gl_PointSize` 为 1.0（在这里没有特别作用）。\r\n   - 将 `uv` 传递给 `vUv`，将纹理坐标传递到片元着色器。\r\n   - 使用 `gl_Position` 设置顶点在屏幕上的位置，通过 `a_vertexPosition` 构建一个齐次坐标。这个坐标通过 `vec4(a_vertexPosition, 1.0, 1.0)` 设置，表示为二维坐标（x，y），并且假设视图深度值 `z` 和 `w` 均为 1.0。\r\n\r\n## 创建片元着色器\r\n\r\n### 代码\r\n\r\n```glsl\r\nprecision mediump float;\r\nvarying vec2 vUv;\r\nuniform float rows;\r\nvoid main() {\r\n    vec2 st = fract(vUv * rows);\r\n    float d1 = step(st.x, 0.9);\r\n    float d2 = step(0.1, st.y);\r\n    gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\r\n}\r\n```\r\n\r\n### 代码解析\r\n\r\n片元着色器用于处理每个像素的颜色值。在此片元着色器中，我们实现了一个简单的网格效果。\r\n\r\n1. **精度声明（precision）**:\r\n\r\n   - `precision mediump float;` 表示使用中等精度处理浮点数。\r\n\r\n2. **传递变量（varying）和 uniform 变量**:\r\n\r\n   - `vUv`：从顶点着色器传递来的 UV 纹理坐标。\r\n   - `rows`：用于控制网格的行数。\r\n\r\n3. **主函数（main）**:\r\n   - `vec2 st = fract(vUv * rows);`：使用 `fract` 函数将 UV 坐标映射到 `[0, 1]` 范围。`vUv * rows` 将纹理坐标乘以行数，这样可以根据 `rows` 控制每行和列的宽度。\r\n   - `float d1 = step(st.x, 0.9);`：通过 `step` 函数将 `st.x` 大于 `0.9` 的位置设置为 0，形成垂直网格线。\r\n   - `float d2 = step(0.1, st.y);`：使用 `step` 函数将 `st.y` 小于 `0.1` 的位置设置为 0，形成水平网格线。\r\n   - `gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);`：使用 `mix` 函数将颜色在 0.8 和 1.0 之间混合，从而产生网格效果的颜色。\r\n\r\n## 编译着色器\r\n\r\n### 代码\r\n\r\n```javascript\r\nconst compileShader = (source, type) => {\r\n  const shader = gl.createShader(type);\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n    console.error(\"Shader compile error:\", gl.getShaderInfoLog(shader));\r\n    gl.deleteShader(shader);\r\n    return null;\r\n  }\r\n  return shader;\r\n};\r\n\r\nconst vertexShader = compileShader(vertexShaderSource, gl.VERTEX_SHADER);\r\nconst fragmentShader = compileShader(fragmentShaderSource, gl.FRAGMENT_SHADER);\r\n```\r\n\r\n### 代码解析\r\n\r\n`compileShader` 函数用于编译着色器，接收着色器代码字符串和着色器类型（顶点或片元）。编译成功后返回着色器对象，失败则打印错误信息。\r\n\r\n- `gl.createShader(type)`: 创建新的着色器对象。\r\n- `gl.shaderSource(shader, source)`: 将 GLSL 代码传递给着色器。\r\n- `gl.compileShader(shader)`: 编译着色器。\r\n- `gl.getShaderParameter(shader, gl.COMPILE_STATUS)`: 检查编译是否成功。失败则输出错误日志并删除着色器对象。\r\n\r\n## 链接着色器\r\n\r\n### 代码\r\n\r\n```javascript\r\nconst program = gl.createProgram();\r\ngl.attachShader(program, vertexShader);\r\ngl.attachShader(program, fragmentShader);\r\ngl.linkProgram(program);\r\nif (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n  console.error(\"Program link error:\", gl.getProgramInfoLog(program));\r\n  gl.deleteProgram(program);\r\n  return;\r\n}\r\ngl.useProgram(program);\r\n```\r\n\r\n### 代码解析\r\n\r\n链接着色器的步骤包括创建程序对象、附加顶点和片元着色器、链接程序、并激活程序。\r\n\r\n- `gl.createProgram()`: 创建一个新的程序对象。\r\n- `gl.attachShader(program, vertexShader/fragmentShader)`: 将顶点和片元着色器附加到程序。\r\n- `gl.linkProgram(program)`: 链接程序。此步骤将着色器代码连接为一个完整的可执行程序。\r\n- `gl.getProgramParameter(program, gl.LINK_STATUS)`: 检查链接状态，失败则输出错误日志。\r\n- `gl.useProgram(program)`: 使用程序对象。\r\n\r\n## 定义顶点坐标和纹理坐标，传入缓冲区\r\n\r\n### 代码\r\n\r\n```javascript\r\nconst vertices = new Float32Array([\r\n  -1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0,\r\n]);\r\n\r\nconst uvs = new Float32Array([\r\n  0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0,\r\n]);\r\n\r\n// 顶点缓冲区\r\nconst vertexBuffer = gl.createBuffer();\r\ngl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\ngl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\r\nconst aVertexPosition = gl.getAttribLocation(program, \"a_vertexPosition\");\r\ngl.enableVertexAttribArray(aVertexPosition);\r\ngl.vertexAttribPointer(aVertexPosition, 2, gl.FLOAT, false, 0, 0);\r\n\r\n// UV 缓冲区\r\nconst uvBuffer = gl.createBuffer();\r\ngl.bindBuffer(gl.ARRAY_BUFFER, uvBuffer);\r\ngl.bufferData(gl.ARRAY_BUFFER, uvs, gl.STATIC_DRAW);\r\nconst uvLocation = gl.getAttribLocation(program, \"uv\");\r\ngl.enableVertexAttribArray(uvLocation);\r\ngl.vertexAttribPointer(uvLocation, 2, gl.FLOAT, false, 0, 0);\r\n```\r\n\r\n### 代码解析\r\n\r\n- 定义 `vertices` 和 `uvs` 数组，用于指定每个顶点的坐标和纹理坐标。\r\n- 使用 `gl.createBuffer()` 创建缓冲区，传递顶点和 UV 坐标数据。\r\n- 设置 `gl.vertexAttribPointer` 将缓冲区数据绑定到着色器中的 `a_vertexPosition` 和 `uv` 属性。\r\n\r\n## 设置 uniform 变量\r\n\r\n### 代码\r\n\r\n```javascript\r\nconst rowsLocation = gl.getUniformLocation(program, \"rows\");\r\ngl.uniform1f(rowsLocation, 50.0);\r\n```\r\n\r\n### 代码解析\r\n\r\n通过 `gl.getUniformLocation` 获取 `rows` uniform 变量的地址，然后使用 `gl.uniform1f` 将其设置为 50.0，这样可以动态控制网格行数。\r\n\r\n## 绘制\r\n\r\n### 代码\r\n\r\n```javascript\r\ngl.clearColor(0, 0, 0, 1);\r\ngl.clear(gl.COLOR_BUFFER_BIT);\r\ngl.drawArrays(gl.TRIANGLES, 0, 6);\r\n```\r\n\r\n### 代码解析\r\n\r\n- `gl.clearColor(0, 0, 0, 1)`: 设置背景颜色。\r\n- `gl.clear(gl.COLOR_BUFFER_BIT)`: 清空画布。\r\n- `gl.drawArrays(gl.TRIANGLES, 0, 6)`: 以三角形绘制 6 个顶点（两个三角形拼成一个矩形）。\r\n\r\n## 删除资源\r\n\r\n### 代码\r\n\r\n```javascript\r\nreturn () => {\r\n  gl.deleteProgram(program);\r\n  gl.deleteShader(vertexShader);\r\n  gl.deleteShader(fragmentShader);\r\n  gl.deleteBuffer(vertexBuffer);\r\n  gl.deleteBuffer(uvBuffer);\r\n};\r\n```\r\n\r\n### 代码解析\r\n\r\n清理 WebGL 资源，防止内存泄漏。\r\n",
      "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},r=(a,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of u(e))!k.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(t=m(e,s))||t.enumerable});return a};var f=(a,e,c)=>(c=a!=null?h(N(a)):{},r(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>r(l({},\"__esModule\",{value:!0}),a);var o=g((M,i)=>{i.exports=_jsx_runtime});var y={};w(y,{default:()=>p,frontmatter:()=>x});var n=f(o()),x={title:\"\\u4F7F\\u7528 webgl \\u521B\\u5EFA\\u7F51\\u683C\",date:\"2016-03-08\",tags:[\"WebGL\",\"GLSL\",\"React\"],draft:!1,summary:null};function d(a){let e={a:\"a\",code:\"code\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"attribute\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" a_vertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"attribute\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_PointSize \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_Position \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a_vertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u9876\\u70B9\\u7740\\u8272\\u5668\\u7684\\u4F5C\\u7528\\u662F\\u5904\\u7406\\u6BCF\\u4E2A\\u9876\\u70B9\\u7684\\u4F4D\\u7F6E\\u548C\\u5C5E\\u6027\\u4FE1\\u606F\\uFF0C\\u5E76\\u5C06\\u5176\\u4F20\\u9012\\u7ED9\\u7247\\u5143\\u7740\\u8272\\u5668\\u3002\\u8FD9\\u91CC\\u7684\\u9876\\u70B9\\u7740\\u8272\\u5668\\u5305\\u542B\\u4EE5\\u4E0B\\u51E0\\u4E2A\\u4E3B\\u8981\\u90E8\\u5206\\uFF1A\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u8F93\\u5165\\u5C5E\\u6027\\uFF08attribute\\uFF09\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"a_vertexPosition\"}),\": \\u6BCF\\u4E2A\\u9876\\u70B9\\u7684\\u4E8C\\u7EF4\\u4F4D\\u7F6E\\uFF0C\\u7528\\u4E8E\\u5728\\u5C4F\\u5E55\\u4E0A\\u786E\\u5B9A\\u5176\\u4F4D\\u7F6E\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"uv\"}),\": \\u9876\\u70B9\\u7684 UV \\u7EB9\\u7406\\u5750\\u6807\\uFF0C\\u7528\\u4E8E\\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u9012\\u7ED9\\u7247\\u5143\\u7740\\u8272\\u5668\\u3002\"]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F20\\u9012\\u53D8\\u91CF\\uFF08varying\\uFF09\"}),\":\"]}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"vUv\"}),\": \\u7EB9\\u7406\\u5750\\u6807\\u7684\\u4F20\\u9012\\u53D8\\u91CF\\uFF0C\\u7528\\u4E8E\\u5728\\u7247\\u5143\\u7740\\u8272\\u5668\\u4E2D\\u786E\\u5B9A\\u6BCF\\u4E2A\\u50CF\\u7D20\\u7684\\u7EB9\\u7406\\u5750\\u6807\\u3002\"]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3B\\u51FD\\u6570\\uFF08main\\uFF09\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u8BBE\\u7F6E \",(0,n.jsx)(e.code,{children:\"gl_PointSize\"}),\" \\u4E3A 1.0\\uFF08\\u5728\\u8FD9\\u91CC\\u6CA1\\u6709\\u7279\\u522B\\u4F5C\\u7528\\uFF09\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u5C06 \",(0,n.jsx)(e.code,{children:\"uv\"}),\" \\u4F20\\u9012\\u7ED9 \",(0,n.jsx)(e.code,{children:\"vUv\"}),\"\\uFF0C\\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u9012\\u5230\\u7247\\u5143\\u7740\\u8272\\u5668\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"gl_Position\"}),\" \\u8BBE\\u7F6E\\u9876\\u70B9\\u5728\\u5C4F\\u5E55\\u4E0A\\u7684\\u4F4D\\u7F6E\\uFF0C\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"a_vertexPosition\"}),\" \\u6784\\u5EFA\\u4E00\\u4E2A\\u9F50\\u6B21\\u5750\\u6807\\u3002\\u8FD9\\u4E2A\\u5750\\u6807\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"vec4(a_vertexPosition, 1.0, 1.0)\"}),\" \\u8BBE\\u7F6E\\uFF0C\\u8868\\u793A\\u4E3A\\u4E8C\\u7EF4\\u5750\\u6807\\uFF08x\\uFF0Cy\\uFF09\\uFF0C\\u5E76\\u4E14\\u5047\\u8BBE\\u89C6\\u56FE\\u6DF1\\u5EA6\\u503C \",(0,n.jsx)(e.code,{children:\"z\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"w\"}),\" \\u5747\\u4E3A 1.0\\u3002\"]})]})]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-1\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-1\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"uniform\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" st \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fract\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.9\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d2 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"y\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"mix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" d2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-1\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-1\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u7247\\u5143\\u7740\\u8272\\u5668\\u7528\\u4E8E\\u5904\\u7406\\u6BCF\\u4E2A\\u50CF\\u7D20\\u7684\\u989C\\u8272\\u503C\\u3002\\u5728\\u6B64\\u7247\\u5143\\u7740\\u8272\\u5668\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5B9E\\u73B0\\u4E86\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u7F51\\u683C\\u6548\\u679C\\u3002\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u7CBE\\u5EA6\\u58F0\\u660E\\uFF08precision\\uFF09\"}),\":\"]}),(0,n.jsx)(e.ul,{children:(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"precision mediump float;\"}),\" \\u8868\\u793A\\u4F7F\\u7528\\u4E2D\\u7B49\\u7CBE\\u5EA6\\u5904\\u7406\\u6D6E\\u70B9\\u6570\\u3002\"]})})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4F20\\u9012\\u53D8\\u91CF\\uFF08varying\\uFF09\\u548C uniform \\u53D8\\u91CF\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"vUv\"}),\"\\uFF1A\\u4ECE\\u9876\\u70B9\\u7740\\u8272\\u5668\\u4F20\\u9012\\u6765\\u7684 UV \\u7EB9\\u7406\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"rows\"}),\"\\uFF1A\\u7528\\u4E8E\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u884C\\u6570\\u3002\"]})]})]}),(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"\\u4E3B\\u51FD\\u6570\\uFF08main\\uFF09\"}),\":\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"vec2 st = fract(vUv * rows);\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"fract\"}),\" \\u51FD\\u6570\\u5C06 UV \\u5750\\u6807\\u6620\\u5C04\\u5230 \",(0,n.jsx)(e.code,{children:\"[0, 1]\"}),\" \\u8303\\u56F4\\u3002\",(0,n.jsx)(e.code,{children:\"vUv * rows\"}),\" \\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u4E58\\u4EE5\\u884C\\u6570\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u6839\\u636E \",(0,n.jsx)(e.code,{children:\"rows\"}),\" \\u63A7\\u5236\\u6BCF\\u884C\\u548C\\u5217\\u7684\\u5BBD\\u5EA6\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"float d1 = step(st.x, 0.9);\"}),\"\\uFF1A\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u5C06 \",(0,n.jsx)(e.code,{children:\"st.x\"}),\" \\u5927\\u4E8E \",(0,n.jsx)(e.code,{children:\"0.9\"}),\" \\u7684\\u4F4D\\u7F6E\\u8BBE\\u7F6E\\u4E3A 0\\uFF0C\\u5F62\\u6210\\u5782\\u76F4\\u7F51\\u683C\\u7EBF\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"float d2 = step(0.1, st.y);\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u5C06 \",(0,n.jsx)(e.code,{children:\"st.y\"}),\" \\u5C0F\\u4E8E \",(0,n.jsx)(e.code,{children:\"0.1\"}),\" \\u7684\\u4F4D\\u7F6E\\u8BBE\\u7F6E\\u4E3A 0\\uFF0C\\u5F62\\u6210\\u6C34\\u5E73\\u7F51\\u683C\\u7EBF\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\"}),\"\\uFF1A\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"mix\"}),\" \\u51FD\\u6570\\u5C06\\u989C\\u8272\\u5728 0.8 \\u548C 1.0 \\u4E4B\\u95F4\\u6DF7\\u5408\\uFF0C\\u4ECE\\u800C\\u4EA7\\u751F\\u7F51\\u683C\\u6548\\u679C\\u7684\\u989C\\u8272\\u3002\"]})]})]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u7F16\\u8BD1\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u7F16\\u8BD1\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-2\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-2\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"compileShader\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"source\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" type\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" shader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"type\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"shaderSource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" source\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getShaderParameter\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"COMPILE_STATUS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Shader compile error:\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getShaderInfoLog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" shader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShaderSource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"VERTEX_SHADER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"compileShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShaderSource\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FRAGMENT_SHADER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-2\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-2\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"compileShader\"}),\" \\u51FD\\u6570\\u7528\\u4E8E\\u7F16\\u8BD1\\u7740\\u8272\\u5668\\uFF0C\\u63A5\\u6536\\u7740\\u8272\\u5668\\u4EE3\\u7801\\u5B57\\u7B26\\u4E32\\u548C\\u7740\\u8272\\u5668\\u7C7B\\u578B\\uFF08\\u9876\\u70B9\\u6216\\u7247\\u5143\\uFF09\\u3002\\u7F16\\u8BD1\\u6210\\u529F\\u540E\\u8FD4\\u56DE\\u7740\\u8272\\u5668\\u5BF9\\u8C61\\uFF0C\\u5931\\u8D25\\u5219\\u6253\\u5370\\u9519\\u8BEF\\u4FE1\\u606F\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.createShader(type)\"}),\": \\u521B\\u5EFA\\u65B0\\u7684\\u7740\\u8272\\u5668\\u5BF9\\u8C61\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.shaderSource(shader, source)\"}),\": \\u5C06 GLSL \\u4EE3\\u7801\\u4F20\\u9012\\u7ED9\\u7740\\u8272\\u5668\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.compileShader(shader)\"}),\": \\u7F16\\u8BD1\\u7740\\u8272\\u5668\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.getShaderParameter(shader, gl.COMPILE_STATUS)\"}),\": \\u68C0\\u67E5\\u7F16\\u8BD1\\u662F\\u5426\\u6210\\u529F\\u3002\\u5931\\u8D25\\u5219\\u8F93\\u51FA\\u9519\\u8BEF\\u65E5\\u5FD7\\u5E76\\u5220\\u9664\\u7740\\u8272\\u5668\\u5BF9\\u8C61\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u94FE\\u63A5\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u94FE\\u63A5\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u94FE\\u63A5\\u7740\\u8272\\u5668\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" program \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"attachShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"attachShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"linkProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getProgramParameter\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"LINK_STATUS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Program link error:\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getProgramInfoLog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"useProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u94FE\\u63A5\\u7740\\u8272\\u5668\\u7684\\u6B65\\u9AA4\\u5305\\u62EC\\u521B\\u5EFA\\u7A0B\\u5E8F\\u5BF9\\u8C61\\u3001\\u9644\\u52A0\\u9876\\u70B9\\u548C\\u7247\\u5143\\u7740\\u8272\\u5668\\u3001\\u94FE\\u63A5\\u7A0B\\u5E8F\\u3001\\u5E76\\u6FC0\\u6D3B\\u7A0B\\u5E8F\\u3002\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.createProgram()\"}),\": \\u521B\\u5EFA\\u4E00\\u4E2A\\u65B0\\u7684\\u7A0B\\u5E8F\\u5BF9\\u8C61\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.attachShader(program, vertexShader/fragmentShader)\"}),\": \\u5C06\\u9876\\u70B9\\u548C\\u7247\\u5143\\u7740\\u8272\\u5668\\u9644\\u52A0\\u5230\\u7A0B\\u5E8F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.linkProgram(program)\"}),\": \\u94FE\\u63A5\\u7A0B\\u5E8F\\u3002\\u6B64\\u6B65\\u9AA4\\u5C06\\u7740\\u8272\\u5668\\u4EE3\\u7801\\u8FDE\\u63A5\\u4E3A\\u4E00\\u4E2A\\u5B8C\\u6574\\u7684\\u53EF\\u6267\\u884C\\u7A0B\\u5E8F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.getProgramParameter(program, gl.LINK_STATUS)\"}),\": \\u68C0\\u67E5\\u94FE\\u63A5\\u72B6\\u6001\\uFF0C\\u5931\\u8D25\\u5219\\u8F93\\u51FA\\u9519\\u8BEF\\u65E5\\u5FD7\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.useProgram(program)\"}),\": \\u4F7F\\u7528\\u7A0B\\u5E8F\\u5BF9\\u8C61\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u5B9A\\u4E49\\u9876\\u70B9\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u5165\\u7F13\\u51B2\\u533A\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5B9A\\u4E49\\u9876\\u70B9\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\u4F20\\u5165\\u7F13\\u51B2\\u533A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5B9A\\u4E49\\u9876\\u70B9\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\uFF0C\\u4F20\\u5165\\u7F13\\u51B2\\u533A\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertices \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" uvs \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9876\\u70B9\\u7F13\\u51B2\\u533A\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexBuffer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bindBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertexBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bufferData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" vertices\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" aVertexPosition \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getAttribLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"a_vertexPosition\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"enableVertexAttribArray\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"aVertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"vertexAttribPointer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"aVertexPosition\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FLOAT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// UV \\u7F13\\u51B2\\u533A\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" uvBuffer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"createBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bindBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" uvBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"bufferData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" uvs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" uvLocation \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getAttribLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"uv\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"enableVertexAttribArray\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"uvLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"vertexAttribPointer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"uvLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"FLOAT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u5B9A\\u4E49 \",(0,n.jsx)(e.code,{children:\"vertices\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"uvs\"}),\" \\u6570\\u7EC4\\uFF0C\\u7528\\u4E8E\\u6307\\u5B9A\\u6BCF\\u4E2A\\u9876\\u70B9\\u7684\\u5750\\u6807\\u548C\\u7EB9\\u7406\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"gl.createBuffer()\"}),\" \\u521B\\u5EFA\\u7F13\\u51B2\\u533A\\uFF0C\\u4F20\\u9012\\u9876\\u70B9\\u548C UV \\u5750\\u6807\\u6570\\u636E\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u8BBE\\u7F6E \",(0,n.jsx)(e.code,{children:\"gl.vertexAttribPointer\"}),\" \\u5C06\\u7F13\\u51B2\\u533A\\u6570\\u636E\\u7ED1\\u5B9A\\u5230\\u7740\\u8272\\u5668\\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"a_vertexPosition\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"uv\"}),\" \\u5C5E\\u6027\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u8BBE\\u7F6E-uniform-\\u53D8\\u91CF\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8BBE\\u7F6E-uniform-\\u53D8\\u91CF\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8BBE\\u7F6E uniform \\u53D8\\u91CF\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" rowsLocation \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"getUniformLocation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"rows\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"uniform1f\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"rowsLocation\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"gl.getUniformLocation\"}),\" \\u83B7\\u53D6 \",(0,n.jsx)(e.code,{children:\"rows\"}),\" uniform \\u53D8\\u91CF\\u7684\\u5730\\u5740\\uFF0C\\u7136\\u540E\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"gl.uniform1f\"}),\" \\u5C06\\u5176\\u8BBE\\u7F6E\\u4E3A 50.0\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u52A8\\u6001\\u63A7\\u5236\\u7F51\\u683C\\u884C\\u6570\\u3002\"]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u7ED8\\u5236\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u7ED8\\u5236\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u7ED8\\u5236\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"clearColor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"clear\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"COLOR_BUFFER_BIT\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"drawArrays\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"TRIANGLES\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"6\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.clearColor(0, 0, 0, 1)\"}),\": \\u8BBE\\u7F6E\\u80CC\\u666F\\u989C\\u8272\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.clear(gl.COLOR_BUFFER_BIT)\"}),\": \\u6E05\\u7A7A\\u753B\\u5E03\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"gl.drawArrays(gl.TRIANGLES, 0, 6)\"}),\": \\u4EE5\\u4E09\\u89D2\\u5F62\\u7ED8\\u5236 6 \\u4E2A\\u9876\\u70B9\\uFF08\\u4E24\\u4E2A\\u4E09\\u89D2\\u5F62\\u62FC\\u6210\\u4E00\\u4E2A\\u77E9\\u5F62\\uFF09\\u3002\"]})]}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"\\u5220\\u9664\\u8D44\\u6E90\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5220\\u9664\\u8D44\\u6E90\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5220\\u9664\\u8D44\\u6E90\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801-7\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801-7\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteProgram\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteShader\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vertexBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  gl\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"deleteBuffer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"uvBuffer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790-7\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790-7\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsx)(e.p,{children:\"\\u6E05\\u7406 WebGL \\u8D44\\u6E90\\uFF0C\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return v(y);})();\n;return Component;"
    },
    "_id": "articles/webgl/webgl-grid.mdx",
    "_raw": {
      "sourceFilePath": "articles/webgl/webgl-grid.mdx",
      "sourceFileName": "webgl-grid.mdx",
      "sourceFileDir": "articles/webgl",
      "contentType": "mdx",
      "flattenedPath": "articles/webgl/webgl-grid"
    },
    "type": "Blog",
    "readingTime": {
      "text": "7 min read",
      "minutes": 6.1,
      "time": 366000,
      "words": 1220
    },
    "slug": "webgl/webgl-grid",
    "path": "articles/webgl/webgl-grid",
    "filePath": "articles/webgl/webgl-grid.mdx",
    "toc": [
      {
        "value": "创建顶点着色器",
        "url": "#创建顶点着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析",
        "depth": 3
      },
      {
        "value": "创建片元着色器",
        "url": "#创建片元着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-1",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-1",
        "depth": 3
      },
      {
        "value": "编译着色器",
        "url": "#编译着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-2",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-2",
        "depth": 3
      },
      {
        "value": "链接着色器",
        "url": "#链接着色器",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-3",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-3",
        "depth": 3
      },
      {
        "value": "定义顶点坐标和纹理坐标，传入缓冲区",
        "url": "#定义顶点坐标和纹理坐标传入缓冲区",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-4",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-4",
        "depth": 3
      },
      {
        "value": "设置 uniform 变量",
        "url": "#设置-uniform-变量",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-5",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-5",
        "depth": 3
      },
      {
        "value": "绘制",
        "url": "#绘制",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-6",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-6",
        "depth": 3
      },
      {
        "value": "删除资源",
        "url": "#删除资源",
        "depth": 2
      },
      {
        "value": "代码",
        "url": "#代码-7",
        "depth": 3
      },
      {
        "value": "代码解析",
        "url": "#代码解析-7",
        "depth": 3
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 webgl 创建网格",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/webgl/webgl-grid"
    }
  },
  {
    "title": "使用 React 和 WebGL 绘制三角形",
    "date": "2016-03-08T00:00:00.000Z",
    "tags": [
      "WebGL",
      "GLSL",
      "React"
    ],
    "draft": false,
    "summary": "\r",
    "body": {
      "raw": "\r\n#### 1. 在 Next.js 中配置 `raw-loader`\r\n\r\n要导入 `.glsl` 着色器文件，我们需要在 `next.config.mjs` 文件中配置 `raw-loader`。首先，安装 `raw-loader`：\r\n\r\n```bash\r\nnpm install raw-loader --save-dev\r\n```\r\n\r\n接着，在项目根目录的 `next.config.mjs` 中添加以下配置：\r\n\r\n```javascript\r\n// next.config.mjs\r\n\r\nconst nextConfig = {\r\n  webpack: (config) => {\r\n    config.module.rules.push({\r\n      test: /\\.glsl$/,\r\n      use: \"raw-loader\",\r\n    });\r\n    return config;\r\n  },\r\n};\r\n\r\nexport default nextConfig;\r\n```\r\n\r\n这段配置允许 Next.js 加载 `.glsl` 文件的原始内容并将其作为字符串导入。\r\n\r\n#### 2. 设置 React 组件\r\n\r\n现在我们可以在 React 组件中导入 GLSL 着色器文件，并在 WebGL 程序中使用它们：\r\n\r\n```javascript\r\n\"use client\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport vertex from \"./vertexShader.glsl\";\r\nimport fragment from \"./fragmentShader.glsl\";\r\n\r\nexport default function Triangle() {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current) {\r\n            const gl = canvasRef.current.getContext(\"webgl2\");\r\n            if (!gl) return;\r\n\r\n            // 创建顶点着色器\r\n            const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n            if (vertexShader) {\r\n                gl.shaderSource(vertexShader, vertex);\r\n                gl.compileShader(vertexShader);\r\n            }\r\n\r\n            // 创建片元着色器\r\n            const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n            if (fragmentShader) {\r\n                gl.shaderSource(fragmentShader, fragment);\r\n                gl.compileShader(fragmentShader);\r\n            }\r\n\r\n            // 创建 WebGL 程序\r\n            const program = gl.createProgram();\r\n            if (program) {\r\n                gl.attachShader(program, vertexShader as WebGLShader);\r\n                gl.attachShader(program, fragmentShader as WebGLShader);\r\n                gl.linkProgram(program);\r\n                gl.useProgram(program);\r\n\r\n                // 定义顶点数据\r\n                const points = new Float32Array([0.0, 1.0, -1.0, -1.0, 1.0, -1.0]);\r\n\r\n                // 将数据写入缓存区\r\n                const bufferId = gl.createBuffer();\r\n                gl.bindBuffer(gl.ARRAY_BUFFER, bufferId);\r\n                gl.bufferData(gl.ARRAY_BUFFER, points, gl.STATIC_DRAW);\r\n\r\n                // 绑定给 position 变量\r\n                const vPosition = gl.getAttribLocation(program, 'position');\r\n                gl.vertexAttribPointer(vPosition, 2, gl.FLOAT, false, 0, 0);\r\n                gl.enableVertexAttribArray(vPosition);\r\n\r\n                // 清除颜色缓冲区并绘制三角形\r\n                gl.clear(gl.COLOR_BUFFER_BIT);\r\n                gl.drawArrays(gl.LINE_LOOP, 0, points.length / 2);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <canvas id=\"canvas\" ref={canvasRef} width=\"500px\" height=\"500px\">\r\n            Triangle\r\n        </canvas>\r\n    );\r\n}\r\n```\r\n\r\n#### 3. 着色器文件\r\n\r\n在同一目录下，创建 GLSL 文件并编写顶点和片元着色器：\r\n\r\n**`vertexShader.glsl`**:\r\n\r\n```glsl\r\nattribute vec2 position;\r\nvoid main() {\r\n    gl_Position = vec4(position, 0.0, 1.0);\r\n}\r\n\r\n```\r\n\r\n**`fragmentShader.glsl`**:\r\n\r\n```glsl\r\nprecision mediump float;\r\nvoid main() {\r\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\r\n}\r\n```\r\n\r\n#### 4. 运行和查看结果\r\n\r\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/ae67f63444244d729c8a46847123a4e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229623&x-orig-sign=3AD%2FKpqDVxB%2FntVbTsmhLvDUExE%3D)\r\n",
      "code": "var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),f=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},o=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=h(n,c))||t.enumerable});return a};var w=(a,n,s)=>(s=a!=null?m(N(a)):{},o(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),y=a=>o(l({},\"__esModule\",{value:!0}),a);var i=g((S,r)=>{r.exports=_jsx_runtime});var b={};f(b,{default:()=>d,frontmatter:()=>x});var e=w(i()),x={title:\"\\u4F7F\\u7528 React \\u548C WebGL \\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\",date:\"2016-03-08\",tags:[\"WebGL\",\"GLSL\",\"React\"],draft:!1,summary:null};function p(a){let n={a:\"a\",code:\"code\",h4:\"h4\",img:\"img\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"1-\\u5728-nextjs-\\u4E2D\\u914D\\u7F6E-raw-loader\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#1-\\u5728-nextjs-\\u4E2D\\u914D\\u7F6E-raw-loader\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \\u5728 Next.js \\u4E2D\\u914D\\u7F6E \",(0,e.jsx)(n.code,{children:\"raw-loader\"})]}),(0,e.jsxs)(n.p,{children:[\"\\u8981\\u5BFC\\u5165 \",(0,e.jsx)(n.code,{children:\".glsl\"}),\" \\u7740\\u8272\\u5668\\u6587\\u4EF6\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u5728 \",(0,e.jsx)(n.code,{children:\"next.config.mjs\"}),\" \\u6587\\u4EF6\\u4E2D\\u914D\\u7F6E \",(0,e.jsx)(n.code,{children:\"raw-loader\"}),\"\\u3002\\u9996\\u5148\\uFF0C\\u5B89\\u88C5 \",(0,e.jsx)(n.code,{children:\"raw-loader\"}),\"\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"npm\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"install\"}),` raw-loader --save-dev\n`]})})}),(0,e.jsxs)(n.p,{children:[\"\\u63A5\\u7740\\uFF0C\\u5728\\u9879\\u76EE\\u6839\\u76EE\\u5F55\\u7684 \",(0,e.jsx)(n.code,{children:\"next.config.mjs\"}),\" \\u4E2D\\u6DFB\\u52A0\\u4EE5\\u4E0B\\u914D\\u7F6E\\uFF1A\"]}),(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-javascript\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// next.config.mjs\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" nextConfig \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"webpack\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"config\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    config\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"module\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"test\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsxs)(n.span,{className:\"token language-regex regex-source\",children:[(0,e.jsx)(n.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),\"glsl\",(0,e.jsx)(n.span,{className:\"token function anchor\",children:\"$\"})]}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"use\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"raw-loader\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" config\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" nextConfig\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\u8FD9\\u6BB5\\u914D\\u7F6E\\u5141\\u8BB8 Next.js \\u52A0\\u8F7D \",(0,e.jsx)(n.code,{children:\".glsl\"}),\" \\u6587\\u4EF6\\u7684\\u539F\\u59CB\\u5185\\u5BB9\\u5E76\\u5C06\\u5176\\u4F5C\\u4E3A\\u5B57\\u7B26\\u4E32\\u5BFC\\u5165\\u3002\"]}),(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"2-\\u8BBE\\u7F6E-react-\\u7EC4\\u4EF6\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#2-\\u8BBE\\u7F6E-react-\\u7EC4\\u4EF6\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \\u8BBE\\u7F6E React \\u7EC4\\u4EF6\"]}),(0,e.jsx)(n.p,{children:\"\\u73B0\\u5728\\u6211\\u4EEC\\u53EF\\u4EE5\\u5728 React \\u7EC4\\u4EF6\\u4E2D\\u5BFC\\u5165 GLSL \\u7740\\u8272\\u5668\\u6587\\u4EF6\\uFF0C\\u5E76\\u5728 WebGL \\u7A0B\\u5E8F\\u4E2D\\u4F7F\\u7528\\u5B83\\u4EEC\\uFF1A\"}),(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-javascript\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token string\",children:'\"use client\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"react\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:\"vertex\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"./vertexShader.glsl\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token imports\",children:\"fragment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"./fragmentShader.glsl\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Triangle\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" canvasRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" useRef\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HTMLCanvasElement\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword nil null\",children:\"null\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useEffect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"canvasRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" gl \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" canvasRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"current\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"getContext\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"webgl2\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u9876\\u70B9\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"VERTEX_SHADER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"shaderSource\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" vertex\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"compileShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vertexShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u7247\\u5143\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"FRAGMENT_SHADER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"shaderSource\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fragment\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"compileShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fragmentShader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA WebGL \\u7A0B\\u5E8F\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" program \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createProgram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" vertexShader \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebGLShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"attachShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" fragmentShader \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"WebGLShader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"linkProgram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"useProgram\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5B9A\\u4E49\\u9876\\u70B9\\u6570\\u636E\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" points \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Float32Array\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u5C06\\u6570\\u636E\\u5199\\u5165\\u7F13\\u5B58\\u533A\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" bufferId \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"createBuffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"bindBuffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" bufferId\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"bufferData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"ARRAY_BUFFER\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" points\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"STATIC_DRAW\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u7ED1\\u5B9A\\u7ED9 position \\u53D8\\u91CF\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" vPosition \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"getAttribLocation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"program\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'position'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"vertexAttribPointer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vPosition\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"FLOAT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"enableVertexAttribArray\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"vPosition\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\u6E05\\u9664\\u989C\\u8272\\u7F13\\u51B2\\u533A\\u5E76\\u7ED8\\u5236\\u4E09\\u89D2\\u5F62\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"clear\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"COLOR_BUFFER_BIT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"drawArrays\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"gl\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"LINE_LOOP\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" points\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"canvas id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"canvas\"'}),\" ref\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"canvasRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" width\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"500px\"'}),\" height\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"500px\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Triangle\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"canvas\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"3-\\u7740\\u8272\\u5668\\u6587\\u4EF6\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#3-\\u7740\\u8272\\u5668\\u6587\\u4EF6\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \\u7740\\u8272\\u5668\\u6587\\u4EF6\"]}),(0,e.jsx)(n.p,{children:\"\\u5728\\u540C\\u4E00\\u76EE\\u5F55\\u4E0B\\uFF0C\\u521B\\u5EFA GLSL \\u6587\\u4EF6\\u5E76\\u7F16\\u5199\\u9876\\u70B9\\u548C\\u7247\\u5143\\u7740\\u8272\\u5668\\uFF1A\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:(0,e.jsx)(n.code,{children:\"vertexShader.glsl\"})}),\":\"]}),(0,e.jsx)(n.pre,{className:\"language-glsl\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-glsl\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"attribute\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"vec2\"}),\" position\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    gl_Position \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"vec4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"position\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:(0,e.jsx)(n.code,{children:\"fragmentShader.glsl\"})}),\":\"]}),(0,e.jsx)(n.pre,{className:\"language-glsl\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-glsl\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"float\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"vec4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h4,{className:\"content-header\",id:\"4-\\u8FD0\\u884C\\u548C\\u67E5\\u770B\\u7ED3\\u679C\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#4-\\u8FD0\\u884C\\u548C\\u67E5\\u770B\\u7ED3\\u679C\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"4. \\u8FD0\\u884C\\u548C\\u67E5\\u770B\\u7ED3\\u679C\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/ae67f63444244d729c8a46847123a4e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229623&x-orig-sign=3AD%2FKpqDVxB%2FntVbTsmhLvDUExE%3D\"})})]})}function d(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(p,{...a})}):p(a)}return y(b);})();\n;return Component;"
    },
    "_id": "articles/webgl/webgl-triangle.mdx",
    "_raw": {
      "sourceFilePath": "articles/webgl/webgl-triangle.mdx",
      "sourceFileName": "webgl-triangle.mdx",
      "sourceFileDir": "articles/webgl",
      "contentType": "mdx",
      "flattenedPath": "articles/webgl/webgl-triangle"
    },
    "type": "Blog",
    "readingTime": {
      "text": "3 min read",
      "minutes": 2.025,
      "time": 121500,
      "words": 405
    },
    "slug": "webgl/webgl-triangle",
    "path": "articles/webgl/webgl-triangle",
    "filePath": "articles/webgl/webgl-triangle.mdx",
    "toc": [
      {
        "value": "1. 在 Next.js 中配置 raw-loader",
        "url": "#1-在-nextjs-中配置-raw-loader",
        "depth": 4
      },
      {
        "value": "2. 设置 React 组件",
        "url": "#2-设置-react-组件",
        "depth": 4
      },
      {
        "value": "3. 着色器文件",
        "url": "#3-着色器文件",
        "depth": 4
      },
      {
        "value": "4. 运行和查看结果",
        "url": "#4-运行和查看结果",
        "depth": 4
      }
    ],
    "structuredData": {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "使用 React 和 WebGL 绘制三角形",
      "datePublished": "2016-03-08T00:00:00.000Z",
      "dateModified": "2016-03-08T00:00:00.000Z",
      "description": "\r",
      "image": "/static/images/twitter-card.png",
      "url": "https://github.com/ajiangpz/articles/webgl/webgl-triangle"
    }
  }
]