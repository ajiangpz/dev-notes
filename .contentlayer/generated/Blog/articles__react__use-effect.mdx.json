{
  "title": "useEffect 详解：副作用的管理与性能优化",
  "date": "2016-03-08T00:00:00.000Z",
  "tags": [
    "react"
  ],
  "draft": false,
  "summary": null,
  "body": {
    "raw": "\n# 什么是副作用？\n\n副作用（Side Effect）是指在函数执行过程中对外部世界的影响，或者说对函数执行结果以外的事物产生影响。副作用通常指那些不直接影响当前函数计算结果，但可能会改变程序状态或外部环境的操作。例如：\n\n- 发起网络请求\n- 修改 DOM\n- 订阅事件\n- 设置定时器等\n\n在 React 中，副作用是通过 `useEffect` 这个 Hook 来管理的。`useEffect` 让我们能够在函数组件中执行这些副作用，同时还能清理它们，避免内存泄漏或不必要的操作。\n\n#### `useEffect` 的基本语法\n\n`useEffect` 接收两个参数：\n\n1. **第一个参数**是执行副作用的函数。\n2. **第二个参数**是一个依赖数组（可选）。它用来告诉 React 何时重新执行副作用。\n\n```javascript\nuseEffect(() => {\n  // 执行副作用的代码\n}, [dependencies]);\n```\n\n#### 执行时间\n\n`useEffect` 会在组件渲染之后执行。因此，它通常用来处理需要访问 DOM 或进行副作用操作（如网络请求）的任务。\n\n- **第一次渲染时**：`useEffect` 会在组件挂载后执行一次。\n- **后续渲染时**：每当组件更新，`useEffect` 会在每次渲染后执行。\n\n### 严格模式下的执行\n\n在 **React 18** 中，如果启用了严格模式（`React.StrictMode`），`useEffect` 可能会被调用两次。这种行为只会发生在开发环境中，主要目的是帮助开发者发现副作用中的潜在问题。React 会在初次渲染时运行 `useEffect`，然后卸载并重新渲染组件，执行副作用。这可以帮助发现副作用未被正确清理的问题。\n\n然而，组件的挂载时执行的副作用只会执行一次。\n\n### `useEffect` 的使用场景\n\n#### 1. **请求数据**\n\n`useEffect` 是处理数据请求的常见地方。你可以在 `useEffect` 中发起网络请求，获取数据，并通过更新状态来触发组件重新渲染。\n\n```javascript\nuseEffect(() => {\n  const fetchData = async () => {\n    const response = await fetch(\"https://api.example.com/data\");\n    const data = await response.json();\n    setData(data);\n  };\n\n  fetchData();\n}, []); // 只在组件挂载时执行一次\n```\n\n#### 2. **监听数据变化**\n\n你可以通过依赖数组来监听某些状态或 props 的变化。当依赖项发生变化时，`useEffect` 会重新执行。这样就可以根据数据的变化更新组件状态或执行其他副作用。\n\n```javascript\nuseEffect(() => {\n  console.log(\"Data has changed:\", data);\n}, [data]); // 当 data 发生变化时执行\n```\n\n#### 3. **订阅事件**\n\n`useEffect` 还可以用来订阅外部事件，如 `resize`、`scroll` 或 WebSocket 消息等。\n\n```javascript\nuseEffect(() => {\n  const handleResize = () => {\n    console.log(\"Window resized\");\n  };\n\n  window.addEventListener(\"resize\", handleResize);\n\n  return () => {\n    window.removeEventListener(\"resize\", handleResize);\n  };\n}, []); // 只在组件挂载和卸载时执行\n```\n\n### `useEffect` 的清理机制\n\n`useEffect` 支持**清理副作用**。清理函数用于移除订阅、清除定时器或清理其他可能导致内存泄漏的资源。返回的清理函数会在组件卸载时执行，或者在依赖项发生变化之前执行。\n\n#### 清理定时器\n\n```javascript\nuseEffect(() => {\n  const timer = setInterval(() => {\n    console.log(\"Timer tick\");\n  }, 1000);\n\n  return () => clearInterval(timer); // 清理定时器\n}, []);\n```\n\n#### 清理事件监听器\n\n```javascript\nuseEffect(() => {\n  const handleClick = () => console.log(\"Button clicked\");\n\n  window.addEventListener(\"click\", handleClick);\n\n  return () => {\n    window.removeEventListener(\"click\", handleClick);\n  };\n}, []);\n```\n\n### `useEffect` 的依赖数组\n\n#### 1. **没有依赖数组**\n\n如果没有传入第二个参数（依赖数组），`useEffect` 会在每次渲染后执行。这种做法一般不推荐，因为它会影响性能，特别是在渲染非常频繁的组件中。\n\n```javascript\nuseEffect(() => {\n  console.log(\"Component rendered\");\n}); // 每次渲染都会执行\n```\n\n#### 2. **空依赖数组**\n\n传入空数组 (`[]`) 表示 `useEffect` 只会在组件挂载时执行一次，这对于需要在组件初始化时执行的副作用非常有用。例如，在组件加载时获取数据或者设置一次性的订阅。\n\n```javascript\nuseEffect(() => {\n  console.log(\"Component mounted\");\n}, []); // 只在挂载时执行一次\n```\n\n#### 3. **依赖项**\n\n传入依赖数组时，`useEffect` 只会在某个依赖项发生变化时执行。这有助于减少不必要的副作用执行，提高性能。\n\n```javascript\nuseEffect(() => {\n  console.log(\"Data updated:\", data);\n}, [data]); // 只有 data 发生变化时才执行\n```\n\n### 性能优化\n\n为了提高性能，避免不必要的副作用执行，可以通过精确控制依赖项来减少执行次数。确保依赖数组只包含那些会触发副作用的变量。\n\n### 总结\n\n- **副作用**：`useEffect` 用于处理副作用，比如数据请求、事件订阅等。\n- **执行时机**：`useEffect` 在每次渲染后执行，并且可以通过依赖数组控制执行时机。\n- **清理副作用**：返回的清理函数用于清除副作用，避免内存泄漏。\n- **性能优化**：合理使用依赖数组，避免每次渲染都执行副作用。\n\n通过合理使用 `useEffect`，你可以有效地管理副作用，优化组件的性能，并确保资源得以正确清理。\n",
    "code": "var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var f=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=>{for(var c in e)l(a,c,{get:e[c],enumerable:!0})},i=(a,e,c,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!k.call(a,s)&&s!==c&&l(a,s,{get:()=>e[s],enumerable:!(t=u(e,s))||t.enumerable});return a};var w=(a,e,c)=>(c=a!=null?p(N(a)):{},i(e||!a||!a.__esModule?l(c,\"default\",{value:a,enumerable:!0}):c,a)),v=a=>i(l({},\"__esModule\",{value:!0}),a);var r=f((Z,o)=>{o.exports=_jsx_runtime});var M={};g(M,{default:()=>h,frontmatter:()=>x});var n=w(r()),x={title:\"useEffect \\u8BE6\\u89E3\\uFF1A\\u526F\\u4F5C\\u7528\\u7684\\u7BA1\\u7406\\u4E0E\\u6027\\u80FD\\u4F18\\u5316\",date:\"2016-03-08\",tags:[\"react\"],draft:!1,summary:null};function d(a){let e={a:\"a\",code:\"code\",h1:\"h1\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EC0\\u4E48\\u662F\\u526F\\u4F5C\\u7528\\uFF1F\"]}),(0,n.jsx)(e.p,{children:\"\\u526F\\u4F5C\\u7528\\uFF08Side Effect\\uFF09\\u662F\\u6307\\u5728\\u51FD\\u6570\\u6267\\u884C\\u8FC7\\u7A0B\\u4E2D\\u5BF9\\u5916\\u90E8\\u4E16\\u754C\\u7684\\u5F71\\u54CD\\uFF0C\\u6216\\u8005\\u8BF4\\u5BF9\\u51FD\\u6570\\u6267\\u884C\\u7ED3\\u679C\\u4EE5\\u5916\\u7684\\u4E8B\\u7269\\u4EA7\\u751F\\u5F71\\u54CD\\u3002\\u526F\\u4F5C\\u7528\\u901A\\u5E38\\u6307\\u90A3\\u4E9B\\u4E0D\\u76F4\\u63A5\\u5F71\\u54CD\\u5F53\\u524D\\u51FD\\u6570\\u8BA1\\u7B97\\u7ED3\\u679C\\uFF0C\\u4F46\\u53EF\\u80FD\\u4F1A\\u6539\\u53D8\\u7A0B\\u5E8F\\u72B6\\u6001\\u6216\\u5916\\u90E8\\u73AF\\u5883\\u7684\\u64CD\\u4F5C\\u3002\\u4F8B\\u5982\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\"}),(0,n.jsx)(e.li,{children:\"\\u4FEE\\u6539 DOM\"}),(0,n.jsx)(e.li,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"}),(0,n.jsx)(e.li,{children:\"\\u8BBE\\u7F6E\\u5B9A\\u65F6\\u5668\\u7B49\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 React \\u4E2D\\uFF0C\\u526F\\u4F5C\\u7528\\u662F\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8FD9\\u4E2A Hook \\u6765\\u7BA1\\u7406\\u7684\\u3002\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8BA9\\u6211\\u4EEC\\u80FD\\u591F\\u5728\\u51FD\\u6570\\u7EC4\\u4EF6\\u4E2D\\u6267\\u884C\\u8FD9\\u4E9B\\u526F\\u4F5C\\u7528\\uFF0C\\u540C\\u65F6\\u8FD8\\u80FD\\u6E05\\u7406\\u5B83\\u4EEC\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u6216\\u4E0D\\u5FC5\\u8981\\u7684\\u64CD\\u4F5C\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"useeffect-\\u7684\\u57FA\\u672C\\u8BED\\u6CD5\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u57FA\\u672C\\u8BED\\u6CD5\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u57FA\\u672C\\u8BED\\u6CD5\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u63A5\\u6536\\u4E24\\u4E2A\\u53C2\\u6570\\uFF1A\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u4E2A\\u53C2\\u6570\"}),\"\\u662F\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u51FD\\u6570\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\"}),\"\\u662F\\u4E00\\u4E2A\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF08\\u53EF\\u9009\\uFF09\\u3002\\u5B83\\u7528\\u6765\\u544A\\u8BC9 React \\u4F55\\u65F6\\u91CD\\u65B0\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]})]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6267\\u884C\\u526F\\u4F5C\\u7528\\u7684\\u4EE3\\u7801\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"dependencies\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6267\\u884C\\u65F6\\u95F4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6267\\u884C\\u65F6\\u95F4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6267\\u884C\\u65F6\\u95F4\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u7EC4\\u4EF6\\u6E32\\u67D3\\u4E4B\\u540E\\u6267\\u884C\\u3002\\u56E0\\u6B64\\uFF0C\\u5B83\\u901A\\u5E38\\u7528\\u6765\\u5904\\u7406\\u9700\\u8981\\u8BBF\\u95EE DOM \\u6216\\u8FDB\\u884C\\u526F\\u4F5C\\u7528\\u64CD\\u4F5C\\uFF08\\u5982\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF09\\u7684\\u4EFB\\u52A1\\u3002\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u7B2C\\u4E00\\u6B21\\u6E32\\u67D3\\u65F6\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u540E\\u6267\\u884C\\u4E00\\u6B21\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u540E\\u7EED\\u6E32\\u67D3\\u65F6\"}),\"\\uFF1A\\u6BCF\\u5F53\\u7EC4\\u4EF6\\u66F4\\u65B0\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u3002\"]})]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4E25\\u683C\\u6A21\\u5F0F\\u4E0B\\u7684\\u6267\\u884C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.strong,{children:\"React 18\"}),\" \\u4E2D\\uFF0C\\u5982\\u679C\\u542F\\u7528\\u4E86\\u4E25\\u683C\\u6A21\\u5F0F\\uFF08\",(0,n.jsx)(e.code,{children:\"React.StrictMode\"}),\"\\uFF09\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EF\\u80FD\\u4F1A\\u88AB\\u8C03\\u7528\\u4E24\\u6B21\\u3002\\u8FD9\\u79CD\\u884C\\u4E3A\\u53EA\\u4F1A\\u53D1\\u751F\\u5728\\u5F00\\u53D1\\u73AF\\u5883\\u4E2D\\uFF0C\\u4E3B\\u8981\\u76EE\\u7684\\u662F\\u5E2E\\u52A9\\u5F00\\u53D1\\u8005\\u53D1\\u73B0\\u526F\\u4F5C\\u7528\\u4E2D\\u7684\\u6F5C\\u5728\\u95EE\\u9898\\u3002React \\u4F1A\\u5728\\u521D\\u6B21\\u6E32\\u67D3\\u65F6\\u8FD0\\u884C \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\uFF0C\\u7136\\u540E\\u5378\\u8F7D\\u5E76\\u91CD\\u65B0\\u6E32\\u67D3\\u7EC4\\u4EF6\\uFF0C\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\\u8FD9\\u53EF\\u4EE5\\u5E2E\\u52A9\\u53D1\\u73B0\\u526F\\u4F5C\\u7528\\u672A\\u88AB\\u6B63\\u786E\\u6E05\\u7406\\u7684\\u95EE\\u9898\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u7136\\u800C\\uFF0C\\u7EC4\\u4EF6\\u7684\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u7684\\u526F\\u4F5C\\u7528\\u53EA\\u4F1A\\u6267\\u884C\\u4E00\\u6B21\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u4F7F\\u7528\\u573A\\u666F\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u4F7F\\u7528\\u573A\\u666F\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u4F7F\\u7528\\u573A\\u666F\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"1-\\u8BF7\\u6C42\\u6570\\u636E\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#1-\\u8BF7\\u6C42\\u6570\\u636E\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \",(0,n.jsx)(e.strong,{children:\"\\u8BF7\\u6C42\\u6570\\u636E\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u662F\\u5904\\u7406\\u6570\\u636E\\u8BF7\\u6C42\\u7684\\u5E38\\u89C1\\u5730\\u65B9\\u3002\\u4F60\\u53EF\\u4EE5\\u5728 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4E2D\\u53D1\\u8D77\\u7F51\\u7EDC\\u8BF7\\u6C42\\uFF0C\\u83B7\\u53D6\\u6570\\u636E\\uFF0C\\u5E76\\u901A\\u8FC7\\u66F4\\u65B0\\u72B6\\u6001\\u6765\\u89E6\\u53D1\\u7EC4\\u4EF6\\u91CD\\u65B0\\u6E32\\u67D3\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"fetchData\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"https://api.example.com/data\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"json\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetchData\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"2-\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#2-\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \",(0,n.jsx)(e.strong,{children:\"\\u76D1\\u542C\\u6570\\u636E\\u53D8\\u5316\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F60\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u6765\\u76D1\\u542C\\u67D0\\u4E9B\\u72B6\\u6001\\u6216 props \\u7684\\u53D8\\u5316\\u3002\\u5F53\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u91CD\\u65B0\\u6267\\u884C\\u3002\\u8FD9\\u6837\\u5C31\\u53EF\\u4EE5\\u6839\\u636E\\u6570\\u636E\\u7684\\u53D8\\u5316\\u66F4\\u65B0\\u7EC4\\u4EF6\\u72B6\\u6001\\u6216\\u6267\\u884C\\u5176\\u4ED6\\u526F\\u4F5C\\u7528\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Data has changed:\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5F53 data \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"3-\\u8BA2\\u9605\\u4E8B\\u4EF6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#3-\\u8BA2\\u9605\\u4E8B\\u4EF6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \",(0,n.jsx)(e.strong,{children:\"\\u8BA2\\u9605\\u4E8B\\u4EF6\"})]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u8FD8\\u53EF\\u4EE5\\u7528\\u6765\\u8BA2\\u9605\\u5916\\u90E8\\u4E8B\\u4EF6\\uFF0C\\u5982 \",(0,n.jsx)(e.code,{children:\"resize\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"scroll\"}),\" \\u6216 WebSocket \\u6D88\\u606F\\u7B49\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleResize\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Window resized\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"resize\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleResize\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"resize\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleResize\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u548C\\u5378\\u8F7D\\u65F6\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u6E05\\u7406\\u673A\\u5236\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u6E05\\u7406\\u673A\\u5236\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u6E05\\u7406\\u673A\\u5236\"]}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u652F\\u6301\",(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\u3002\\u6E05\\u7406\\u51FD\\u6570\\u7528\\u4E8E\\u79FB\\u9664\\u8BA2\\u9605\\u3001\\u6E05\\u9664\\u5B9A\\u65F6\\u5668\\u6216\\u6E05\\u7406\\u5176\\u4ED6\\u53EF\\u80FD\\u5BFC\\u81F4\\u5185\\u5B58\\u6CC4\\u6F0F\\u7684\\u8D44\\u6E90\\u3002\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u4F1A\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6267\\u884C\\uFF0C\\u6216\\u8005\\u5728\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u4E4B\\u524D\\u6267\\u884C\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" timer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"setInterval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Timer tick\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1000\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"clearInterval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"timer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6E05\\u7406\\u5B9A\\u65F6\\u5668\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E05\\u7406\\u4E8B\\u4EF6\\u76D1\\u542C\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"handleClick\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Button clicked\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"click\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleClick\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"removeEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"click\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" handleClick\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"useeffect-\\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#useeffect-\\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7684\\u4F9D\\u8D56\\u6570\\u7EC4\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"1-\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#1-\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"1. \",(0,n.jsx)(e.strong,{children:\"\\u6CA1\\u6709\\u4F9D\\u8D56\\u6570\\u7EC4\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u6CA1\\u6709\\u4F20\\u5165\\u7B2C\\u4E8C\\u4E2A\\u53C2\\u6570\\uFF08\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF09\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u4F1A\\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\u3002\\u8FD9\\u79CD\\u505A\\u6CD5\\u4E00\\u822C\\u4E0D\\u63A8\\u8350\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4F1A\\u5F71\\u54CD\\u6027\\u80FD\\uFF0C\\u7279\\u522B\\u662F\\u5728\\u6E32\\u67D3\\u975E\\u5E38\\u9891\\u7E41\\u7684\\u7EC4\\u4EF6\\u4E2D\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Component rendered\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u4F1A\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"2-\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#2-\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"2. \",(0,n.jsx)(e.strong,{children:\"\\u7A7A\\u4F9D\\u8D56\\u6570\\u7EC4\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u5165\\u7A7A\\u6570\\u7EC4 (\",(0,n.jsx)(e.code,{children:\"[]\"}),\") \\u8868\\u793A \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EA\\u4F1A\\u5728\\u7EC4\\u4EF6\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\\uFF0C\\u8FD9\\u5BF9\\u4E8E\\u9700\\u8981\\u5728\\u7EC4\\u4EF6\\u521D\\u59CB\\u5316\\u65F6\\u6267\\u884C\\u7684\\u526F\\u4F5C\\u7528\\u975E\\u5E38\\u6709\\u7528\\u3002\\u4F8B\\u5982\\uFF0C\\u5728\\u7EC4\\u4EF6\\u52A0\\u8F7D\\u65F6\\u83B7\\u53D6\\u6570\\u636E\\u6216\\u8005\\u8BBE\\u7F6E\\u4E00\\u6B21\\u6027\\u7684\\u8BA2\\u9605\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Component mounted\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u5728\\u6302\\u8F7D\\u65F6\\u6267\\u884C\\u4E00\\u6B21\"}),`\n`]})]})}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"3-\\u4F9D\\u8D56\\u9879\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#3-\\u4F9D\\u8D56\\u9879\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"3. \",(0,n.jsx)(e.strong,{children:\"\\u4F9D\\u8D56\\u9879\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4F20\\u5165\\u4F9D\\u8D56\\u6570\\u7EC4\\u65F6\\uFF0C\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u53EA\\u4F1A\\u5728\\u67D0\\u4E2A\\u4F9D\\u8D56\\u9879\\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u6267\\u884C\\u3002\\u8FD9\\u6709\\u52A9\\u4E8E\\u51CF\\u5C11\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\uFF0C\\u63D0\\u9AD8\\u6027\\u80FD\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function method property-access\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Data updated:\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u53EA\\u6709 data \\u53D1\\u751F\\u53D8\\u5316\\u65F6\\u624D\\u6267\\u884C\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u6027\\u80FD\\u4F18\\u5316\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6027\\u80FD\\u4F18\\u5316\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6027\\u80FD\\u4F18\\u5316\"]}),(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u63D0\\u9AD8\\u6027\\u80FD\\uFF0C\\u907F\\u514D\\u4E0D\\u5FC5\\u8981\\u7684\\u526F\\u4F5C\\u7528\\u6267\\u884C\\uFF0C\\u53EF\\u4EE5\\u901A\\u8FC7\\u7CBE\\u786E\\u63A7\\u5236\\u4F9D\\u8D56\\u9879\\u6765\\u51CF\\u5C11\\u6267\\u884C\\u6B21\\u6570\\u3002\\u786E\\u4FDD\\u4F9D\\u8D56\\u6570\\u7EC4\\u53EA\\u5305\\u542B\\u90A3\\u4E9B\\u4F1A\\u89E6\\u53D1\\u526F\\u4F5C\\u7528\\u7684\\u53D8\\u91CF\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u603B\\u7ED3\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u603B\\u7ED3\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u7528\\u4E8E\\u5904\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u6BD4\\u5982\\u6570\\u636E\\u8BF7\\u6C42\\u3001\\u4E8B\\u4EF6\\u8BA2\\u9605\\u7B49\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6267\\u884C\\u65F6\\u673A\"}),\"\\uFF1A\",(0,n.jsx)(e.code,{children:\"useEffect\"}),\" \\u5728\\u6BCF\\u6B21\\u6E32\\u67D3\\u540E\\u6267\\u884C\\uFF0C\\u5E76\\u4E14\\u53EF\\u4EE5\\u901A\\u8FC7\\u4F9D\\u8D56\\u6570\\u7EC4\\u63A7\\u5236\\u6267\\u884C\\u65F6\\u673A\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6E05\\u7406\\u526F\\u4F5C\\u7528\"}),\"\\uFF1A\\u8FD4\\u56DE\\u7684\\u6E05\\u7406\\u51FD\\u6570\\u7528\\u4E8E\\u6E05\\u9664\\u526F\\u4F5C\\u7528\\uFF0C\\u907F\\u514D\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\\u5408\\u7406\\u4F7F\\u7528\\u4F9D\\u8D56\\u6570\\u7EC4\\uFF0C\\u907F\\u514D\\u6BCF\\u6B21\\u6E32\\u67D3\\u90FD\\u6267\\u884C\\u526F\\u4F5C\\u7528\\u3002\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7\\u5408\\u7406\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"useEffect\"}),\"\\uFF0C\\u4F60\\u53EF\\u4EE5\\u6709\\u6548\\u5730\\u7BA1\\u7406\\u526F\\u4F5C\\u7528\\uFF0C\\u4F18\\u5316\\u7EC4\\u4EF6\\u7684\\u6027\\u80FD\\uFF0C\\u5E76\\u786E\\u4FDD\\u8D44\\u6E90\\u5F97\\u4EE5\\u6B63\\u786E\\u6E05\\u7406\\u3002\"]})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return v(M);})();\n;return Component;"
  },
  "_id": "articles/react/use-effect.mdx",
  "_raw": {
    "sourceFilePath": "articles/react/use-effect.mdx",
    "sourceFileName": "use-effect.mdx",
    "sourceFileDir": "articles/react",
    "contentType": "mdx",
    "flattenedPath": "articles/react/use-effect"
  },
  "type": "Blog",
  "readingTime": {
    "text": "7 min read",
    "minutes": 6.4,
    "time": 384000,
    "words": 1280
  },
  "slug": "react/use-effect",
  "path": "articles/react/use-effect",
  "filePath": "articles/react/use-effect.mdx",
  "toc": [
    {
      "value": "什么是副作用？",
      "url": "#什么是副作用",
      "depth": 1
    },
    {
      "value": "useEffect 的基本语法",
      "url": "#useeffect-的基本语法",
      "depth": 4
    },
    {
      "value": "执行时间",
      "url": "#执行时间",
      "depth": 4
    },
    {
      "value": "严格模式下的执行",
      "url": "#严格模式下的执行",
      "depth": 3
    },
    {
      "value": "useEffect 的使用场景",
      "url": "#useeffect-的使用场景",
      "depth": 3
    },
    {
      "value": "1. 请求数据",
      "url": "#1-请求数据",
      "depth": 4
    },
    {
      "value": "2. 监听数据变化",
      "url": "#2-监听数据变化",
      "depth": 4
    },
    {
      "value": "3. 订阅事件",
      "url": "#3-订阅事件",
      "depth": 4
    },
    {
      "value": "useEffect 的清理机制",
      "url": "#useeffect-的清理机制",
      "depth": 3
    },
    {
      "value": "清理定时器",
      "url": "#清理定时器",
      "depth": 4
    },
    {
      "value": "清理事件监听器",
      "url": "#清理事件监听器",
      "depth": 4
    },
    {
      "value": "useEffect 的依赖数组",
      "url": "#useeffect-的依赖数组",
      "depth": 3
    },
    {
      "value": "1. 没有依赖数组",
      "url": "#1-没有依赖数组",
      "depth": 4
    },
    {
      "value": "2. 空依赖数组",
      "url": "#2-空依赖数组",
      "depth": 4
    },
    {
      "value": "3. 依赖项",
      "url": "#3-依赖项",
      "depth": 4
    },
    {
      "value": "性能优化",
      "url": "#性能优化",
      "depth": 3
    },
    {
      "value": "总结",
      "url": "#总结",
      "depth": 3
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "useEffect 详解：副作用的管理与性能优化",
    "datePublished": "2016-03-08T00:00:00.000Z",
    "dateModified": "2016-03-08T00:00:00.000Z",
    "description": null,
    "image": "/static/images/twitter-card.png",
    "url": "https://github.com/ajiangpz/articles/react/use-effect"
  }
}