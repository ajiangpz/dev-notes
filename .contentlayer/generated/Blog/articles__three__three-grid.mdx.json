{
  "title": "使用 Three.js 和 着色器绘制网格",
  "date": "2016-03-08T00:00:00.000Z",
  "tags": [
    "Three.js",
    "GLSL",
    "React"
  ],
  "draft": false,
  "summary": "\r",
  "body": {
    "raw": "\r\n### 使用 Three.js 和 React 创建动态网格效果\r\n\r\n在本文中，我们将学习如何使用 Three.js 和 React 创建一个动态网格效果。我们将使用 GLSL（OpenGL Shading Language）编写自定义着色器，通过 Three.js 渲染一个二维的网格图案。本文示例是一个简单的项目，可以帮助你理解如何在 Three.js 中实现自定义着色器，并使用 React 管理渲染循环。\r\n\r\n### 先决条件\r\n\r\n在开始之前，你需要了解以下技术：\r\n\r\n- **React**：本项目使用 React 管理生命周期。\r\n- **Three.js**：一个流行的 3D 渲染库，用于处理 WebGL 场景。\r\n- **GLSL**：用于定义自定义着色器。我们将使用 GLSL 来控制网格的外观。\r\n\r\n### 创建项目结构\r\n\r\n首先，我们将设置一个新的 React 组件，并引入 Three.js。创建一个名为 `ThreeJsGrid.tsx` 的文件，代码如下：\r\n\r\n```typescript\r\n\"use client\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport * as THREE from \"three\";\r\n\r\nfunction ThreeJsGrid() {\r\n  const mountRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    // 初始化场景、摄像机和渲染器\r\n    const scene = new THREE.Scene();\r\n    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\r\n    camera.position.z = 1;\r\n\r\n    const renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(500, 500);\r\n    if (!mountRef.current) return;\r\n    mountRef.current.appendChild(renderer.domElement);\r\n\r\n    // 定义着色器\r\n    const vertexShader = `\r\n          varying vec2 vUv;\r\n          void main() {\r\n            vUv = uv;\r\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n          }\r\n        `;\r\n\r\n    const fragmentShader = `\r\n          precision mediump float;\r\n          varying vec2 vUv;\r\n          uniform float rows;\r\n          void main() {\r\n            vec2 st = fract(vUv * rows);\r\n            float d1 = step(st.x, 0.9);\r\n            float d2 = step(0.1, st.y);\r\n            gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\r\n          }\r\n        `;\r\n\r\n    // 创建一个平面几何体并应用着色器\r\n    const geometry = new THREE.PlaneGeometry(2, 2);\r\n    const material = new THREE.ShaderMaterial({\r\n      vertexShader,\r\n      fragmentShader,\r\n      uniforms: {\r\n        rows: { value: 50.0 }, // 设置网格的行数\r\n      },\r\n    });\r\n    const plane = new THREE.Mesh(geometry, material);\r\n    scene.add(plane);\r\n\r\n    // 渲染循环\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      renderer.render(scene, camera);\r\n    };\r\n    animate();\r\n\r\n    // 组件卸载时清理资源\r\n    return () => {\r\n      renderer.dispose();\r\n      material.dispose();\r\n      geometry.dispose();\r\n      if (mountRef.current) mountRef.current.removeChild(renderer.domElement);\r\n    };\r\n  }, []);\r\n\r\n  return <div ref={mountRef} />;\r\n}\r\n\r\nexport default ThreeJsGrid;\r\n```\r\n\r\n### 代码解析\r\n\r\n#### 初始化场景和摄像机\r\n\r\n```typescript\r\nconst scene = new THREE.Scene();\r\nconst camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\r\ncamera.position.z = 1;\r\n```\r\n\r\n我们创建了一个 `OrthographicCamera` 以正交方式查看场景，这样可以确保图案没有透视效果。摄像机位置为 `z=1`。\r\n\r\n#### 创建渲染器并将其附加到 DOM\r\n\r\n```typescript\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize(500, 500);\r\nif (!mountRef.current) return;\r\nmountRef.current.appendChild(renderer.domElement);\r\n```\r\n\r\n在 `WebGLRenderer` 设置后，我们将其 DOM 元素附加到 `ref` 指向的 HTML 元素上。\r\n\r\n#### 顶点和片段着色器\r\n\r\n在 Three.js 中，着色器可以极大地控制材质的显示效果。这里我们定义了两个着色器：\r\n\r\n- **Vertex Shader**：用于将顶点映射到屏幕坐标。\r\n- **Fragment Shader**：控制像素的颜色，生成我们想要的网格图案。\r\n\r\n```glsl\r\n// 顶点着色器\r\nconst vertexShader = `\r\n  varying vec2 vUv;\r\n  void main() {\r\n    vUv = uv;\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n  }\r\n`;\r\n\r\n// 片段着色器\r\nconst fragmentShader = `\r\n  precision mediump float;\r\n  varying vec2 vUv;\r\n  uniform float rows;\r\n  void main() {\r\n    vec2 st = fract(vUv * rows);\r\n    float d1 = step(st.x, 0.9);\r\n    float d2 = step(0.1, st.y);\r\n    gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\r\n  }\r\n`;\r\n```\r\n\r\n片段着色器中的关键部分如下：\r\n\r\n- 着色器是根据纹理坐标来绘制的，即 (0,0) 到 （1，1）之间的内容，默认就是一种颜色，现在 gl_FragColor 由 d1 和 d2 控制，d1 和 d2 根据纹理坐标变化。rows 将纹理坐标放大了六十倍，得到 0 到 60 之间到小数循环变化，d1 和 d2 根据图中的 x,y 坐标变化，则着色器颜色随之变化。\r\n\r\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/2fc6007d186f490da572345fbef69e21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=JjA9XURINYnJeruqp4HGGv%2B38pE%3D)\r\n\r\n- fract 函数表示取参数的小数部分，即 \\[0,60] 的小数部分，包括 0.1,0.2....，1.1,1.2....如此循环\r\n\r\n- `st` 变量表示 UV 坐标的分数部分。我们使用 `vUv * rows` 对网格进行缩放，形成网格块。\r\n\r\n- `d1` 和 `d2` 使用 `step` 函数生成边界效果，控制哪些网格线显示为深色或浅色。\r\n\r\n- `step` 函数是 `Shader` 中另一个很常用的函数，它就是一个阶梯函数。它的原理是：当 `step(a, b)` 中的 `b < a` 时，返回 `0`；当 `b >= a` 时，返回 `1`。即只有 `st.x < 0.9` 和 `st.y  < 0.1 ` 时 `d1*d2` 是为 `1` 的，其他情况都为 `0` 。\r\n\r\n- `d1*d2` 为 `1` 则绘制 `vec3(0.8)` ，否则绘制 `vec3(1.0)`。绘制白色和灰色，形成了网格效果\r\n\r\n#### 平面几何体和材质\r\n\r\n```typescript\r\nconst geometry = new THREE.PlaneGeometry(2, 2);\r\nconst material = new THREE.ShaderMaterial({\r\n  vertexShader,\r\n  fragmentShader,\r\n  uniforms: {\r\n    rows: { value: 50.0 }, // 设置行数\r\n  },\r\n});\r\nconst plane = new THREE.Mesh(geometry, material);\r\nscene.add(plane);\r\n```\r\n\r\n通过 `ShaderMaterial` 将着色器应用到一个平面上。`uniforms` 参数用于控制网格的行数。\r\n\r\n#### 渲染循环\r\n\r\n```typescript\r\nconst animate = () => {\r\n  requestAnimationFrame(animate);\r\n  renderer.render(scene, camera);\r\n};\r\nanimate();\r\n```\r\n\r\n这是一个典型的渲染循环，用于保持动画更新。我们调用 `requestAnimationFrame` 以实现平滑的动画。\r\n\r\n#### 资源清理\r\n\r\n```typescript\r\nreturn () => {\r\n  renderer.dispose();\r\n  material.dispose();\r\n  geometry.dispose();\r\n  if (mountRef.current) mountRef.current.removeChild(renderer.domElement);\r\n};\r\n```\r\n\r\n在组件卸载时，我们清理了 `renderer`、`material` 和 `geometry` 资源，以防止内存泄漏。\r\n\r\n### 运行效果\r\n\r\n在应用程序中引入 `ThreeJsGrid` 组件并渲染即可看到效果。调节 `rows` 的值，你可以控制网格的密度。\r\n\r\n![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/aaadd806c2824918b69d7b45e8294b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=lWuEbHZgsSbVC7pwncAvNLOvTlU%3D)\r\n",
    "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},i=(a,e,s,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of u(e))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>e[c],enumerable:!(t=m(e,c))||t.enumerable});return a};var f=(a,e,s)=>(s=a!=null?h(N(a)):{},i(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),y=a=>i(l({},\"__esModule\",{value:!0}),a);var o=g((M,r)=>{r.exports=_jsx_runtime});var x={};w(x,{default:()=>p,frontmatter:()=>v});var n=f(o()),v={title:\"\\u4F7F\\u7528 Three.js \\u548C \\u7740\\u8272\\u5668\\u7ED8\\u5236\\u7F51\\u683C\",date:\"2016-03-08\",tags:[\"Three.js\",\"GLSL\",\"React\"],draft:!1,summary:null};function d(a){let e={a:\"a\",code:\"code\",h3:\"h3\",h4:\"h4\",img:\"img\",li:\"li\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4F7F\\u7528-threejs-\\u548C-react-\\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4F7F\\u7528-threejs-\\u548C-react-\\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4F7F\\u7528 Three.js \\u548C React \\u521B\\u5EFA\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u672C\\u6587\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u5982\\u4F55\\u4F7F\\u7528 Three.js \\u548C React \\u521B\\u5EFA\\u4E00\\u4E2A\\u52A8\\u6001\\u7F51\\u683C\\u6548\\u679C\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528 GLSL\\uFF08OpenGL Shading Language\\uFF09\\u7F16\\u5199\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\uFF0C\\u901A\\u8FC7 Three.js \\u6E32\\u67D3\\u4E00\\u4E2A\\u4E8C\\u7EF4\\u7684\\u7F51\\u683C\\u56FE\\u6848\\u3002\\u672C\\u6587\\u793A\\u4F8B\\u662F\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u9879\\u76EE\\uFF0C\\u53EF\\u4EE5\\u5E2E\\u52A9\\u4F60\\u7406\\u89E3\\u5982\\u4F55\\u5728 Three.js \\u4E2D\\u5B9E\\u73B0\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\uFF0C\\u5E76\\u4F7F\\u7528 React \\u7BA1\\u7406\\u6E32\\u67D3\\u5FAA\\u73AF\\u3002\"}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u5148\\u51B3\\u6761\\u4EF6\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5148\\u51B3\\u6761\\u4EF6\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5148\\u51B3\\u6761\\u4EF6\"]}),(0,n.jsx)(e.p,{children:\"\\u5728\\u5F00\\u59CB\\u4E4B\\u524D\\uFF0C\\u4F60\\u9700\\u8981\\u4E86\\u89E3\\u4EE5\\u4E0B\\u6280\\u672F\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"React\"}),\"\\uFF1A\\u672C\\u9879\\u76EE\\u4F7F\\u7528 React \\u7BA1\\u7406\\u751F\\u547D\\u5468\\u671F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Three.js\"}),\"\\uFF1A\\u4E00\\u4E2A\\u6D41\\u884C\\u7684 3D \\u6E32\\u67D3\\u5E93\\uFF0C\\u7528\\u4E8E\\u5904\\u7406 WebGL \\u573A\\u666F\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"GLSL\"}),\"\\uFF1A\\u7528\\u4E8E\\u5B9A\\u4E49\\u81EA\\u5B9A\\u4E49\\u7740\\u8272\\u5668\\u3002\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528 GLSL \\u6765\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u5916\\u89C2\\u3002\"]})]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u9879\\u76EE\\u7ED3\\u6784\"]}),(0,n.jsxs)(e.p,{children:[\"\\u9996\\u5148\\uFF0C\\u6211\\u4EEC\\u5C06\\u8BBE\\u7F6E\\u4E00\\u4E2A\\u65B0\\u7684 React \\u7EC4\\u4EF6\\uFF0C\\u5E76\\u5F15\\u5165 Three.js\\u3002\\u521B\\u5EFA\\u4E00\\u4E2A\\u540D\\u4E3A \",(0,n.jsx)(e.code,{children:\"ThreeJsGrid.tsx\"}),\" \\u7684\\u6587\\u4EF6\\uFF0C\\u4EE3\\u7801\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:'\"use client\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" React\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useEffect\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" useRef \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"react\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"three\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"ThreeJsGrid\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" mountRef \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useRef\"}),(0,n.jsxs)(e.span,{className:\"token class-name generic\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"HTMLDivElement\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useEffect\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521D\\u59CB\\u5316\\u573A\\u666F\\u3001\\u6444\\u50CF\\u673A\\u548C\\u6E32\\u67D3\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" scene \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Scene\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" camera \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"OrthographicCamera\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"z \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" renderer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"WebGLRenderer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u5B9A\\u4E49\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\\r\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          varying vec2 vUv;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          void main() {\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            vUv = uv;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          }\\r\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\\r\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          precision mediump float;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          varying vec2 vUv;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          uniform float rows;\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          void main() {\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            vec2 st = fract(vUv * rows);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            float d1 = step(st.x, 0.9);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            float d2 = step(0.1, st.y);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`            gl_FragColor = vec4(mix(vec3(0.8), vec3(1.0), d1 * d2), 1.0);\\r\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`          }\\r\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u521B\\u5EFA\\u4E00\\u4E2A\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u5E76\\u5E94\\u7528\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" geometry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"PlaneGeometry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" material \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"ShaderMaterial\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      uniforms\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        rows\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u7F51\\u683C\\u7684\\u884C\\u6570\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" plane \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Mesh\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"plane\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u6E32\\u67D3\\u5FAA\\u73AF\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"animate\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function\",children:\"requestAnimationFrame\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"animate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"animate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\u6E05\\u7406\\u8D44\\u6E90\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div ref\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" ThreeJsGrid\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u4EE3\\u7801\\u89E3\\u6790\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4EE3\\u7801\\u89E3\\u6790\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u4EE3\\u7801\\u89E3\\u6790\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521D\\u59CB\\u5316\\u573A\\u666F\\u548C\\u6444\\u50CF\\u673A\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" scene \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Scene\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" camera \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"OrthographicCamera\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"10\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"z \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u4EEC\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"OrthographicCamera\"}),\" \\u4EE5\\u6B63\\u4EA4\\u65B9\\u5F0F\\u67E5\\u770B\\u573A\\u666F\\uFF0C\\u8FD9\\u6837\\u53EF\\u4EE5\\u786E\\u4FDD\\u56FE\\u6848\\u6CA1\\u6709\\u900F\\u89C6\\u6548\\u679C\\u3002\\u6444\\u50CF\\u673A\\u4F4D\\u7F6E\\u4E3A \",(0,n.jsx)(e.code,{children:\"z=1\"}),\"\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230-dom\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230-dom\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u521B\\u5EFA\\u6E32\\u67D3\\u5668\\u5E76\\u5C06\\u5176\\u9644\\u52A0\\u5230 DOM\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" renderer \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"WebGLRenderer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"setSize\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"500\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.code,{children:\"WebGLRenderer\"}),\" \\u8BBE\\u7F6E\\u540E\\uFF0C\\u6211\\u4EEC\\u5C06\\u5176 DOM \\u5143\\u7D20\\u9644\\u52A0\\u5230 \",(0,n.jsx)(e.code,{children:\"ref\"}),\" \\u6307\\u5411\\u7684 HTML \\u5143\\u7D20\\u4E0A\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u9876\\u70B9\\u548C\\u7247\\u6BB5\\u7740\\u8272\\u5668\"]}),(0,n.jsx)(e.p,{children:\"\\u5728 Three.js \\u4E2D\\uFF0C\\u7740\\u8272\\u5668\\u53EF\\u4EE5\\u6781\\u5927\\u5730\\u63A7\\u5236\\u6750\\u8D28\\u7684\\u663E\\u793A\\u6548\\u679C\\u3002\\u8FD9\\u91CC\\u6211\\u4EEC\\u5B9A\\u4E49\\u4E86\\u4E24\\u4E2A\\u7740\\u8272\\u5668\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Vertex Shader\"}),\"\\uFF1A\\u7528\\u4E8E\\u5C06\\u9876\\u70B9\\u6620\\u5C04\\u5230\\u5C4F\\u5E55\\u5750\\u6807\\u3002\"]}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:\"Fragment Shader\"}),\"\\uFF1A\\u63A7\\u5236\\u50CF\\u7D20\\u7684\\u989C\\u8272\\uFF0C\\u751F\\u6210\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u7F51\\u683C\\u56FE\\u6848\\u3002\"]})]}),(0,n.jsx)(e.pre,{className:\"language-glsl\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-glsl\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u9876\\u70B9\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" vertexShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" `\\r\\n\"]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" uv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_Position \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" projectionMatrix \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" modelViewMatrix \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"position\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"`\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u7247\\u6BB5\\u7740\\u8272\\u5668\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" fragmentShader \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" `\\r\\n\"]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"precision\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"mediump\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"varying\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" vUv\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"uniform\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"void\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec2\"}),\" st \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fract\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"vUv \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" rows\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"x\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.9\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"float\"}),\" d2 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"step\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" st\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"y\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    gl_FragColor \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec4\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"mix\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"vec3\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" d1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" d2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1.0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"`\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u7247\\u6BB5\\u7740\\u8272\\u5668\\u4E2D\\u7684\\u5173\\u952E\\u90E8\\u5206\\u5982\\u4E0B\\uFF1A\"}),(0,n.jsx)(e.ul,{children:(0,n.jsx)(e.li,{children:\"\\u7740\\u8272\\u5668\\u662F\\u6839\\u636E\\u7EB9\\u7406\\u5750\\u6807\\u6765\\u7ED8\\u5236\\u7684\\uFF0C\\u5373 (0,0) \\u5230 \\uFF081\\uFF0C1\\uFF09\\u4E4B\\u95F4\\u7684\\u5185\\u5BB9\\uFF0C\\u9ED8\\u8BA4\\u5C31\\u662F\\u4E00\\u79CD\\u989C\\u8272\\uFF0C\\u73B0\\u5728 gl_FragColor \\u7531 d1 \\u548C d2 \\u63A7\\u5236\\uFF0Cd1 \\u548C d2 \\u6839\\u636E\\u7EB9\\u7406\\u5750\\u6807\\u53D8\\u5316\\u3002rows \\u5C06\\u7EB9\\u7406\\u5750\\u6807\\u653E\\u5927\\u4E86\\u516D\\u5341\\u500D\\uFF0C\\u5F97\\u5230 0 \\u5230 60 \\u4E4B\\u95F4\\u5230\\u5C0F\\u6570\\u5FAA\\u73AF\\u53D8\\u5316\\uFF0Cd1 \\u548C d2 \\u6839\\u636E\\u56FE\\u4E2D\\u7684 x,y \\u5750\\u6807\\u53D8\\u5316\\uFF0C\\u5219\\u7740\\u8272\\u5668\\u989C\\u8272\\u968F\\u4E4B\\u53D8\\u5316\\u3002\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/2fc6007d186f490da572345fbef69e21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=JjA9XURINYnJeruqp4HGGv%2B38pE%3D\"})}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.p,{children:\"fract \\u51FD\\u6570\\u8868\\u793A\\u53D6\\u53C2\\u6570\\u7684\\u5C0F\\u6570\\u90E8\\u5206\\uFF0C\\u5373 [0,60] \\u7684\\u5C0F\\u6570\\u90E8\\u5206\\uFF0C\\u5305\\u62EC 0.1,0.2....\\uFF0C1.1,1.2....\\u5982\\u6B64\\u5FAA\\u73AF\"})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"st\"}),\" \\u53D8\\u91CF\\u8868\\u793A UV \\u5750\\u6807\\u7684\\u5206\\u6570\\u90E8\\u5206\\u3002\\u6211\\u4EEC\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"vUv * rows\"}),\" \\u5BF9\\u7F51\\u683C\\u8FDB\\u884C\\u7F29\\u653E\\uFF0C\\u5F62\\u6210\\u7F51\\u683C\\u5757\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"d1\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"d2\"}),\" \\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u751F\\u6210\\u8FB9\\u754C\\u6548\\u679C\\uFF0C\\u63A7\\u5236\\u54EA\\u4E9B\\u7F51\\u683C\\u7EBF\\u663E\\u793A\\u4E3A\\u6DF1\\u8272\\u6216\\u6D45\\u8272\\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"step\"}),\" \\u51FD\\u6570\\u662F \",(0,n.jsx)(e.code,{children:\"Shader\"}),\" \\u4E2D\\u53E6\\u4E00\\u4E2A\\u5F88\\u5E38\\u7528\\u7684\\u51FD\\u6570\\uFF0C\\u5B83\\u5C31\\u662F\\u4E00\\u4E2A\\u9636\\u68AF\\u51FD\\u6570\\u3002\\u5B83\\u7684\\u539F\\u7406\\u662F\\uFF1A\\u5F53 \",(0,n.jsx)(e.code,{children:\"step(a, b)\"}),\" \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"b < a\"}),\" \\u65F6\\uFF0C\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"0\"}),\"\\uFF1B\\u5F53 \",(0,n.jsx)(e.code,{children:\"b >= a\"}),\" \\u65F6\\uFF0C\\u8FD4\\u56DE \",(0,n.jsx)(e.code,{children:\"1\"}),\"\\u3002\\u5373\\u53EA\\u6709 \",(0,n.jsx)(e.code,{children:\"st.x < 0.9\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"st.y < 0.1 \"}),\"\\u65F6 \",(0,n.jsx)(e.code,{children:\"d1*d2\"}),\" \\u662F\\u4E3A \",(0,n.jsx)(e.code,{children:\"1\"}),\" \\u7684\\uFF0C\\u5176\\u4ED6\\u60C5\\u51B5\\u90FD\\u4E3A \",(0,n.jsx)(e.code,{children:\"0\"}),\" \\u3002\"]})}),(0,n.jsx)(e.li,{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"d1*d2\"}),\" \\u4E3A \",(0,n.jsx)(e.code,{children:\"1\"}),\" \\u5219\\u7ED8\\u5236 \",(0,n.jsx)(e.code,{children:\"vec3(0.8)\"}),\" \\uFF0C\\u5426\\u5219\\u7ED8\\u5236 \",(0,n.jsx)(e.code,{children:\"vec3(1.0)\"}),\"\\u3002\\u7ED8\\u5236\\u767D\\u8272\\u548C\\u7070\\u8272\\uFF0C\\u5F62\\u6210\\u4E86\\u7F51\\u683C\\u6548\\u679C\"]})})]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u5E73\\u9762\\u51E0\\u4F55\\u4F53\\u548C\\u6750\\u8D28\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" geometry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"PlaneGeometry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" material \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"ShaderMaterial\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  vertexShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  fragmentShader\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  uniforms\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    rows\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50.0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// \\u8BBE\\u7F6E\\u884C\\u6570\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" plane \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:(0,n.jsx)(e.span,{className:\"token constant\",children:\"THREE\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"Mesh\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"plane\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u901A\\u8FC7 \",(0,n.jsx)(e.code,{children:\"ShaderMaterial\"}),\" \\u5C06\\u7740\\u8272\\u5668\\u5E94\\u7528\\u5230\\u4E00\\u4E2A\\u5E73\\u9762\\u4E0A\\u3002\",(0,n.jsx)(e.code,{children:\"uniforms\"}),\" \\u53C2\\u6570\\u7528\\u4E8E\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u884C\\u6570\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u6E32\\u67D3\\u5FAA\\u73AF\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E32\\u67D3\\u5FAA\\u73AF\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u6E32\\u67D3\\u5FAA\\u73AF\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"animate\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"requestAnimationFrame\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"animate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"scene\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" camera\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"animate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u662F\\u4E00\\u4E2A\\u5178\\u578B\\u7684\\u6E32\\u67D3\\u5FAA\\u73AF\\uFF0C\\u7528\\u4E8E\\u4FDD\\u6301\\u52A8\\u753B\\u66F4\\u65B0\\u3002\\u6211\\u4EEC\\u8C03\\u7528 \",(0,n.jsx)(e.code,{children:\"requestAnimationFrame\"}),\" \\u4EE5\\u5B9E\\u73B0\\u5E73\\u6ED1\\u7684\\u52A8\\u753B\\u3002\"]}),(0,n.jsxs)(e.h4,{className:\"content-header\",id:\"\\u8D44\\u6E90\\u6E05\\u7406\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8D44\\u6E90\\u6E05\\u7406\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8D44\\u6E90\\u6E05\\u7406\"]}),(0,n.jsx)(e.pre,{className:\"language-typescript\",children:(0,n.jsxs)(e.code,{className:\"language-typescript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  material\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  geometry\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"dispose\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" mountRef\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"current\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"renderer\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"domElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u7EC4\\u4EF6\\u5378\\u8F7D\\u65F6\\uFF0C\\u6211\\u4EEC\\u6E05\\u7406\\u4E86 \",(0,n.jsx)(e.code,{children:\"renderer\"}),\"\\u3001\",(0,n.jsx)(e.code,{children:\"material\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"geometry\"}),\" \\u8D44\\u6E90\\uFF0C\\u4EE5\\u9632\\u6B62\\u5185\\u5B58\\u6CC4\\u6F0F\\u3002\"]}),(0,n.jsxs)(e.h3,{className:\"content-header\",id:\"\\u8FD0\\u884C\\u6548\\u679C\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u8FD0\\u884C\\u6548\\u679C\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u8FD0\\u884C\\u6548\\u679C\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u5E94\\u7528\\u7A0B\\u5E8F\\u4E2D\\u5F15\\u5165 \",(0,n.jsx)(e.code,{children:\"ThreeJsGrid\"}),\" \\u7EC4\\u4EF6\\u5E76\\u6E32\\u67D3\\u5373\\u53EF\\u770B\\u5230\\u6548\\u679C\\u3002\\u8C03\\u8282 \",(0,n.jsx)(e.code,{children:\"rows\"}),\" \\u7684\\u503C\\uFF0C\\u4F60\\u53EF\\u4EE5\\u63A7\\u5236\\u7F51\\u683C\\u7684\\u5BC6\\u5EA6\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"image.png\",src:\"https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/aaadd806c2824918b69d7b45e8294b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcHp6eg==:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTM4MDY0MjMzNjAyNjgxMyJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1734229401&x-orig-sign=lWuEbHZgsSbVC7pwncAvNLOvTlU%3D\"})})]})}function p(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(d,{...a})}):d(a)}return y(x);})();\n;return Component;"
  },
  "_id": "articles/three/three-grid.mdx",
  "_raw": {
    "sourceFilePath": "articles/three/three-grid.mdx",
    "sourceFileName": "three-grid.mdx",
    "sourceFileDir": "articles/three",
    "contentType": "mdx",
    "flattenedPath": "articles/three/three-grid"
  },
  "type": "Blog",
  "readingTime": {
    "text": "7 min read",
    "minutes": 6.195,
    "time": 371700,
    "words": 1239
  },
  "slug": "three/three-grid",
  "path": "articles/three/three-grid",
  "filePath": "articles/three/three-grid.mdx",
  "toc": [
    {
      "value": "使用 Three.js 和 React 创建动态网格效果",
      "url": "#使用-threejs-和-react-创建动态网格效果",
      "depth": 3
    },
    {
      "value": "先决条件",
      "url": "#先决条件",
      "depth": 3
    },
    {
      "value": "创建项目结构",
      "url": "#创建项目结构",
      "depth": 3
    },
    {
      "value": "代码解析",
      "url": "#代码解析",
      "depth": 3
    },
    {
      "value": "初始化场景和摄像机",
      "url": "#初始化场景和摄像机",
      "depth": 4
    },
    {
      "value": "创建渲染器并将其附加到 DOM",
      "url": "#创建渲染器并将其附加到-dom",
      "depth": 4
    },
    {
      "value": "顶点和片段着色器",
      "url": "#顶点和片段着色器",
      "depth": 4
    },
    {
      "value": "平面几何体和材质",
      "url": "#平面几何体和材质",
      "depth": 4
    },
    {
      "value": "渲染循环",
      "url": "#渲染循环",
      "depth": 4
    },
    {
      "value": "资源清理",
      "url": "#资源清理",
      "depth": 4
    },
    {
      "value": "运行效果",
      "url": "#运行效果",
      "depth": 3
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "使用 Three.js 和 着色器绘制网格",
    "datePublished": "2016-03-08T00:00:00.000Z",
    "dateModified": "2016-03-08T00:00:00.000Z",
    "description": "\r",
    "image": "/static/images/twitter-card.png",
    "url": "https://github.com/ajiangpz/articles/three/three-grid"
  }
}