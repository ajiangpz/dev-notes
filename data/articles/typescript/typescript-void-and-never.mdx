---
title: typescript ä¸­çš„void å’Œ neverç±»å‹
date: "2025-05-28"
tags: ["typescript"]
summary: "typescript ä¸­çš„ void å’Œ never ç±»å‹"
---

åœ¨ TypeScript ä¸­ï¼Œ`never` å’Œ `void` éƒ½è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œä½†å®ƒä»¬çš„è¯­ä¹‰å’Œä½¿ç”¨åœºæ™¯æ˜¯**å®Œå…¨ä¸åŒçš„**ã€‚ä¸‹é¢æ˜¯è¯¦ç»†çš„åŒºåˆ«ï¼š

---

## âœ… 1. **`void` çš„å«ä¹‰**

`void` è¡¨ç¤º **â€œæ²¡æœ‰è¿”å›å€¼â€**ï¼Œç”¨äºå‡½æ•°è¿”å›ç±»å‹æ—¶ï¼Œè¡¨ç¤ºå‡½æ•°æ‰§è¡Œåä¸ä¼šè¿”å›æœ‰æ„ä¹‰çš„å€¼ï¼ˆä½†å¯èƒ½æ‰§è¡Œå®Œæ¯•ï¼‰ã€‚

### ç¤ºä¾‹ï¼š

```ts
function logMessage(message: string): void {
  console.log(message);
}
```

è¿™ä¸ªå‡½æ•°**æ‰§è¡Œåè¿”å› `undefined`**ï¼Œä½†ä¸æœŸæœ›è¿”å›ä»»ä½•ä¸œè¥¿ã€‚

### ç‰¹ç‚¹ï¼š

* å¯è¿”å› `undefined` æˆ–ä»€ä¹ˆéƒ½ä¸å†™ã€‚
* åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°é»˜è®¤è¿”å› `undefined`ï¼Œè¿™å’Œ `void` æ˜¯å…¼å®¹çš„ã€‚

---

## âœ… 2. **`never` çš„å«ä¹‰**

`never` è¡¨ç¤º **â€œæ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼â€**ï¼Œå³ï¼š

* å‡½æ•°æ°¸è¿œä¸ä¼šç»“æŸï¼ˆå¦‚æ— é™å¾ªç¯ï¼‰
* å‡½æ•°ä¼šæŠ›å‡ºé”™è¯¯

### ç¤ºä¾‹ï¼š

```ts
function throwError(message: string): never {
  throw new Error(message);
}

function infiniteLoop(): never {
  while (true) {}
}
```

### ç‰¹ç‚¹ï¼š

* è¡¨ç¤º**ä»£ç æ°¸è¿œä¸ä¼šåˆ°è¾¾å‡½æ•°è¿”å›ç‚¹**ã€‚
* `never` æ˜¯ TypeScript ä¸­æœ€åº•å±‚çš„ç±»å‹ï¼šå®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œä½†æ²¡æœ‰ä»»ä½•ç±»å‹æ˜¯å®ƒçš„å­ç±»å‹ï¼ˆé™¤äº† `never` æœ¬èº«ï¼‰ã€‚

---

## âœ… 3. åŒºåˆ«æ€»ç»“è¡¨æ ¼

| ç‰¹æ€§     | `void`                      | `never`       |
| ------ | --------------------------- | ------------- |
| å«ä¹‰     | æ²¡æœ‰è¿”å›å€¼                       | æ°¸è¿œä¸ä¼šè¿”å›        |
| å¸¸è§åœºæ™¯   | æ­£å¸¸æ‰§è¡Œä½†ä¸è¿”å›                    | æŠ›å‡ºå¼‚å¸¸ã€æ­»å¾ªç¯      |
| æ˜¯å¦å¯ä»¥è¿”å› | å¯ä»¥è¿”å› `undefined` æˆ–ä¸å†™ return | ä¸èƒ½è¿”å›ï¼Œå‡½æ•°æ‰§è¡Œä¸ä¼šç»“æŸ |
| æ˜¯å¦èƒ½èµ‹å€¼  | å¯ä»¥èµ‹å€¼ä¸º `undefined`           | ä¸èƒ½èµ‹å€¼ä¸ºä»»ä½•å€¼      |
| æ˜¯å¦å¯è¾¾   | å‡½æ•°å¯ä»¥æ‰§è¡Œç»“æŸ                    | å‡½æ•°ä¸ä¼šæ‰§è¡Œç»“æŸ      |

---

## âœ… 4. ç¤ºä¾‹å¯¹æ¯”

```ts
function doSomething(): void {
  // æ­£å¸¸æ‰§è¡Œ
}

function fail(): never {
  throw new Error("fail");
}

let a: void = undefined; // âœ… åˆæ³•
let b: never = undefined; // âŒ æŠ¥é”™ï¼šType 'undefined' is not assignable to type 'never'
```

---

## âœ… 5. ç±»å‹æ¨æ–­ä¸­çš„ `never`

```ts
function handle(value: string | number) {
  if (typeof value === 'string') {
    // do something
  } else if (typeof value === 'number') {
    // do something
  } else {
    // è¿™é‡Œ value æ¨æ–­ä¸º neverï¼Œæ„å‘³ç€ä¸Šé¢çš„ç±»å‹åˆ†æ”¯å·²ç»è¦†ç›–æ‰€æœ‰æƒ…å†µ
    const check: never = value;
  }
}
```

è¿™æ˜¯ TypeScript ä¸­è¿›è¡Œç±»å‹ç©·å°½æ£€æŸ¥çš„æŠ€å·§ã€‚

---

## ğŸ”š æ€»ç»“ä¸€å¥è¯ï¼š

* `void`: è¡¨ç¤ºå‡½æ•°â€œæ‰§è¡Œå®Œäº†ï¼Œä½†ä¸è¿”å›å€¼â€ã€‚
* `never`: è¡¨ç¤ºå‡½æ•°â€œæ ¹æœ¬ä¸ä¼šæ‰§è¡Œå®Œï¼ˆæˆ–ä¸ä¼šè¿”å›ï¼‰â€ã€‚

ä½ å¯ä»¥æŠŠ `void` çœ‹ä½œæ˜¯â€œä»€ä¹ˆéƒ½æ²¡å¸¦å›æ¥â€ï¼Œè€Œ `never` æ˜¯â€œè¿å›æ¥éƒ½æ²¡å›æ¥â€ã€‚
