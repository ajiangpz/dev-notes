---
title: webpack å¸¸ç”¨æ’ä»¶æ€»ç»“
date: "2025-06-30"
tags: \["webpack"]
summary: "webpack å¸¸ç”¨æ’ä»¶æ€»ç»“"
---
---

## ğŸ“¦ åŸºç¡€åŠŸèƒ½ç±»æ’ä»¶

### 1. html-webpack-plugin

æ ¹æ® HTML æ¨¡æ¿ï¼Œè‡ªåŠ¨å¼•å…¥ç”Ÿæˆçš„ JS æ–‡ä»¶ã€‚

### 2. copy-webpack-plugin

å¤åˆ¶é™æ€èµ„æºåˆ°è¾“å‡ºç›®å½•ï¼ˆå¦‚ï¼šè¯­è¨€åŒ… JSONã€åœ°å›¾ JSON ç­‰æ— éœ€ç¼–è¯‘çš„æ–‡ä»¶ï¼‰ã€‚

### 3. clean-webpack-plugin

è‡ªåŠ¨æ¸…ç©ºæ„å»ºç›®å½•ï¼ˆå¦‚ `output.path`ï¼‰ï¼Œé¿å…æ—§æ–‡ä»¶å †ç§¯ã€‚

---

## ğŸ¨ æ ·å¼å¤„ç†ç›¸å…³æ’ä»¶

### 4. extract-text-webpack-pluginï¼ˆä»… webpack3ï¼‰

æå– CSS åˆ°å•ç‹¬æ–‡ä»¶ï¼Œå·²è¢« webpack5 æ›¿ä»£æ–¹æ¡ˆå–ä»£ã€‚

### 5. mini-css-extract-plugin

webpack5 ä¸­å°† CSS ä» JS ä¸­æå–ä¸ºå•ç‹¬æ–‡ä»¶ã€‚

```js
{
  test: /\.(scss|css)$/,
  use: [
    isProd ? MiniCssExtractPlugin.loader : 'style-loader',
    'css-loader',
    'sass-loader'
  ]
}
```

### 6. optimize-css-assets-webpack-pluginï¼ˆwebpack4ï¼‰

ç”¨äºå‹ç¼© CSS æ–‡ä»¶ï¼ˆé…åˆ `UglifyJsPlugin` ä½¿ç”¨ï¼‰ã€‚

### 7. css-minimizer-webpack-pluginï¼ˆwebpack5 æ¨èï¼‰

CSS å‹ç¼©æ’ä»¶ï¼Œæ”¯æŒå¤šçº¿ç¨‹ä¼˜åŒ–æ„å»ºæ€§èƒ½ã€‚

```js
optimization: {
  minimize: true,
  minimizer: [
    `...`,
    new CssMinimizerPlugin()
  ]
}
```



---

## ğŸš€ JS å‹ç¼©ä¸æ€§èƒ½ä¼˜åŒ–

### 8. uglifyjs-webpack-pluginï¼ˆwebpack4ï¼‰

ç”¨äº JS å‹ç¼©ï¼Œæ”¯æŒç¼“å­˜ä¸å¤šçº¿ç¨‹ã€‚

### 9. terser-webpack-pluginï¼ˆwebpack5ï¼‰

æ›¿ä»£ `uglifyjs-webpack-plugin`ï¼Œé»˜è®¤ç”¨äº JS å‹ç¼©ã€‚

```js
optimization: {
  minimize: true,
  minimizer: [new TerserPlugin()]
}
```

### 10. webpack.optimize.CommonsChunkPluginï¼ˆwebpack3ï¼‰

ç”¨äºæå–å…¬å…±æ¨¡å—ï¼Œéœ€æ‰‹åŠ¨é…ç½®ï¼Œå·²è¢« `splitChunks` æ›¿ä»£ã€‚

```js
new webpack.optimize.CommonsChunkPlugin({
  name: ['bundle', 'jquery', 'boot'],
  filename: 'js/libs/[name].js?[chunkhash:5]',
  minChunks: 2
})
```

### 11. webpack.ProvidePlugin

å…¨å±€è‡ªåŠ¨æ³¨å…¥ä¾èµ–å˜é‡ï¼ˆæ— éœ€ importï¼‰ã€‚

```js
new webpack.ProvidePlugin({
  Promise: 'es6-promise',
  $: 'jquery',
  jQuery: 'jquery'
})
```

---

## ğŸ§  æ„å»ºæ€§èƒ½ä¼˜åŒ–

### 12. HappyPackï¼ˆwebpack3ï¼‰

å¯ç”¨å¤šçº¿ç¨‹ç¼–è¯‘ï¼ˆå¯¹ loader åŠ é€Ÿï¼‰ã€‚

### 13. thread-loader

webpack4/5 é€šç”¨å¤šçº¿ç¨‹ loaderï¼ˆé€‚åˆ Babelã€TS ç­‰ï¼‰ã€‚

### 14. ForkTsCheckerWebpackPlugin

å°† TypeScript ç±»å‹æ£€æŸ¥ä»ä¸»çº¿ç¨‹ç§»å‡ºï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦ã€‚

### 15. ESLintWebpackPlugin

è‡ªåŠ¨åœ¨æ„å»ºè¿‡ç¨‹ä¸­æ£€æŸ¥ä»£ç è§„èŒƒã€‚

---

## ğŸ§© Vue ä¸“ç”¨æ’ä»¶

### 16. vue-loader

å¤„ç† `.vue` æ–‡ä»¶ï¼Œéœ€é…åˆ `VueLoaderPlugin` ä½¿ç”¨ã€‚

```js
const { VueLoaderPlugin } = require('vue-loader');

module.exports = {
  module: {
    rules: [
      { test: /\.vue$/, loader: 'vue-loader' },
      { test: /\.js$/, use: 'babel-loader' },
      { test: /\.css$/, use: ['vue-style-loader', 'css-loader'] }
    ]
  },
  plugins: [new VueLoaderPlugin()]
}
```

---

## ğŸ“Š æ„å»ºä½“ç§¯åˆ†æ

### 17. webpack-bundle-analyzer

åˆ†ææ„å»ºäº§ç‰©ä½“ç§¯ï¼Œç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šã€‚

```js
new BundleAnalyzerPlugin({
  analyzerMode: 'static',
  openAnalyzer: false
})
```

---

## ğŸ–¼ å›¾ç‰‡ä¼˜åŒ–æ’ä»¶

### 18. image-minimizer-webpack-plugin + imagemin ç³»åˆ—æ’ä»¶

ç”¨äºå‹ç¼©å›¾ç‰‡ï¼ˆJPGã€PNGã€SVGã€GIFï¼‰å¹¶ç”Ÿæˆ WebP æ ¼å¼å‰¯æœ¬ã€‚

```js
new ImageMinimizerPlugin({
  minimizer: {
    implementation: ImageMinimizerPlugin.imageminGenerate,
    options: {
      plugins: [
        ['mozjpeg', { quality: 75 }],
        ['pngquant', { quality: [0.6, 0.8] }],
        ['gifsicle', { interlaced: true }],
        ['svgo']
      ]
    }
  },
  generator: [
    {
      preset: 'webp',
      implementation: ImageMinimizerPlugin.imageminGenerate,
      options: {
        plugins: ['imagemin-webp']
      },
      filename: '[path][name].[hash:8].webp'
    }
  ]
})
```

å¯é…åˆ `asset/resource` ç±»å‹è¾“å‡ºä¼˜åŒ–å›¾ç‰‡è·¯å¾„å’Œå‘½åã€‚

---

### 19.webpack-spritesmith
æ˜¯ä¸€ä¸ªç”¨äºå°†å¤šå¼ å°å›¾åˆå¹¶æˆä¸€å¼ é›ªç¢§å›¾ï¼ˆsprite sheetï¼‰å¹¶è‡ªåŠ¨ç”Ÿæˆå¯¹åº” CSS/SASS çš„ Webpack æ’ä»¶ï¼Œé€‚ç”¨äºå‡å°‘ HTTP è¯·æ±‚æ•°ã€æå‡å‰ç«¯æ€§èƒ½çš„åœºæ™¯ã€‚
```js 
const path = require('path');
const SpritesmithPlugin = require('webpack-spritesmith');

module.exports = {
  plugins: [
    new SpritesmithPlugin({
      src: {
        cwd: path.resolve(__dirname, 'src/icons'),
        glob: '*.png'
      },
      target: {
        image: path.resolve(__dirname, 'src/assets/sprite.png'),
        css: [
          [path.resolve(__dirname, 'src/styles/_sprite.scss'), {
            // icon æ¨¡æ¿
            format: 'handlebars_based_template'
          }]
        ]
      },
      apiOptions: {
        cssImageRef: '~@/assets/sprite.png' // ç»™ SCSS ç”¨äº background-image çš„è·¯å¾„
      },
      customTemplates: {
        'handlebars_based_template': path.resolve(__dirname, 'sprite.template.handlebars')
      }
    })
  ]
};


//  ICON æ¨¡æ¿ handlebar
{{#each sprites}}
.icon-{{name}} {
  display: inline-block;
  background-image: url({{../spritesheet.image}});
  background-position: {{px.offset_x}} {{px.offset_y}};
  width: {{px.width}};
  height: {{px.height}};
}
{{/each}}


// ä½¿ç”¨

<template>
  <div class="icon icon-user"></div>
  <div class="icon icon-setting"></div>
</template>

<style lang="scss">
.icon {
  background-repeat: no-repeat;
}
</style>

```
